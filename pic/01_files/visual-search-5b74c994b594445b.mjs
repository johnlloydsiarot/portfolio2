(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[14865,51879,13047,97372,39395,83634,24661,90984,33312,50040,60299,42447,4787,93736,97593,88999,65980],{361600:e=>{var t,n,i,a,o,r,s,l,c={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"inviteCode"},n={defaultValue:null,kind:"LocalArgument",name:"inviteType"},i={defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtilityMutation",selections:[{alias:null,args:a=[{fields:[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"},{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"fromUserId",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[o,l={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"InvalidParameters",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,i],kind:"Operation",name:"AllShareOptionsUtilityMutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[r,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[l],type:"InvalidParameters",abstractKey:null}],storageKey:null}]},params:{id:"1705ed8db84c79dc12b83cafd1757686fa888571bbecd699295d011693ddd4cf",metadata:{},name:"AllShareOptionsUtilityMutation",operationKind:"mutation",text:null}};c.hash="7e73aab163ac599c2451f08566f2eb15",e.exports=c},865107:e=>{var t,n,i,a,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[a],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"6312848b4bb08588587683a04a42e4d0333e2e986fcab0cef4ed200786d3f5d9",metadata:{},name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};o.hash="bc8b32c56a4a58de585c9a05ae69bd9c",e.exports=o},16143:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubbleStory_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"ExploreArticle",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"identifierIconName",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"BubblesGridRep_story"}],type:"Story",abstractKey:null,hash:"1c6b4e45a045976cb346fc1824fa2578"};e.exports=t},165103:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubblesGridRep_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{args:null,kind:"FragmentSpread",name:"ExploreBubble_exploreArticle"}],type:"ExploreArticle",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null,hash:"bc3408725d4de6a75e59ac3d2aefd4b2"};e.exports=t},902856:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExploreBubble_exploreArticle",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColors",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifierIconType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyCategory",storageKey:null},{alias:null,args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:"coverImage236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"236x")'},{alias:"coverImage474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"474x")'},{alias:"coverImage136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"136x136")'},{alias:"coverImage170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"170x")'},{alias:"coverImage222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"222x")'},{alias:"coverImage90x90",args:[{kind:"Literal",name:"spec",value:"90x90"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"90x90")'}],type:"ExploreArticle",abstractKey:null};n.hash="d4ced24972924521b7c5a28216d06b32",e.exports=n},957872:e=>{var t,n,i,a,o,r,s,l,c,d,u,p,h,m,_,g,v,y,f,b,x,w,S,P={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"FlashlightPagePinQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},l={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},u={alias:"imageOrig",args:c=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},h={alias:"image736x",args:p=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"736x")'},_={alias:"image564x",args:m=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"564x")'},v={alias:"image474x",args:g=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"474x")'},f={alias:"image236x",args:y=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"236x")'},w={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:x=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"additionalImageOrig",args:c,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:b=[o,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:d,storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},{alias:"additionalImage564x",args:m,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:b,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImage736x",args:p,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:b,storageKey:'additionalImagesPerSpec(spec:"736x")'},{alias:"additionalImage474x",args:g,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:b,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImage236x",args:y,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:b,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"canonicalImages",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},S={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:x,storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FlashlightPagePinQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a,o,r,s,l,u,h,_,v,f,w,S,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"b609b5ee64693e67a5270d97d61bdd9990fd52a143b76f8a58d5253831f6d565",metadata:{},name:"FlashlightPagePinQuery",operationKind:"query",text:null}};P.hash="eacf29a36c8a49731348550fa2502e72",e.exports=P},190706:e=>{var t,n,i,a,o,r,s,l,c,d,u,p,h,m,_,g,v,y,f,b,x,w,S,P,T={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},s={alias:"imageOrig",args:o=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},c={alias:"image736x",args:l=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},u={alias:"image564x",args:d=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"564x")'},h={alias:"image474x",args:p=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},_={alias:"image236x",args:m=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[g={alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},y={alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[v={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageOrig",args:o,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:"image736x",args:l,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:"image564x",args:d,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"564x")'},{alias:"image474x",args:p,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"image236x",args:m,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'}],storageKey:null}],storageKey:null},x={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:b=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:"additionalImageOrig",args:o,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f=[v,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:r,storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},{alias:"additionalImage564x",args:d,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImage736x",args:l,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"736x")'},{alias:"additionalImage474x",args:p,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImage236x",args:m,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"236x")'}],storageKey:null}],storageKey:null},w={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:b,storageKey:null},S={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,a,s,c,u,h,_,{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[g,y,P={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},x,w,S,P],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"c849c16890001791719605eee00998b40fff9507756fec792bdb95a1a6c3feeb",metadata:{},name:"MobileFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}};T.hash="724f360ccc5e62a89e40f566310c2ff9",e.exports=T},7745:e=>{var t,n,i,a,o,r,s,l={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"invite_code"}],kind:"Fragment",metadata:null,name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCode",variableName:"invite_code"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a={alias:"first_name",args:null,kind:"ScalarField",name:"firstName",storageKey:null},o={alias:"is_default_image",args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},r={alias:"image_medium_url",args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a,o,r,s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},s],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"6ecc0f5ef5b300806765351890d4c30338f4cba0f2ed6262aebb971f8d13cedd",metadata:{},name:"PinCardSharedHeaderQuery",operationKind:"query",text:null}};l.hash="6113bb3593481961950c5053449014f3",e.exports=l},906587:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"total",plural:!1,selections:t,storageKey:null}],storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},n],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="72951c99039e6492a3eb8e9fcb5a22c3",e.exports=i},741316:e=>{var t,n,i,a,o,r,s,l,c,d,u,p,h,m,_,g,v,y,f={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},t,l={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c=[r,s,a,l],storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[n,d={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:_=[n,d,u,p,h,m],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},d,u,p,h,m],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:_,storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[o,g={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},v={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[i,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},v,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[n,i,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:_,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:_,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[n,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:y=[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},s,l,a],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:y,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i,a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextualMenu_pin"},{args:null,kind:"FragmentSpread",name:"UnauthProductAttribution_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null};f.hash="a96a2e1452907b49c7b6a3d6ccedf83c",e.exports=f},524861:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideoWithVisibility_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinVideo_pin"}],type:"Pin",abstractKey:null,hash:"27c8b43bacc2cae28ba09e1e523f1e58"};e.exports=t},365885:e=>{var t,n,i,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideo_pin",selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[t,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},n],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:i,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="f981fc372a34e44de18f6295d8e914c3",e.exports=a},860389:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PriceLego_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="5b16e8d36c1fe0135f65a9c3aaec6092",e.exports=n},276667:e=>{var t,n,i,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},i,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},t,{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null};a.hash="64effb4f1e63deaf1d53b77187d996de",e.exports=a},133132:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null,hash:"b5b71fb4390c1d3835e468a25f687669"};e.exports=t},964820:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null,hash:"e5a0b7dce2aa2313e4cf2c9871cbedf7"};e.exports=t},12617:e=>{var t,n={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}]}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};n.hash="1fbfb33774a77f6b481c8e10a98e0b9c",e.exports=n},535994:e=>{var t,n,i,a,o,r,s,l,c,d,u,p,h,m,_,g,v,y,f,b,x,w,S,P,T,k,I,A,C,E,j,R,D,O,L,F,N,M,z,Z,B,U,H,V,$,K,G,W,q,Y,J,X,Q,ee,te={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},v={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[_={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[y={alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:S=[f={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:S,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:P=[i,f,b,x,w],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:P,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:P,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i,T={alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},_,k={alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},g],storageKey:null},R={alias:"imageOrig",args:I=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j=[A={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},g,C={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null}],storageKey:'images(spec:"orig")'},O={alias:"image564x",args:D=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:'images(spec:"564x")'},F={alias:"image736x",args:L=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:'images(spec:"736x")'},M={alias:"image474x",args:N=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:'images(spec:"474x")'},Z={alias:"image236x",args:z=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:'images(spec:"236x")'},B={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},Y={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[o,l,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[_,{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[_,C],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[_,U={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null}],storageKey:null},V={alias:"additionalImageOrig",args:I,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:H=[a,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[E,g,A],storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},$={alias:"additionalImage564x",args:D,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:H,storageKey:'additionalImagesPerSpec(spec:"564x")'},K={alias:"additionalImage736x",args:L,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:H,storageKey:'additionalImagesPerSpec(spec:"736x")'},G={alias:"additionalImage474x",args:N,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:H,storageKey:'additionalImagesPerSpec(spec:"474x")'},W={alias:"additionalImage236x",args:z,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:H,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[a,q={alias:null,args:null,kind:"ScalarField",name:"canonicalImages",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},J={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[_,U,V,$,K,G,W,{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[q,a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,a,o,r,s,l,c,d,u,p,h,m,v,{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[y,X={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:Q=[f,b,x,w,X],storageKey:null},X],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:Q,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:ee=[i,f,b,x,w,X],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i,T,_,k,g,X],storageKey:null},R,O,F,M,Z,B,Y,J,X],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"5f09d38fcc19ea4defe9a2ced0ea73c23f12ec0bc0e6d4bd4f24974e35d6e8ea",metadata:{},name:"UnauthDesktopFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}};te.hash="41066749b18be6f77425904cd44e3d69",e.exports=te},167074:e=>{var t,n={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"UnauthMobileContextMenu_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};n.hash="9c6f79da64586afb96dd80be65bca5a2",e.exports=n},975261:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthProductAttribution_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null,hash:"2fb133623620997264f81544f7f43636"};e.exports=t},224655:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null,hash:"594237c2ea6ccfb8bbc0e3e8c62cac9f"};e.exports=t},877821:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null,hash:"5645b1c5850647c98e4d2fefbb484bf4"};e.exports=t},604955:e=>{var t,n,i,a,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],kind:"Fragment",metadata:null,name:"boards_AcceptInvite_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"boards_AcceptInvite_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[a],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"684be4cb6a79ca32f82ddfa38f308039fdcaff0720a6118743e1e198085f1237",metadata:{},name:"boards_AcceptInvite_Mutation",operationKind:"mutation",text:null}};o.hash="c73ed7e5b29f046197e7dfcf7d7a7cd0",e.exports=o},518190:e=>{var t,n,i,a,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"boards_ApproveInvite_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"boards_ApproveInvite_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[a],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"1380a15fe95dc7713c5d72fd6104da573f3db5b8b0ab66f883bec351df4c8a71",metadata:{},name:"boards_ApproveInvite_Mutation",operationKind:"mutation",text:null}};o.hash="216cdb449b148a3d36e9d0621dcfcac5",e.exports=o},90105:e=>{var t,n,i,a,o,r,s={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"ban"},n={defaultValue:null,kind:"LocalArgument",name:"boardId"},i={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"boards_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:[{alias:null,args:a=[{fields:[{kind:"Variable",name:"ban",variableName:"ban"},{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,i,t],kind:"Operation",name:"boards_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[r],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"533aad425ad868e5a9d811bf76dccd56e54e0cc48c4c8b526ccbcd7c68efb981",metadata:{},name:"boards_DeclineOrDeleteBoardCollaboratorInvite_Mutation",operationKind:"mutation",text:null}};s.hash="b03dba13d39482d785778ba0feadca06",e.exports=s},472297:e=>{var t,n,i,a,o,r,s,l,c={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"}],kind:"Fragment",metadata:null,name:"boards_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{kind:"InlineFragment",selections:[i,{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},{kind:"InlineFragment",selections:[i,s={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"boards_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[o,r,l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},l],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},{kind:"InlineFragment",selections:[s],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"e100ea491b53ee042f6d9a7f42b583afafd9b8a730b43e06b81b9132821866ea",metadata:{},name:"boards_RemoveBoardCollaborators_Mutation",operationKind:"mutation",text:null}};c.hash="ecec88eadc69c1153ca5e0c4bfe03fd9",e.exports=c},787525:e=>{var t,n,i,a,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"emails"},{defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"boards_emails_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"emails",variableName:"emails"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"V3InviteBoardCollaboratorEmail",abstractKey:null},{kind:"InlineFragment",selections:[i,a={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"boards_emails_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[a],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"4d372bf76e6f77707e9106c02f73ec23773c4bd7e457dc684ea7dd1b87985c7c",metadata:{},name:"boards_emails_Mutation",operationKind:"mutation",text:null}};o.hash="0659a1edf1c7935aff1deef3f51f2add",e.exports=o},16945:e=>{var t,n,i,a,o,r,s={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"boardId"},n={defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"},i={defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"boards_users_Mutation",selections:[{alias:null,args:a=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,i],kind:"Operation",name:"boards_users_Mutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[r],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"9495c71001fb315e3dc5e63ec17a8d8d5a4fb53ebc7f791b44093a4a92665835",metadata:{},name:"boards_users_Mutation",operationKind:"mutation",text:null}};s.hash="743ce0da1ac8191550520ebe045b4fb0",e.exports=s},569772:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"35075da6e1f4b526ac4314727015c44d"};e.exports=t},96795:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImagesFragment_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};n.hash="8dd4c9c753d2a67c0606dfff23b820e9",e.exports=n},110767:e=>{var t,n,i,a,o,r,s,l,c={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"isAuth"},n={defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useUnauthContextMenuQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:a=[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"},{args:a,kind:"FragmentSpread",name:"UnauthMobileContextMenu_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t],kind:"Operation",name:"useUnauthContextMenuQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:r,storageKey:null},o],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}]}],storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},o],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"db5062450db0e02738a779a9cdc581b0b7c368d249bd91b591baf576f0d7dece",metadata:{},name:"useUnauthContextMenuQuery",operationKind:"query",text:null}};c.hash="7c726e4c4d9c734b1de6ea24d96a42a1",e.exports=c},240684:(e,t,n)=>{n.d(t,{TA:()=>I,ZP:()=>C});var i=n(667294),a=n(263366),o=n(487462),r=n(497326),s=n(875068),l=n(659864),c=n(108679),d=n.n(c);function u(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}function p(e){console.warn("loadable: "+e)}var h=i.createContext();function m(e){return e+"__LOADABLE_REQUIRED_CHUNKS__"}var _={initialChunks:{}},g="PENDING",v="REJECTED";var y=function(e){return e};function f(e){var t=e.defaultResolveComponent,n=void 0===t?y:t,c=e.render,p=e.onLoad;function m(e,t){void 0===t&&(t={});var m=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),y={};function f(e){return t.cacheKey?t.cacheKey(e):m.resolve?m.resolve(e):"static"}function b(e,i,a){var o=t.resolveComponent?t.resolveComponent(e,i):n(e);if(t.resolveComponent&&!(0,l.isValidElementType)(o))throw new Error("resolveComponent returned something that is not a React component!");return d()(a,o,{preload:!0}),o}var x,w=function(e){function n(n){var i;return(i=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:f(n)},u(!n.__chunkExtractor||m.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(m.requireAsync(n).catch((function(){return null})),i.loadSync(),n.__chunkExtractor.addChunk(m.chunkName(n))),(0,r.Z)(i)):(!1!==t.ssr&&(m.isReady&&m.isReady(n)||m.chunkName&&_.initialChunks[m.chunkName(n)])&&i.loadSync(),i)}(0,s.Z)(n,e),n.getDerivedStateFromProps=function(e,t){var n=f(e);return(0,o.Z)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var i=n.prototype;return i.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===v&&this.setCache(),this.state.loading&&this.loadAsync()},i.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},i.componentWillUnmount=function(){this.mounted=!1},i.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},i.getCacheKey=function(){return f(this.props)},i.getCache=function(){return y[this.getCacheKey()]},i.setCache=function(e){void 0===e&&(e=void 0),y[this.getCacheKey()]=e},i.triggerOnLoad=function(){var e=this;p&&setTimeout((function(){p(e.state.result,e.props)}))},i.loadSync=function(){if(this.state.loading)try{var e=b(m.requireSync(this.props),this.props,P);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:m.resolve(this.props),chunkName:m.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},i.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=b(t,e.props,{Loadable:P});e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},i.resolveAsync=function(){var e=this,t=this.props,n=(t.__chunkExtractor,t.forwardedRef,(0,a.Z)(t,["__chunkExtractor","forwardedRef"])),i=this.getCache();return i||((i=m.requireAsync(n)).status=g,this.setCache(i),i.then((function(){i.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:m.resolve(e.props),chunkName:m.chunkName(e.props),error:t?t.message:t}),i.status=v}))),i},i.render=function(){var e=this.props,n=e.forwardedRef,i=e.fallback,r=(e.__chunkExtractor,(0,a.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),s=this.state,l=s.error,d=s.loading,u=s.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===g)throw this.loadAsync();if(l)throw l;var p=i||t.fallback||null;return d?p:c({fallback:p,result:u,options:t,props:(0,o.Z)({},r,{ref:n})})},n}(i.Component),S=(x=w,function(e){return i.createElement(h.Consumer,null,(function(t){return i.createElement(x,Object.assign({__chunkExtractor:t},e))}))}),P=i.forwardRef((function(e,t){return i.createElement(S,Object.assign({forwardedRef:t},e))}));return P.preload=function(e){m.requireAsync(e)},P.load=function(e){return m.requireAsync(e)},P}return{loadable:m,lazy:function(e,t){return m(e,(0,o.Z)({},t,{suspense:!0}))}}}var b=f({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return i.createElement(t,n)}}),x=b.loadable,w=b.lazy,S=f({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),P=S.loadable,T=S.lazy,k="undefined"!=typeof window;function I(e,t){void 0===e&&(e=function(){});var n=(void 0===t?{}:t).namespace,i=void 0===n?"":n;if(!k)return p("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var a=null;if(k){var o=m(i),r=document.getElementById(o);if(r){a=JSON.parse(r.textContent);var s=document.getElementById(o+"_ext");if(!s)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(s.textContent).namedChunks.forEach((function(e){_.initialChunks[e]=!0}))}}if(!a)return p("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var l=!1;return new Promise((function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,n=t.push.bind(t);function i(){a.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(l||(l=!0,e()))}t.push=function(){n.apply(void 0,arguments),i()},i()})).then(e)}var A=x;A.lib=P,w.lib=T;const C=A},850115:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},379507:e=>{e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},637956:e=>{e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},909745:e=>{e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},128206:e=>{e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},604077:e=>{e.exports="https://s.pinimg.com/webapp/handle_bottom_left-80eb8fea.svg"},777506:e=>{e.exports="https://s.pinimg.com/webapp/handle_bottom_right-61aecc74.svg"},641696:e=>{e.exports="https://s.pinimg.com/webapp/handle_top_left-892a69ad.svg"},105879:e=>{e.exports="https://s.pinimg.com/webapp/handle_top_right-ee54bc08.svg"},108679:(e,t,n)=>{var i=n(121296),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return i.isMemo(e)?r:s[e.$$typeof]||a}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=r;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(m){var a=h(n);a&&a!==m&&e(t,a,i)}var r=d(n);u&&(r=r.concat(u(n)));for(var s=l(t),_=l(n),g=0;g<r.length;++g){var v=r[g];if(!(o[v]||i&&i[v]||_&&_[v]||s&&s[v])){var y=p(n,v);try{c(t,v,y)}catch(f){}}}}return t}},396103:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,r=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case u:case o:case s:case r:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case l:return e;default:return t}}case _:case m:case a:return t}}}function v(e){return g(e)===u}t.typeOf=g,t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=p,t.Fragment=o,t.Lazy=_,t.Memo=m,t.Portal=a,t.Profiler=s,t.StrictMode=r,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===u||e===s||e===r||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p)},t.isAsyncMode=function(e){return v(e)||g(e)===d},t.isConcurrentMode=v,t.isContextConsumer=function(e){return g(e)===c},t.isContextProvider=function(e){return g(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return g(e)===p},t.isFragment=function(e){return g(e)===o},t.isLazy=function(e){return g(e)===_},t.isMemo=function(e){return g(e)===m},t.isPortal=function(e){return g(e)===a},t.isProfiler=function(e){return g(e)===s},t.isStrictMode=function(e){return g(e)===r},t.isSuspense=function(e){return g(e)===h}},121296:(e,t,n)=>{e.exports=n(396103)},896874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},477412:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},286556:(e,t,n)=>{var i=n(789465),a=n(977813);e.exports=function(e,t,n){(void 0!==n&&!a(e[t],n)||void 0===n&&!(t in e))&&i(e,t,n)}},234865:(e,t,n)=>{var i=n(789465),a=n(977813),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var r=e[t];o.call(e,t)&&a(r,n)&&(void 0!==n||t in e)||i(e,t,n)}},744037:(e,t,n)=>{var i=n(698363),a=n(3674);e.exports=function(e,t){return e&&i(t,a(t),e)}},163886:(e,t,n)=>{var i=n(698363),a=n(481704);e.exports=function(e,t){return e&&i(t,a(t),e)}},789465:(e,t,n)=>{var i=n(538777);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},285990:(e,t,n)=>{var i=n(646384),a=n(477412),o=n(234865),r=n(744037),s=n(163886),l=n(364626),c=n(200278),d=n(318805),u=n(201911),p=n(458234),h=n(946904),m=n(664160),_=n(43824),g=n(529148),v=n(738517),y=n(701469),f=n(644144),b=n(356688),x=n(513218),w=n(472928),S=n(3674),P=n(481704),T="[object Arguments]",k="[object Function]",I="[object Object]",A={};A[T]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[I]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[k]=A["[object WeakMap]"]=!1,e.exports=function e(t,n,C,E,j,R){var D,O=1&n,L=2&n,F=4&n;if(C&&(D=j?C(t,E,j,R):C(t)),void 0!==D)return D;if(!x(t))return t;var N=y(t);if(N){if(D=_(t),!O)return c(t,D)}else{var M=m(t),z=M==k||"[object GeneratorFunction]"==M;if(f(t))return l(t,O);if(M==I||M==T||z&&!j){if(D=L||z?{}:v(t),!O)return L?u(t,s(D,t)):d(t,r(D,t))}else{if(!A[M])return j?t:{};D=g(t,M,O)}}R||(R=new i);var Z=R.get(t);if(Z)return Z;R.set(t,D),w(t)?t.forEach((function(i){D.add(e(i,n,C,i,t,R))})):b(t)&&t.forEach((function(i,a){D.set(a,e(i,n,C,a,t,R))}));var B=N?void 0:(F?L?h:p:L?P:S)(t);return a(B||t,(function(i,a){B&&(i=t[a=i]),o(D,a,e(i,n,C,a,t,R))})),D}},603118:(e,t,n)=>{var i=n(513218),a=Object.create,o=function(){function e(){}return function(t){if(!i(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},228483:(e,t,n)=>{var i=n(225063)();e.exports=i},225588:(e,t,n)=>{var i=n(664160),a=n(637005);e.exports=function(e){return a(e)&&"[object Map]"==i(e)}},829221:(e,t,n)=>{var i=n(664160),a=n(637005);e.exports=function(e){return a(e)&&"[object Set]"==i(e)}},710313:(e,t,n)=>{var i=n(513218),a=n(225726),o=n(133498),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return o(e);var t=a(e),n=[];for(var s in e)("constructor"!=s||!t&&r.call(e,s))&&n.push(s);return n}},642980:(e,t,n)=>{var i=n(646384),a=n(286556),o=n(228483),r=n(559783),s=n(513218),l=n(481704),c=n(636390);e.exports=function e(t,n,d,u,p){t!==n&&o(n,(function(o,l){if(p||(p=new i),s(o))r(t,n,l,d,e,u,p);else{var h=u?u(c(t,l),o,l+"",t,n,p):void 0;void 0===h&&(h=o),a(t,l,h)}}),l)}},559783:(e,t,n)=>{var i=n(286556),a=n(364626),o=n(477133),r=n(200278),s=n(738517),l=n(135694),c=n(701469),d=n(229246),u=n(644144),p=n(623560),h=n(513218),m=n(968630),_=n(936719),g=n(636390),v=n(959881);e.exports=function(e,t,n,y,f,b,x){var w=g(e,n),S=g(t,n),P=x.get(S);if(P)i(e,n,P);else{var T=b?b(w,S,n+"",e,t,x):void 0,k=void 0===T;if(k){var I=c(S),A=!I&&u(S),C=!I&&!A&&_(S);T=S,I||A||C?c(w)?T=w:d(w)?T=r(w):A?(k=!1,T=a(S,!0)):C?(k=!1,T=o(S,!0)):T=[]:m(S)||l(S)?(T=w,l(w)?T=v(w):h(w)&&!p(w)||(T=s(S))):k=!1}k&&(x.set(S,T),f(T,S,y,b,x),x.delete(S)),i(e,n,T)}}},105976:(e,t,n)=>{var i=n(406557),a=n(545357),o=n(430061);e.exports=function(e,t){return o(a(e,t,i),e+"")}},356560:(e,t,n)=>{var i=n(575703),a=n(538777),o=n(406557),r=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:o;e.exports=r},274318:(e,t,n)=>{var i=n(611149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},364626:(e,t,n)=>{e=n.nmd(e);var i=n(555639),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,r=o&&o.exports===a?i.Buffer:void 0,s=r?r.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}},257157:(e,t,n)=>{var i=n(274318);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},593147:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},540419:(e,t,n)=>{var i=n(562705),a=i?i.prototype:void 0,o=a?a.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},477133:(e,t,n)=>{var i=n(274318);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},200278:e=>{e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},698363:(e,t,n)=>{var i=n(234865),a=n(789465);e.exports=function(e,t,n,o){var r=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],d=o?o(n[c],e[c],c,n,e):void 0;void 0===d&&(d=e[c]),r?a(n,c,d):i(n,c,d)}return n}},318805:(e,t,n)=>{var i=n(698363),a=n(799551);e.exports=function(e,t){return i(e,a(e),t)}},201911:(e,t,n)=>{var i=n(698363),a=n(151442);e.exports=function(e,t){return i(e,a(e),t)}},321463:(e,t,n)=>{var i=n(105976),a=n(816612);e.exports=function(e){return i((function(t,n){var i=-1,o=n.length,r=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(r=e.length>3&&"function"==typeof r?(o--,r):void 0,s&&a(n[0],n[1],s)&&(r=o<3?void 0:r,o=1),t=Object(t);++i<o;){var l=n[i];l&&e(t,l,i,r)}return t}))}},225063:e=>{e.exports=function(e){return function(t,n,i){for(var a=-1,o=Object(t),r=i(t),s=r.length;s--;){var l=r[e?s:++a];if(!1===n(o[l],l,o))break}return t}}},538777:(e,t,n)=>{var i=n(610852),a=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},946904:(e,t,n)=>{var i=n(868866),a=n(151442),o=n(481704);e.exports=function(e){return i(e,o,a)}},385924:(e,t,n)=>{var i=n(205569)(Object.getPrototypeOf,Object);e.exports=i},151442:(e,t,n)=>{var i=n(862488),a=n(385924),o=n(799551),r=n(770479),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,o(e)),e=a(e);return t}:r;e.exports=s},43824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,i=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},529148:(e,t,n)=>{var i=n(274318),a=n(257157),o=n(593147),r=n(540419),s=n(477133);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return a(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Set]":return new l;case"[object Symbol]":return r(e)}}},738517:(e,t,n)=>{var i=n(603118),a=n(385924),o=n(225726);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:i(a(e))}},816612:(e,t,n)=>{var i=n(977813),a=n(498612),o=n(565776),r=n(513218);e.exports=function(e,t,n){if(!r(n))return!1;var s=typeof t;return!!("number"==s?a(n)&&o(t,n.length):"string"==s&&t in n)&&i(n[t],e)}},133498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},545357:(e,t,n)=>{var i=n(896874),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,r=-1,s=a(o.length-t,0),l=Array(s);++r<s;)l[r]=o[t+r];r=-1;for(var c=Array(t+1);++r<t;)c[r]=o[r];return c[t]=n(l),i(e,this,c)}}},636390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},430061:(e,t,n)=>{var i=n(356560),a=n(521275)(i);e.exports=a},521275:e=>{var t=Date.now;e.exports=function(e){var n=0,i=0;return function(){var a=t(),o=16-(a-i);if(i=a,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},150361:(e,t,n)=>{var i=n(285990);e.exports=function(e){return i(e,5)}},575703:e=>{e.exports=function(e){return function(){return e}}},406557:e=>{e.exports=function(e){return e}},229246:(e,t,n)=>{var i=n(498612),a=n(637005);e.exports=function(e){return a(e)&&i(e)}},356688:(e,t,n)=>{var i=n(225588),a=n(307518),o=n(531167),r=o&&o.isMap,s=r?a(r):i;e.exports=s},968630:(e,t,n)=>{var i=n(644239),a=n(385924),o=n(637005),r=Function.prototype,s=Object.prototype,l=r.toString,c=s.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=i(e))return!1;var t=a(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}},472928:(e,t,n)=>{var i=n(829221),a=n(307518),o=n(531167),r=o&&o.isSet,s=r?a(r):i;e.exports=s},481704:(e,t,n)=>{var i=n(14636),a=n(710313),o=n(498612);e.exports=function(e){return o(e)?i(e,!0):a(e)}},682492:(e,t,n)=>{var i=n(642980),a=n(321463)((function(e,t,n){i(e,t,n)}));e.exports=a},959881:(e,t,n)=>{var i=n(698363),a=n(481704);e.exports=function(e){return i(e,a(e))}},869921:(e,t)=>{var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,r=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,_=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,f=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case u:case o:case s:case r:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case _:case l:return e;default:return t}}case a:return t}}}function w(e){return x(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=p,t.Fragment=o,t.Lazy=g,t.Memo=_,t.Portal=a,t.Profiler=s,t.StrictMode=r,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||x(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return x(e)===p},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===_},t.isPortal=function(e){return x(e)===a},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===r},t.isSuspense=function(e){return x(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===u||e===s||e===r||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===_||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===y||e.$$typeof===f||e.$$typeof===b||e.$$typeof===v)},t.typeOf=x},659864:(e,t,n)=>{e.exports=n(869921)},542473:e=>{var t=function(){};e.exports=t},269458:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/visual-search"]=function(){return n(621317).Z}},686180:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(635240),a=n(427014),o=n(172071),r=n(550858),s=n(762752),l=n(735422);const c=1,d=3;const u=new class{constructor(){this.versionState=c,this.preparingNewVersion=!1}checkVersion(e,t,n){const c=(0,i.Z)(),{isAuthenticated:u,userAgent:{isMobile:p,isTablet:h}}=n,m=u&&!p&&!h;if(e!==c){var _,g;if(this.versionState!==d)(0,a.Z)({appType:n.appTypeDetailed,currVersion:(0,i.Z)(),deviceType:m?"desktop":"mobile",eventType:"signal",eventName:"new_version_required",isBot:null!==(_=n.isBot)&&void 0!==_&&_,nextVersion:e,originHost:t,stage:null!==(g=n.stage)&&void 0!==g?g:"unknown"}),this.versionState=d;e===this.nextVersion||this.preparingNewVersion||(this.preparingNewVersion=!0,m?(0,s.N)().catch((()=>(0,s.D)("checkVersion"))).finally((()=>{this.preparingNewVersion=!1})):((0,l.Ng)().catch((()=>(o.Z.increment("mweb_service_worker.prepareNewVersion.error",1),(0,l.Dm)()))).finally((()=>{o.Z.increment("mweb.new_version.refresh",1),this.preparingNewVersion=!1})),(0,r.Qi)()),this.nextVersion=e)}}isNewVersionRequired(){return this.versionState===d}}},214494:(e,t,n)=>{n.d(t,{Z:()=>k,N:()=>I});var i=n(686180),a=n(387246),o=n(813171),r=n(718368);var s=n(56641),l=n(124237);var c=n(323716),d=n(643913),u=n(204088),p=n(432300),h=n(172071),m=n(422722),_=n(170815),g=n(584595),v=n(826067),y=n(7789),f=n(966113),b=n(801645),x=n(735422),w=n(176532);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let P=!0;window.addEventListener("focus",(()=>P=!0)),window.addEventListener("blur",(()=>P=!1));const T=["ActiveUserResource","ActivateExperimentResource","ContextLogResource","UserRegisterTrackActionResource"];class k{constructor(e,t){if(S(this,"abortCallback",null),S(this,"isBackgroundSyncEnabled",!1),this.name=e,this.options=t?{...t}:{},this.isBackgroundSyncEnabled=((e,t)=>(0,x._P)()&&T.includes(e)&&!!t.id)(e,k.initialUser),window)try{window.onunhandledrejection=()=>{}}catch(n){}}static create(e,t){return new k(e,t||{})}_isUrlShortEnoughForHttpGet(e,t){return(e+"?"+(0,d.Z)(t)).length<=2e3}_isAuthDesktop(){const{isAuthenticated:e,userAgent:{isTablet:t,isMobile:n}}=k.requestContext;return e&&(!t&&!n)}abort(){this.abortCallback&&(this.abortCallback(),this.abortCallback=null)}isCalling(){return!!this.abortCallback}callGet(e,t={}){y.DQ&&(t["X-B3-Flags"]="1");const{logNetworkTimer:n,loggerComponentName:i}=this.options,a=n?new _.Z:null;return a&&a.start(),this.call("get",e,t).then((e=>(a&&(a.end(),m.default.logToServer(m.default.SERVER_LOG_TYPE.NETWORK_LOAD,m.default.HTTP_METHOD.POST,{timing:a.getCompletedTime(),component:i||this.name})),e)))}callCreate(e,t){return this.call("create",e,t)}callUpdate(e,t){return this.call("update",e,t)}callDelete(e,t){return this.call("delete",e,t)}async call(e,t,n){navigator.onLine||this.isBackgroundSyncEnabled||h.Z.increment("resource_factory_not_online",1,{resourceName:this.name});const i=!t||void 0===t.async||t.async,a=t&&t.timeout||null,o=this._call(e,i,a,n);try{const e=await o;this.onResponseSuccess(e)}catch(r){if(r&&19===r.api_error_code&&k.initialUser.is_write_banned)console.error("User is write banned");else if(t&&t.showError){const e=void 0;l.Z.showError(r.message,null,e)}}return o}getAjaxParams({async:e,headers:t,method:n,timeoutSeconds:i}){const a={options:this.options,context:{}},o=`/resource/${this.name}/${n}/`,r={source_url:(0,v.JJ)(),data:JSON.stringify(a)},s="get"===n&&this._isUrlShortEnoughForHttpGet(o,r);!s&&this.isBackgroundSyncEnabled&&h.Z.increment("background_sync_request_header",1,{resourceName:this.name});return[{cache:!1,url:o,async:e,data:r,headers:{...(0,u.Z)({experimentHash:k.requestContext.experimentsClient.latestExperimentHashFromServer||"",windowIsInFocus:P}),...t},timeout:i||0,type:s?"GET":"POST"},a]}_ajax(e,t){const{promise:n,abort:i}=(0,w.Z)(t);this.abortCallback=i;const s=!!(e&&e.options&&e.options.disable_auth_failure_redirect);return new Promise(((e,i)=>{n.then((e=>e.json().then((e=>({success:!0,data:e}))).catch((e=>({success:!1,error:e}))).then((t=>({res:e,parsed:t}))))).then((({res:n,parsed:l})=>{if(this.abortCallback=null,!l.success)return i({message:l.error.message,httpStatus:n.status}),void(this.shouldRedirectToLoginPage(n.status,s,t.url,void 0,this.getLoginState())&&this.redirectToLoginPage());const c=function(e){var t;const n=e.resource,i=e.resource_response.error;return{auxData:(0,a.Z)(e.resource_response),bookmarks:(null==n||null===(t=n.options)||void 0===t?void 0:t.bookmarks)||[r.q],client_context:e.client_context,request_identifier:e.request_identifier,resource_response:{data:e.resource_response.data,error:i?o.Z.fromPlainObject(i,e.resource_response.data):null}}}(l.data);c.originHost=n.headers.get("pinterest-generated-by")||void 0;const{error:d,data:u}=c.resource_response;if(d)if(this.shouldRedirectToLoginPage(d.http_status,s,t.url,d.api_error_code,this.getLoginState()))this.redirectToLoginPage();else if(401!==d.http_status||this.getLoginState()!==p.Z.LIMITED||"UserSessionResource"===this.name||"CreateExternalInviteResource"===this.name||s){if(401===d.http_status&&2===d.api_error_code&&"/resource/UserSessionResource/delete/"===t.url)return void e(c)}else this.showLimitedLoginPrompt(t.url,d.api_error_code);if(n.ok){if(!d){if(u&&u.redirect_url){var h,m,_;let e=u.redirect_url;const n=String((null===(h=t.data)||void 0===h?void 0:h.source_url)||"");return n.match(/pin\/.+\/activity\/tried\/.+/)&&(e=n.replace(/\/pin\/.+\/(?=activity\/tried)/,e)),void i({message:null!==(m=null===(_=k.i18n)||void 0===_?void 0:_._("Redirect"," - "," -- "))&&void 0!==m?m:"Redirect",httpStatus:301,redirectUrl:e})}e(c)}}else if(d){const{message:e,message_detail:t,data:n,extra_data:a,http_status:o,api_error_code:r}=d;i({message:e,message_detail:t,data:n,extraData:a,httpStatus:o,api_error_code:r})}else i({message:n.statusText,httpStatus:n.status})})).catch((e=>{this.abortCallback=null,i(e)}))}))}_call(e,t,n,i={}){this.abort();const[a,o]=this.getAjaxParams({async:t,headers:i,method:e,timeoutSeconds:n});return this._ajax(o,a)}onResponseSuccess(e){const t=this._isAuthDesktop(),n=e.client_context;if(n){const{active_experiments:o,app_version:r,triggerable_experiments:s,experiment_hash:l}=n;var a;if(i.Z.checkVersion(r,e.originHost,k.requestContext),k.requestContext.experimentsClient.latestExperimentHashFromServer!==l&&o&&s)h.Z.increment("webapp.experiments.updateExperimentCache",1,{appVersion:r,isAuthenticated:null===(a=e.client_context)||void 0===a?void 0:a.is_authenticated,target:t?"authDesktop":"duplo"}),k.requestContext.experimentsClient&&(k.requestContext.experimentsClient.latestExperimentHashFromServer=l)}if(e.bookmarks&&(this.options.bookmarks=e.bookmarks),k.contextLogger&&e.client_context&&!this.options.disable_event_log_info){const{event_log_info:t}=e.client_context;t&&"event_type"in t&&k.contextLogger.logContextEvent({...t,..."aux_data"in t?{aux_data:{...t.aux_data}}:null})}}getLoginState(){return k.initialUser.login_state}redirectToLoginPage(){(0,s.Z)(f.ZE,!1)}async logoutUser(e){const{userAgent:{isTablet:t,isMobile:i}}=k.requestContext,a=!t&&!i,{default:o}=await n.e(88454).then(n.bind(n,88454));o({logoutOnAbort:!0,reason:"authentication_failed",source:e,redirectUrl:a?f.ZE:null},(()=>{}),a)}showLimitedLoginPrompt(e,t){const n=this._isAuthDesktop();var i,a;(0,b.sh)({resourceUrl:e,currentPageUrl:(0,c.Z)(),subHeaderText:n?null:(i=k.i18n,null!==(a=null==i?void 0:i._('You\'ll need to log in to do that', 'limitedLogin.modalHeader.completeAction', 'Mobile web limited login modal to prompt users to log in in order to complete current action'))&&void 0!==a?a:"You'll need to log in to do that")}),h.Z.increment(n?"mweb.showLimitedLoginModal":"pure_react_resource.promptLoginForMoreOnResourceAuthError",1,{resource:this.name,resourceUrl:e,api_error_code:t})}shouldRedirectToLoginPage(e,t,n,i,a){return!(0,v.JJ)().startsWith("/login")&&((403!==e||2831!==i)&&(403===e&&a!==p.Z.DEFAULT||(401===e&&1001===i&&!t||(401!==e||i!==g.hE||"/resource/SentExternalInviteCallbackResource/create/"!==n)&&(401===e&&i===g.hE&&"/resource/UserSessionResource/delete/"!==n&&(this.logoutUser(n),!1)))))}}function I({initialUser:e,requestContext:t}){k.initialUser=e,k.requestContext=t}S(k,"i18n",null)},479218:(e,t,n)=>{n.d(t,{H:()=>d,Z:()=>c});var i=n(983722),a=n(914671),o=n(204088),r=n(214494);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l{constructor(e,t=5e3){s(this,"_flushTimer",null),s(this,"_listeningForWindowClose",!1),s(this,"_queue",[]),s(this,"flush",(()=>{if(this._flushTimer&&(clearTimeout(this._flushTimer),this._flushTimer=null),0!==this._queue.length)try{this._send(),this._queue=[]}catch(e){}})),this._queueMapper=e,this._flushTimeoutDelay=t}_send(){}enqueue(e){if(this._queue=[...this._queue,e],!this._flushTimer)try{this._flushTimer=setTimeout(this.flush,this._flushTimeoutDelay)}catch(t){this.flush()}this._listeningForWindowClose||(window.addEventListener("beforeunload",this.flush),this._listeningForWindowClose=!0)}}class c extends l{constructor(e,t,n=5e3){super(t,n),this._resourceName=e}_send(){r.Z.create(this._resourceName,this._queueMapper(this._queue)).callCreate()}}class d extends l{constructor(e,t,n,i=5e3){super(n,i),s(this,"_failedKeepAlive",!1),s(this,"_stickyFallback",!0),this._url=e,this._resourceName=t}_shouldFallback(){return this._failedKeepAlive&&this._stickyFallback}fetch(e){var t;const{getCsrfToken:s}=n(628551),l=null===(t=(0,i.Z)())||void 0===t?void 0:t.experimentsClient,c=(0,o.Z)({experimentHash:(null==l?void 0:l.latestExperimentHashFromServer)||"",windowIsInFocus:a.Z.windowIsInFocus});window.fetch(this._url,{method:"POST",mode:"same-origin",keepalive:!0,headers:{...c,"Content-Type":"application/json",Accept:"application/json","X-CSRFToken":s(),"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({data:{options:e}})}).catch((()=>{this._failedKeepAlive=!0,e.keepAlive="failed";r.Z.create(this._resourceName,e).callCreate()}))}_send(){if(this._shouldFallback()){const e=this._queueMapper(this._queue);e.keepAlive="fallback";r.Z.create(this._resourceName,e).callCreate()}else{const e=this._queueMapper(this._queue);e.keepAlive=!0,this.fetch(e)}}}},983722:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(608832);function a(){return(0,i.l)()}},172071:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(441143),a=n.n(i),o=n(479218);let r=null;const s=[];let l=null;function c(){s.length&&s.forEach((e=>e.flush()))}function d(e,t,n,i,l){a()(i>=0&&i<=1,`sampleRate must be between 0 and 1. Found ${String(i)}`);const c=[e,t,n,i,l];r||(r=new o.H("/resource/StatsLogResource/create/","StatsLogResource",(e=>({source:"browser",stats:e})),5e3),s.push(r)),r.enqueue(c)}const u={increment(e,t=.1,n={}){d(e,1,"c",t,n)},count(e,t,n=.1,i={}){d(e,t,"c",n,i)},timing(e,t,n=.1,i={}){d(e,t,"ms",n,i)},gauge(e,t,n=.1,i={}){d(e,t,"g",n,i)},incrementNow(e,t=.1,n={}){d(e,1,"c",t,n),c()},countNow(e,t,n=.1,i={}){d(e,t,"c",n,i),c()},timingNow(e,t,n=.1,i={}){d(e,t,"ms",n,i),c()},initServer(e){l=e},__test_only_get_queue:()=>r?r._queue:[],__test_only_clear(){r=null}}},832654:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(349700);function a(e,t){const{alt_text:n,auto_alt_text:a}=e;return n?(0,i.nk)(t._('This contains: {{ altText }}', 'web.altText', 'Alt text input by a human'),{altText:n}).join(""):a?(0,i.nk)(t._('This may contain: {{ autoAltText }}', 'web.altText', 'Alt text generated by a computer'),{autoAltText:a}).join(""):null}},695014:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),a=n(702664),o=n(616211),r=n(898781),s=n(214494);var l=n(883119),c=n(785893);function d({favorited:e,favoriteCount:t,isCloseupButton:n,onFavorite:d,onUnfavorite:u,pinId:p,size:h}){const m=(0,r.ZP)(),_=(0,a.useDispatch)(),[g,v]=(0,i.useState)(!1),[y,f]=(0,i.useState)(e),[b,x]=(0,i.useState)(null!=t?t:0),w=async()=>{var e;f(!y),v(!0),y?(x(b-1),await _((e=p,async t=>{await s.Z.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callDelete(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}(e))})),u(),v(!1)):(x(b+1),await _(function(e){return async t=>{await s.Z.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callCreate(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}(e))}}(p)),d(),v(!1))},S=b<10?b:m._('9+', 'favoriteButton.favoriteCountText', 'Text shown when greater than 9 favorites on Pin');return(0,c.jsxs)(l.kC,{alignItems:"center",gap:{row:1,column:0},children:[void 0!==t&&b>0&&(0,c.jsx)(l.xv,{size:"200",weight:"bold",children:S}),(0,c.jsx)(o.Z,{isCloseupButton:n,isDisabled:g,isFavorited:y,onTap:()=>{w()},size:h})]})}},578722:(e,t,n)=>{n.d(t,{H1:()=>c,HW:()=>o,iL:()=>l,pN:()=>s,s_:()=>r});var i=n(19121),a=n(773285);const o=new Date(2022,1,1);function r(){const{checkExperiment:e}=(0,a.F)(),t=["enabled_public","employees"].includes(e("web_ip_plays",{dangerouslySkipActivation:!0}).group),n=e("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled,i=e("android_ios_web_ip_plays_dark_reads").anyEnabled;return t||n||i}function s({isOwnPin:e,isStoryPin:t,pinCreationDate:n,surface:r}){const s=(0,i.Z)(),{checkExperiment:l}=(0,a.F)(),c=l("web_play_playtime_pin_stats",{dangerouslySkipActivation:!0}).anyEnabled,d=!!("CreatorProfileStoryPinGrid"===r&&t&&n&&n.getTime()>=o.getTime()&&c&&s.isPartner&&e)&&l("web_ip_plays").anyEnabled,u=["enabled_public","employees"].includes(l("web_ip_plays",{dangerouslySkipActivation:!0}).group);if("CreatorProfileStoryPinGrid"===r&&t&&n&&n.getTime()>=o.getTime()){if(s.isPartner)return e&&d||!e&&u;if(l("web_ip_pinner_plays").anyEnabled)return!0}return!1}function l({isOwnPin:e,isPartner:t}){const{checkExperiment:n}=(0,a.F)(),i=["enabled_public","employees"].includes(n("web_ip_plays",{dangerouslySkipActivation:!0}).group),o=n("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!(e||!(o&&!t||i&&t))}function c({isOwnPin:e,isPartner:t}){const{checkExperiment:n}=(0,a.F)(),i=n("web_ip_plays",{dangerouslySkipActivation:!0}).anyEnabled,o=n("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!(!e||!(i&&t||o&&!t))}},397066:(e,t,n)=>{n.d(t,{b:()=>d,h:()=>u});var i=n(983722),a=n(768559),o=n(43760),r=n(170168),s=n(619937),l=n(48714),c=n(366284);const d=({href:e,pinId:t,pin:n,location:o,auxData:d},u)=>{if(n&&n.is_promoted){var p,h,m,_;const w=(0,a.Z)({boardUrl:null===(p=n.board)||void 0===p?void 0:p.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:o,pinId:n.id,pinnerUserName:null===(h=n.pinner)||void 0===h?void 0:h.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map}),S=(0,l.nS)({url:e,pinId:t,csrId:null,clientTrackingParams:w,auxData:d}),P=(0,i.Z)();if((0,c.G6)(null!==(m=null==P?void 0:P.userAgent.browserName)&&void 0!==m?m:"")){var g,v;const{group:i}=null!==(g=null==P?void 0:P.experimentsClient.checkExperiment("m10n_event_conversion_measurement"))&&void 0!==g?g:{},a=null!=P&&null!==(v=P.userAgent)&&void 0!==v&&v.browserVersion?P.userAgent.browserVersion:"0.0",o=parseFloat(a.split(".")[0]+"."+a.split(".")[1]);if(void 0!==n.campaign_id&&o>=14.1&&["enabled_safari"].includes(i)){var y;const i=n.attribution_source_id?((e,t,n)=>{const i=document.createElement("a");return i.setAttribute("href",t),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block",i.setAttribute(s.$N.ATTRIBUTION_SOURCE_ID,e),i.setAttribute(s.$N.ATTRIBUTE_DESTINATION,n),i.setAttribute(s.$N.ATTRIBUTE_ON,n),i.click(),e})(n.attribution_source_id,S,e):((e,t,n)=>{const i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block";const a=""+(e%32*8+Math.floor(((new Date).getTime()-16409952e5)/864e5)%8);return i.setAttribute(s.$N.ATTRIBUTION_SOURCE_ID,a),i.setAttribute(s.$N.ATTRIBUTE_DESTINATION,n),i.setAttribute(s.$N.ATTRIBUTE_ON,n),i.click(),a})(null!==(y=n.pin_promotion_id)&&void 0!==y?y:0,S,e);return u({event_type:101,clientTrackingParams:w,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:n.pin_promotion_id||"",click_measurement_campaign_id:n.campaign_id||"",is_pcm:!0,attribution_source_id:i,page_url:e}}),!0}}else if((0,c.i7)(null!==(_=null==P?void 0:P.userAgent.browserName)&&void 0!==_?_:"")){var f,b;const{group:i}=null!==(f=null==P?void 0:P.experimentsClient.checkExperiment("m10n_event_conversion_measurement_chrome"))&&void 0!==f?f:{},a=null!=P&&null!==(b=P.userAgent)&&void 0!==b&&b.browserVersion?parseInt(P.userAgent.browserVersion.split(".")[0],10):0;if(void 0!==n.attribution_source_id&&a>=101&&["enabled"].includes(i)){var x;const i=((e,t,n)=>{const i=new URL(`${r.C0}/attribution_source/`);i.searchParams.set(s.NR.ATTRIBUTION_SOURCE_EVENT_ID,e),i.searchParams.set(s.NR.ATTRIBUTION_DESTINATION,n),i.searchParams.set(s.NR.ATTRIBUTION_EXPIRY,""+s.uV);const a=document.createElement("a");return a.setAttribute("href",t),a.setAttribute("target","_blank"),a.setAttribute("rel","noopener nofollow noreferrer"),a.style.cursor="pointer",a.style.display="block",a.setAttribute(s.NR.ATTRIBUTION_SOURCE,i.toString()),a.click(),e})(null!==(x=n.attribution_source_id)&&void 0!==x?x:"0",S,e);return u({event_type:101,clientTrackingParams:w,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:n.pin_promotion_id||"",click_measurement_campaign_id:n.campaign_id||"",is_arapi:!0,attribution_source_id:i,page_url:e}}),!0}}}return!1},u=({href:e,pinId:t,pin:n,location:i,auxData:r},s)=>{if("undefined"!=typeof window&&window.Windows)(0,o.Z)({url:e,pinId:t,pin:n,location:i,auxData:r});else{var c,u;if(d({href:e,pinId:t,pin:n,location:i,auxData:r},s))return;(0,l.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:(0,a.Z)({boardUrl:null==n||null===(c=n.board)||void 0===c?void 0:c.url,callToCreateSourcePinId:null==n?void 0:n.call_to_create_source_pin_id,location:i,pinId:null==n?void 0:n.id,pinnerUserName:null==n||null===(u=n.pinner)||void 0===u?void 0:u.username,storyPinDataId:null==n?void 0:n.story_pin_data_id,trackingParams:null==n?void 0:n.tracking_params,trackingParamsMap:null==n?void 0:n.tracking_params_map}),auxData:r})}}},955362:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var i=n(667294),a=n(702664),o=n(205202),r=n(248975),s=n(705147),l=n(883561),c=n(898781),d=n(199387),u=n(447948),p=n(623568),h=n(116674),m=n(576440),_=n(883119),g=n(785893);function v({feedbackData:e,feedbackType:t,pin:n,pinTitle:v,setForcePrimary:y,transparentBackground:f}){var b,x;const w=(0,c.ZP)(),S=(0,a.useDispatch)(),{viewParameter:P,viewType:T}=(0,m.E)(),{reportPin:k}=(0,h.f)(),[I,A]=(0,i.useState)(!1),[C,E]=(0,i.useState)(),{ad_match_reason:j,show_ad_reasons:R,board:D,category:O,description:L,id:F="",images:N,is_promoted:M,pinner:z,promoter:Z,recommendation_reason:B,source_interest:U,videos:H}=n;var V;const $=(V=M?60:50,function(e){return(0,l.ZP)((e||"").trim(),V)})(null!=L?L:""),K=(0,o.Z)(N,"236x"),G=(0,p.iR)(H),W=(0,d.Z)(101,{component:0,element:981,object_id_str:F,aux_data:{feedback_type:t}}),q=()=>{R||(y(!1),S((0,u.i0)(F)),A(!1))};return(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(_.xu,{"data-test-id":"feedback-button",ref:E,children:(0,g.jsx)(_.hU,{accessibilityLabel:w._('More information', 'accessibility label for overflow menu button', 'accessibility label for overflow menu button'),bgColor:f?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{I?q():(y(!0),A(!0)),W()},size:"sm"})}),I&&(0,g.jsx)(_.xu,{onFocus:e=>e.stopPropagation(),children:(0,g.jsx)(s.Z,{anchor:C,ad_match_reason:j,bestPinImgSrc:(0,r.Z)({images:n.images,embedSrc:null===(b=n.embed)||void 0===b?void 0:b.src,embedType:null===(x=n.embed)||void 0===x?void 0:x.type}),board:D,feedbackData:e,feedbackType:t,hideDownload:G,isPromoted:M,onLinkClick:()=>{I&&q()},onDismiss:q,onHide:q,onDownloadHideFlyout:()=>{y(!1),A(!1)},pinCategory:O,pinDescription:$,pinId:F,pinImgSrc:K,pinner:z,pinTitle:v,promoter:Z,recommendationReason:B,reportPin:()=>{k(n,P,T),q()},sourceInterest:U,viewParameter:P,viewType:T})})]})}},705147:(e,t,n)=>{n.d(t,{Z:()=>k});var i=n(667294),a=n(702664),o=n(238771),r=n(920085),s=n(149230),l=n(379884),c=n(852964),d=n(814197),u=n(760372),p=n(407043),h=n(350118),m=n(813401),_=n(827896),g=n(898781),v=n(680046),y=n(349700),f=n(447948),b=n(883119),x=n(55275),w=n(276775),S=n(785893);function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends i.Component{constructor(e){super(e),P(this,"getRecommendationDescription",(()=>{const{i18n:e,ad_match_reason:t,board:n,feedbackType:i,pinner:a,promoter:o,recommendationReason:r,sourceInterest:s}=this.props,l={i18n:e,makeNavigateLink:this.makeNavigateLink};switch(i){case"pfy":return(0,v.Ud)({...l,feedback:{type:"pfy"}});case"pfyBoard":return(0,v.Ud)({...l,feedback:{type:"pfyBoard",recommendationReasonBoard:(null==r?void 0:r.board)&&{name:r.board.name,url:r.board.url}}});case"topic":return(0,v.Ud)({...l,feedback:{type:"topic",sourceInterest:s&&s.name&&s.url_name?{name:s.name,url_name:s.url_name}:null}});case"followed":return(0,v.Ud)({...l,feedback:{type:"followed",followed:a&&a.explicitly_followed_by_me?{type:"pinner",pinner:a.full_name?{full_name:a.full_name,username:a.username}:null}:{type:"board",board:n&&n.name&&n.url?{name:n.name,url:n.url}:null}}});case"promoted":return(0,v.Ud)({...l,feedback:{type:"promoted",promoter:!t&&o&&o.full_name?{full_name:o.full_name,username:o.username}:null}});default:return null}})),P(this,"getRecommendationDescriptionImage",(()=>{const{board:e,feedbackType:t,pinner:n,recommendationReason:i}=this.props;if("followed"!==t&&"pfyBoard"!==t)return null;let a,o,r;return n&&n.explicitly_followed_by_me?(a=n.image_small_url,o="50%",r=`/${n.username}`):e&&e.image_thumbnail_url&&(a=e.image_thumbnail_url,o="4px",r=i&&i.board&&i.board.url||e.url),a?(0,S.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:o}},flex:"none",marginStart:3,overflow:"hidden",children:(0,S.jsx)(b.iP,{onTap:()=>{var e;return this.props.history.push(null!==(e=r)&&void 0!==e?e:"")},children:(0,S.jsx)(b.zd,{height:40,wash:!0,width:40,children:(0,S.jsx)(b.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:a})})})}):null})),P(this,"getUnfollowAction",(()=>{const{board:e,feedbackType:t,i18n:n,pinner:i,sourceInterest:a}=this.props;switch(t){case"followed":return i&&e?(0,v.oK)({i18n:n,makeNavigateLink:this.makeNavigateLink,boardId:e.id,display:i.explicitly_followed_by_me?{type:"pinner",data:{full_name:i.full_name,username:i.username}}:{type:"board",data:{name:e.name,url:e.url}}}):null;case"topic":if(!a)return null;const{id:t,name:o,url_name:r}=a;return t&&o&&r?(0,v.Iv)({i18n:n,makeNavigateLink:this.makeNavigateLink,sourceInterest:{id:t,name:o,url_name:r}}):null;default:return null}})),P(this,"getUndoText",(e=>"unfollowPinner"===e||"unfollowBoard"===e?this.props.i18n._('Follow again', 'Caption for button to undo a unfollowing of a topic', 'Caption for button to undo a unfollowing of a topic'):"")),P(this,"makeNavigateLink",((e,t,n,i)=>(0,S.jsx)(b.rU,{onClick:this.props.onLinkClick,href:t,display:"inlineBlock",underline:"hover",children:(0,S.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:i?{display:"inline",color:"white",textDecorationColor:"white"}:{display:"inline"}},children:n})},e))),P(this,"reportPinOption",(()=>({action:"reportPin",elementType:974,text:this.props.i18n._('Report Pin', 'Report a pin in the dropdown', 'Report a pin in the dropdown'),description:this.props.i18n._('This goes against Pinterest\'s community guidelines', 'Description for the report pin option', 'Description for the report pin option'),callback:this.props.reportPin,dataTestId:"report-pin-option"}))),P(this,"hidePinOption",(e=>{const{clientTrackingParams:t,feedbackData:n,feedbackType:i,pinId:a,recommendationReason:o}=this.props,r="search"===i?973:982,{action:s,actionOptions:l}=(0,v.fJ)({feedbackData:n,feedbackType:i,pinId:a,recommendationReasonId:(0,c.Z)(o),pinFeedbackType:"pfy"===i?4:10,throughId:o&&(0,v.yl)(o),throughProperties:o&&(0,v.XZ)(o),clientTrackingParams:t(a)}),d=this.props.i18n._('Hide Pin', 'message displayed in pin feedback list', 'message displayed in pin feedback list');return{action:s,actionOptions:l,feedbackText:this.pinHiddenFeedbackText(e),text:d,description:this.props.i18n._('See fewer Pins like this', 'Description for the hide pin option', 'Description for the hide pin option'),elementType:r}})),P(this,"stopRecommendationOption",(()=>{const{clientTrackingParams:e,feedbackData:t,feedbackType:n,pinId:i,recommendationReason:a}=this.props,{board:o}=null!=a?a:{},r=(0,c.Z)(a),s=a&&(0,v.yl)(a),l=a&&(0,v.XZ)(a),d="pfyBoard"===n,{action:u,actionOptions:p}=(0,v.fJ)({feedbackData:t,feedbackType:n,pinId:i,recommendationReasonId:r,pinFeedbackType:d?2:4,throughId:s,throughProperties:l,clientTrackingParams:e(i)}),h=o?this.makeNavigateLink("boardUrl",o.url,o.name,!0):"";return{action:u,actionOptions:p,feedbackText:{subTitle:d&&o?(0,y.nk)(this.props.i18n._('We won\'t show you Pins inspired by your board {{ formattedBoard }} anymore.', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{formattedBoard:h}):this.props.i18n._('Got it! We won\'t show you Pins like this in the future.', 'message displayed after stopping recommendations from a pin', 'message displayed after stopping recommendations from a pin')},text:d&&o?(0,y.nk)(this.props.i18n._('Stop seeing Pins inspired by {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:o.name}):this.props.i18n._('See fewer Pins like this', 'Feedback option to stop recommendations inspired by this Pin', 'Feedback option to stop recommendations inspired by this Pin'),elementType:284}})),P(this,"unfollowBoardOption",(()=>{var e,t;const{board:n}=this.props,i=n?this.makeNavigateLink("boardUrl",null!==(e=n.url)&&void 0!==e?e:"",null!==(t=n.name)&&void 0!==t?t:"",!0):"",a=(0,y.nk)(this.props.i18n._('Unfollow {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:null==n?void 0:n.name}),o=(0,y.nk)(this.props.i18n._('Got it! You unfollowed {{ formattedBoard }} and won\'t see Pins saved to it in the future.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:i});return{action:"unfollowBoard",actionOptions:{board_id:null==n?void 0:n.id},feedbackText:{title:"",subTitle:o},text:a,description:(0,y.nk)(this.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"', 'Secondary caption displayed in pin feedback list to unfollow a board', 'Secondary caption displayed in pin feedback list to unfollow a board'),{boardName:null==n?void 0:n.name}),elementType:10614}})),P(this,"unfollowTopicOption",(()=>{const{sourceInterest:e}=this.props;if(e){const{id:t,name:n="",url_name:i=""}=e,a=`/topics/${i}`,o=this.makeNavigateLink("topicUrl",a,n,!0),r=(0,y.nk)(this.props.i18n._('See fewer Pins from {{ topicName }}', 'Primary caption displayed in pin feedback list to unfollow a topic', 'Primary caption displayed in pin feedback list to unfollow a topic'),{topicName:n}),s=(0,y.nk)(this.props.i18n._('We\'ll show you fewer Pins from {{ formattedTopic }} in the future.', 'Confirmation text after unfollowing a topic', 'Confirmation text after unfollowing a topic'),{formattedTopic:o});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:u.X},feedbackText:{title:"",subTitle:s},text:r,description:(0,y.nk)(this.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"', 'Secondary caption displayed in pin feedback list to unfollow a topic', 'Secondary caption displayed in pin feedback list to unfollow a topic'),{topicName:e.name}),elementType:976}}return null})),P(this,"unfollowUserOption",(()=>{const{pinner:e}=this.props,{id:t,username:n,full_name:i}=null!=e?e:{},a=`/${n}`,o=e?this.makeNavigateLink("pinnerUrl",a,null!=i?i:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:t},feedbackText:{title:"",subTitle:(0,y.nk)(this.props.i18n._('Got it! You unfollowed {{ formattedUser }} and won\'t see Pins they save in the future.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedUser:o})},text:(0,y.nk)(this.props.i18n._('Unfollow {{ fullName }}', 'Primary caption displayed in pin feedback list to unfollow a user', 'Primary caption displayed in pin feedback list to unfollow a user'),{fullName:i}),description:this.props.i18n._('Stop seeing all their Pins', 'Secondary caption displayed in pin feedback list to unfollow a user', 'Secondary caption displayed in pin feedback list to unfollow a user'),elementType:10640}})),P(this,"downloadPinOption",(()=>({action:"downloadPin",text:this.props.i18n._('Download image', 'Button to download Pin image', 'Button to download Pin image'),elementType:10836}))),P(this,"_pinFeedbackText",(()=>{var e,t,n,i;const{location:a,feedbackType:o,hideDownload:r,pinner:s}=this.props,l="followed"===this.props.feedbackType,c=a.pathname.includes("following"),d=(l||"topic"===o)&&!c,u=this.hidePinOption(d),p=this.reportPinOption(),h="promoted"!==o&&!r;switch(o){case"followed":const a=c,r=!a&&this.getRecommendationDescription(),l=null!=s&&s.explicitly_followed_by_me?this.unfollowUserOption():this.unfollowBoardOption();return{...r?{description:r}:{},options:[u,...d||a?[l]:[],..."promoted"!==o?[this.downloadPinOption()]:[],p]};case"promoted":const{pinId:m,showAdReasonsModal:_}=this.props,g=[u,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:this.props.i18n._('Why am I seeing this ad?', 'app.common.react.components.PinFeedbackDropdown.adReasonText', 'Text to promoted pins explanation modal'),callback:()=>{_(m)}},p];return{description:null!==(e=this.getRecommendationDescription())&&void 0!==e?e:void 0,options:g};case"topic":const v=this.unfollowTopicOption(),y=[u,...d&&v?[v]:[],...h?[this.downloadPinOption()]:[],p];return{description:null!==(t=this.getRecommendationDescription())&&void 0!==t?t:void 0,options:y};case"pfy":case"pfyBoard":const f=[u,..."pfyBoard"===o?[this.stopRecommendationOption()]:[],...h?[this.downloadPinOption()]:[],p];return{description:null!==(n=this.getRecommendationDescription())&&void 0!==n?n:void 0,options:f};default:const b=[u,...h?[this.downloadPinOption()]:[],p];return{description:null!==(i=this.getRecommendationDescription())&&void 0!==i?i:void 0,options:b}}})),P(this,"pinHiddenFeedbackText",(e=>{const{isPromoted:t,promoter:n}=this.props,i=e?null:this.getUnfollowAction();return t&&null!=n&&n.full_name?{title:"",subTitle:(0,y.nk)(this.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'webapp.app.pinFeedbackDropdown.promotedFeedbackText.subtitle', 'Message displayed after hiding a promoted pin. promoter: the name of the person who promoted the pin.'),{promoter:n.full_name})}:i?{title:"",subTitle:this.getRecommendationDescription(),unfollow:i}:{title:"",subTitle:this.props.i18n._('Got it! We won\'t show you this Pin in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}}));const t=this._pinFeedbackText();this.state={pinFeedbackConfig:t,showSecondary:!1}}onPinFeedbackActionButtonClick(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),(0,x.t)(t.action,t.actionOptions,n)}onPinHide(e,t,n,i){const{hidePinFeedback:a,onHide:o,pinId:r,showPinFeedback:s,showPinFeedbackOverlay:l,showPinFeedbackUndo:c,viewParameter:d,viewType:u,logContextEvent:p}=this.props;t&&n&&i?c(r,e,(0,v.EF)(n,i,r,u,d,a,p),this.getUndoText(i)):s(r,e),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?o():(this.setState({showSecondary:!0}),l(r))}handleClickLogging(e,t={}){const{feedbackType:n,viewParameter:i,viewType:a,logContextEvent:o}=this.props;o({event_type:101,view_type:a,view_parameter:i,element:e,component:(0,v.nb)(n),aux_data:{...t}})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:t,pinId:n,viewType:i,viewParameter:a,logContextEvent:o,isWindowsPwa:l}=this.props,{pinFeedbackConfig:c}=this.state,{options:d}=c,u=[],p=d.length;for(let h=0;h<p;h+=1){const c=d[h],p=x.P.includes(c.action),m=c.callback?c.callback:()=>this.onPinHide(c.feedbackText,p,c.actionOptions,c.action);if("downloadPin"!==c.action){const e=(0,s.Z)({url:c.link||""});let t="";Array.isArray(c.text)?t=c.text.join(""):"string"!=typeof c.text&&"number"!=typeof c.text||(t=c.text.toString()),u.push(c.link?(0,S.jsx)(b.Lt.Link,{href:c.link,isExternal:e,option:{value:c.action||"",label:t},dataTestId:c.dataTestId||""}):(0,S.jsx)(b.Lt.Item,{onSelect:({event:e})=>this.onPinFeedbackActionButtonClick(e,c,m),option:{value:c.action||"",label:t},dataTestId:c.dataTestId||""}))}else if(!e&&!1===l){const{bestPinImgSrc:e,pinTitle:s,pinDescription:l,pinCategory:c}=this.props;u.push((0,S.jsx)(b.Lt.Item,{onSelect:()=>{(0,r.Z)({category:c,filename:s||l,imageDownloadSuccessCallback:()=>{t&&t()},imgSrc:e,pinId:n,viewParameter:a,viewType:i},o)},option:{value:"downloadImage",label:this.props.i18n._('Download image', 'pinRep.pinFeedbackDropdown.downloadImage', 'Label to download the pin image')}}))}}return u}render(){const{pinFeedbackConfig:e,showSecondary:t}=this.state,{anchor:n,onDismiss:a,feedbackData:r,feedbackType:s,hideAdReasonsModal:c,pinId:u,onHide:p,recommendationReason:h,showAdReasons:m,viewParameter:_,viewType:g}=this.props,{description:v}=e,y=this.getRecommendationDescriptionImage();return(0,S.jsxs)(i.Fragment,{children:[t?(0,S.jsx)(l.Z,{anchor:n,feedbackData:r,feedbackType:s,pinId:u,onDismiss:a,onHide:p,recommendationReason:h,viewParameter:_,viewType:g}):(0,S.jsx)(b.Lt,{anchor:n,id:"pin-action-dropdown",idealDirection:"down",onDismiss:a,zIndex:d.lI,headerContent:v&&(0,S.jsxs)(b.kC,{alignItems:"center",children:[(0,S.jsx)(b.xu,{"data-pin-recommendation-reason":null==h?void 0:h.reason,maxHeight:56,overflow:"hidden",children:(0,S.jsx)(b.xv,{color:"default",overflow:"normal",size:"200",children:v})}),y]}),children:this.renderButtons()}),m&&(0,S.jsx)(o.ZP,{onDismiss:()=>c(u),pinId:u})]})}}function k(e){const{logContextEvent:t}=(0,p.v)(),n=(0,_.Z)(),i=(0,g.ZP)(),o=(0,h.S6)()(e.pinId),{ad_targeting_attribution:r,show_ad_reasons:s=!1}=null!=o?o:{},l=(0,m.kf)(),c=(0,a.useDispatch)();return(0,S.jsx)(T,{...e,clientTrackingParams:n,showAdReasons:s,adTargetingAttribution:r,history:(0,w.useHistory)(),i18n:i,isWindowsPwa:l,location:(0,w.useLocation)(),logContextEvent:t,hidePinFeedback:e=>c((0,f.I1)(e)),showPinFeedback:(e,t)=>c((0,f.q1)(e,t)),showPinFeedbackOverlay:e=>c((0,f.Ib)(e)),showPinFeedbackUndo:(e,t,n,i)=>c((0,f.NA)({id:e,text:t,undoAction:n,undoText:i})),showAdReasonsModal:e=>c((0,f.b9)(e)),hideAdReasonsModal:e=>c((0,f.yj)(e))})}},361259:(e,t,n)=>{n.d(t,{$:()=>d,r:()=>u});var i=n(667294),a=n(829407),o=n(497529),r=n(780280),s=n(425288),l=n(785893);const{Provider:c,useHook:d}=(0,s.Z)("PinRep");function u({children:e}){const{isAuthenticated:t}=(0,r.B)(),[n,s]=(0,i.useState)(!0),[d,u]=(0,i.useState)(!1),p=(0,o.Z)(1000069);(0,a.Z)((()=>{(async()=>{var e,n,i,a;if(!t)return void s(!1);const o=await p.fetchAllExperiences();o&&o.payload&&500417===(null===(e=o.payload.experiences)||void 0===e||null===(n=e[1000069])||void 0===n?void 0:n.experience_id)&&null!==(i=o.payload.experiences)&&void 0!==i&&null!==(a=i[1000069])&&void 0!==a&&a.display_data.hide_footer?p.viewExperience(1000069,500417):s(!1),u(!0)})()}));const h=(0,i.useMemo)((()=>({hasSimplifiedPinGridExpLoaded:d,hidePinRepFooter:n})),[d,n]);return(0,l.jsx)(c,{value:h,children:e})}},438908:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(294184),a=n.n(i),o=n(876371),r=n(832654),s=n(784521),l=n(883119),c=n(785893);function d({alt:e,onError:t=(()=>{}),onLoad:n=(()=>{}),pin:i}){const{dominant_color:a,images:o={}}=i,{height:r,width:d,url:u}=function(e){var t;return"number"==typeof(null===(t=e["474x"])||void 0===t?void 0:t.width)&&"number"==typeof e["474x"].height&&e["474x"].width>e["474x"].height?e["736x"]:e["474x"]}(o)||{};return(0,c.jsx)(l.xu,{width:"100%",dangerouslySetInlineStyle:{__style:{zIndex:s.Z.storyPinImage}},children:(0,c.jsx)(l.Ee,{alt:e,color:a||"transparent",naturalHeight:null!=r?r:1,naturalWidth:null!=d?d:1,onError:t,onLoad:n,src:u||""})})}var u=n(898781),p=n(349700),h=n(310227),m=n(243943);const _=({cropHeight:e,cropWidth:t,fallbackColor:n,highResOnly:i,imageFit:s,lowResOnly:_,mediumResOnly:g,minHeight:v,onError:y,onLoad:f,pin:b,saved:x=!1})=>{var w,S,P;const T=(0,u.ZP)(),k=(0,m.Xx)(),{carousel_data:I,description:A="",dominant_color:C,grid_title:E,id:j,images:R,title:D}=b,O=(0,p.nk)(T._('This contains an image of: {{ pinTitle }}', 'web.altText', 'Alt text input for PinImage by a human'),{pinTitle:D||E}).join(""),L=(0,r.Z)(b,T)||A.trim().length>0&&A||O;if(I)return(0,c.jsx)(o.Z,{onError:y,onLoad:f,highResOnly:i,lowResOnly:_,pinId:j});let F,N="",M=0,z=0;if(R){var Z,B,U;let e=R["236x"];var H,V,$,K,G;if(i?e=R["736x"]||R.orig||R["474x"]||R["236x"]:g&&(e=R["474x"]||R.orig||R["236x"]),M=null===(Z=e)||void 0===Z?void 0:Z.height,z=null===(B=e)||void 0===B?void 0:B.width,N=null===(U=e)||void 0===U?void 0:U.url,_||g||i)F=null!==(H=e)&&void 0!==H&&H.url?`${e.url} 1x`:"";else F=[(null===(V=R["236x"])||void 0===V?void 0:V.url)&&`${R["236x"].url} 1x`,(null===($=R["474x"])||void 0===$?void 0:$.url)&&`${R["474x"].url} 2x`,(null===(K=R["736x"])||void 0===K?void 0:K.url)&&`${R["736x"].url} 3x`,(null===(G=R.orig)||void 0===G?void 0:G.url)&&`${R.orig.url} 4x`].filter(Boolean).join(", ")}return null!=k&&k.image&&(M=k.image.height,z=k.image.width,N=k.image.url),(0,c.jsx)(l.kC,{alignItems:"center",justifyContent:"start",minHeight:v||h.Ml,children:(0,c.jsx)(l.xu,{flex:"grow",children:(0,c.jsx)("div",{className:a()({savedGradient:x}),children:b.story_pin_data_id?(0,c.jsx)(d,{alt:L,pin:b,onError:y,onLoad:f}):(0,c.jsx)(l.xu,{height:t?e:void 0,width:t||void 0,"data-test-id":"non-story-pin-image",children:(0,c.jsx)(l.Ee,{alt:L,color:"dominant"===n?C:n,fit:s,naturalHeight:null!==(w=M)&&void 0!==w?w:1,naturalWidth:null!==(S=z)&&void 0!==S?S:1,onError:y,onLoad:f,src:null!==(P=N)&&void 0!==P?P:"",srcSet:F})})})})})}},453782:(e,t,n)=>{n.d(t,{Z:()=>T});var i=n(667294),a=n(964082),o=n(357787),r=n(36971),s=n(463045),l=n(965900),c=n(780280),d=n(108529),u=n(438908),p=n(350445),h=n(898781),m=n(46584),_=n(883119),g=n(785893);function v({aspectRatio:e,children:t}){return(0,g.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:e}},children:t})}var y=n(926749),f=n(623568);const b=new Set(["ConversationView","TodayTabFeed"]);function x({inAdsDesktopVideoExperiment:e,isAutoplay:t,cropHeight:n,currentTime:a,lowResOnly:o,highResOnly:r,onLoad:s,onError:c,saved:x,onTimeChange:w,isExperimentalPinRep:S,pin:P,surface:T,playing:k,rootMargin:I,viewType:A,viewParameter:C,onVisibilityChanged:E,trackFullVisible:j,inVisibilityChangedHookExperiment:R,imageHeightModifier:D,cropWidth:O}){var L,F;const N=(0,h.ZP)(),[M,z]=(0,i.useState)(!1),[Z,B]=(0,i.useState)(!0),{is_downstream_promotion:U,promoter:H}=P,V=(0,f.jL)(U,!!H),$=V&&!P.is_eligible_for_web_closeup,K=S&&V&&P.is_eligible_for_web_closeup&&!b.has(T),{setCurrentVideo:G}=(0,l.I)(),W=$||!S||!V,q=(0,m.Z)({onVisibilityChanged:E,inAdsDesktopVideoExperiment:e,trackFullVisible:j,rootMargin:I});let Y=!k;e&&(Y=Z,t&&k&&Z&&B(!1));const{url:J}=(null===(L=P.images)||void 0===L?void 0:L["236x"])||{},{id:X,is_promoted:Q}=P,ee=(0,i.useCallback)((({event:e})=>{e.preventDefault(),e.stopPropagation(),G({pinId:X,isPromoted:Boolean(Q),currentTime:0}),z(!1)}),[Q,X,G]),te=(0,i.useCallback)((()=>{Q&&z(K)}),[K,Q]);if(!P.videos||null===(F=P.videos.video_list)||void 0===F||!F.V_HLSV4)return null;const{height:ne,thumbnail:ie,width:ae,url:oe}=P.videos.video_list.V_HLSV4||{},re=P.videos.id,se=[{type:"video/m3u8",src:oe}];let le,ce=(null!=ae?ae:1)/(null!=ne?ne:1);const de=e&&T&&(0,d.Z)(T);if(de&&(ce=1,le="transparent",D&&(ce-=D-1)),M&&V)return(0,g.jsx)(_.xu,{ref:R?q:null,children:(0,g.jsx)(p.Z,{backgroundImage:null!=J?J:"",naturalHeight:null!=ne?ne:1,naturalWidth:null!=ae?ae:1,pinId:P.id,onRestartVideo:ee})});if(Y){let e={highResOnly:r,lowResOnly:o,onError:c,onLoad:s,pin:P,saved:x};return de&&(e={...e,cropHeight:n,cropWidth:O,imageFit:"contain"}),(0,g.jsx)(_.xu,{ref:R?q:null,children:(0,g.jsx)(v,{aspectRatio:ce,children:(0,g.jsx)(u.Z,{...e})})})}return(0,g.jsx)(_.xu,{ref:R?q:null,children:(0,g.jsx)(y.ZP,{isAutoPlay:!!t,cropHeight:n,rootMargin:I,surface:T,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:C,component:0,objectId:P.id,video_id:re,view:A},accessibilityMaximizeLabel:N._('Maximize', 'Maximize button on video', 'Maximize button on video'),accessibilityMinimizeLabel:N._('Minimize', 'Minimize button on video', 'Minimize button on video'),accessibilityMuteLabel:N._('Mute', 'Mute button on video', 'Mute button on video'),accessibilityPauseLabel:N._('Pause', 'Pause button on video', 'Pause button on video'),accessibilityPlayLabel:N._('Play', 'Play button on video', 'Play button on video'),accessibilityProgressBarLabel:N._('Progress bar', 'PinVideo.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:N._('Unmute', 'Unmute button on video', 'Unmute button on video'),aspectRatio:ce,backgroundColor:le,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:a||-1},loop:W,onTimeChange:w,playing:k,onPlay:()=>{},onPlayError:()=>{},poster:J||ie,src:null!=se?se:[],videoStartTime:a,volume:0,onEnded:te})})}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=(0,o.Z)(x);class P extends i.Component{constructor(...e){super(...e),w(this,"calculateCurrentVideoTime",(()=>{const{currentTimeFromPinRep:e,pin:t,videosAutoplaying:n}=this.props,{id:i}=t,a=(0,r.Z)(i,n);return this.currentVideoCurrentTime||a||e})),w(this,"handleVisibilityChanged",(e=>{const{currentTimeFromPinRep:t,pin:n,requestContext:i,setCurrentVideo:o,pauseAutoplay:r,videosAutoplaying:l}=this.props,{id:c,is_promoted:d}=n,u=(0,s.Z)(c,l),p=(0,a.Z)(c,l);if(e){if(d)o({pinId:c,isPromoted:d,currentTime:this.calculateCurrentVideoTime()});else if(p){const{anyEnabled:e}=i.experimentsClient.checkExperiment("hfp_web_video_autoplay_in_grid")||{};o({pinId:c,isPromoted:Boolean(d),currentTime:this.calculateCurrentVideoTime(),inVideoGridAutoplayExp:e})}}else!e&&u&&r({pinId:c,isPromoted:Boolean(d),currentTime:t||this.currentVideoCurrentTime})})),w(this,"handleVideoTimeChange",(e=>{const{pin:t,onTimeChange:n,videosAutoplaying:i}=this.props,{id:a}=t;(0,s.Z)(a,i)&&(this.currentVideoCurrentTime=e.time),n&&n(e)}))}componentDidMount(){this.props.onLoad&&this.props.onLoad()}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,currentTimeFromPinRep:i,pauseAutoplay:a,pin:o,setCurrentVideo:r,videosAutoplaying:l}=this.props,{id:c,is_promoted:d}=o,u=(0,s.Z)(c,l);n!==t&&!n&&u?(this.pausedDueToBrowserOutOfFocus=!0,a({pinId:c,isPromoted:Boolean(d),currentTime:i||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,r({pinId:c,isPromoted:Boolean(d),currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:t,pin:n,videosAutoplaying:i}=this.props,{id:a,is_promoted:o}=n;(0,s.Z)(a,i)&&t({pinId:a,isPromoted:Boolean(o),currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:t,pin:n,surface:i,videosAutoplaying:a,viewParameter:o,viewType:l,highResOnly:c,lowResOnly:d,onError:u,onLoad:p,saved:h,inAdsDesktopVideoExperiment:m,isExperimentalPinRep:_,rootMargin:v,cropWidth:y,imageHeightModifier:f}=this.props,{id:b}=n,x=(0,r.Z)(b,a),w=(0,s.Z)(b,a)&&t;return(0,g.jsx)(S,{cropHeight:e,rootMargin:v,currentTime:x,inAdsDesktopVideoExperiment:m,isAutoplay:t,viewParameter:o,viewType:l,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,surface:i,playing:w,trackFullVisible:!1,highResOnly:c,lowResOnly:d,onError:u,onLoad:p,saved:h,isExperimentalPinRep:_,cropWidth:y,imageHeightModifier:f})}}function T(e){const{appUI:{appInFocus:t,isAutoplay:n,videosAutoplaying:i},pauseAutoplay:a,setCurrentVideo:o}=(0,l.I)();return(0,g.jsx)(P,{...e,appInFocus:t,isAutoplay:n,pauseAutoplay:a,requestContext:(0,c.B)(),setCurrentVideo:o,videosAutoplaying:i})}},748482:(e,t,n)=>{n.d(t,{Z:()=>Gn});var i=n(667294),a=n(702664),o=n(41233),r=n(605028),s=n(333155);function l({isGroupBoard:e,pin:t,surface:n}){const{carousel_data:i,grid_title:a,rich_summary:o,title:l}=t,{isOwnPin:c,isPromoted:d}=(0,r.Z)(t);if(i){const{carousel_slots:e=[],index:t=0}=i;if(e[t]&&e[t].title)return e[t].title.trim()}if(d){if(s.ZF.includes(n))return a||"";if(c&&!e&&!i&&"UserProfilePinGrid"!==n)return"";const t=o&&"mobile application"!==o.type_name&&o.display_name;return l||t||a||""}return a||""}var c=n(623568);const d=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var u=n(35495);function p(e,t){const{isProduct:n}=(0,r.Z)(e);return(n||"ShoppingGridShippedMetadataWithVisitButton"===t&&(0,u.bA)(e))&&(0,u.QY)(e)||""}var h=n(807592),m=n(4294),_=n(18857);const g=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function v({attributionOption:e,board:t,contentType:n,experimentsClient:i,feedbackData:a,feedbackType:o,hasCarouselData:s,isGroupBoard:c,isORBACProfileManager:d,isOwnBoard:u,pin:v,showImageOnly:y,showNativeReactions:f,showPromotedShoppingPrice:b,surface:x,viewer:w,variantData:S}){var P;const{isPromoted:T,isSponsored:k}=(0,r.Z)(v),{pin_note:I}=v,A=function({attributionOption:e,feedbackType:t,isGroupBoard:n,pin:i,showImageOnly:a,surface:o}){const{is_downstream_promotion:r,native_creator:s,promoter:l,sponsorship:c,story_pin_data_id:d}=i;if("promoted"===t||l&&!r||c)return"default";if("ConversationView"!==o&&g.includes(o))return"none";if(n)return"none";let u="default";return"SearchItem"===o&&d?u:(e&&("image-only"===e?u="image-only-credit":"hide"===e&&(u="none")),"followed"!==t||a?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(o)&&"hide"===e?u:"TodayArticleFeed"===o&&"show"===e?"show-for-claimed-content":s?"default":"none":u)}({attributionOption:e,feedbackType:o,isGroupBoard:c,pin:v,showImageOnly:y,surface:x}),C=null!=S&&S.title?S.title:l({isGroupBoard:c,pin:v,surface:x}),E=y?"":C,j=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(x)&&!T&&!y&&Boolean(p(v,x)),R=["ShoppingGridShippedMetadataWithVisitButton"].includes(x),D="BaseBoardPinGrid"===x&&I?null===(P=I.text)||void 0===P?void 0:P.trim():null,O=T,L="shopping"===n;"AuthHomefeed"!==x||T||(f=!1);let F,N,M,z,Z=2;if(T?Z=3:(j||"none"!==A)&&(Z=L?2:1),L||b){var B,U;const e=null===(B=v.rich_summary)||void 0===B||null===(U=B.products)||void 0===U?void 0:U[0],{offer_summary:t}=e||{};F=t?t.standard_price:void 0,N=t?(0,h.Z)(t):void 0}if(S){const{offerSummary:e}=S;F=e?e.standard_price:void 0,N=e?e.price||e.max_price:void 0}if(L&&!T){var H,V,$;const{rating_count:e,rating_value:t,review_count:n}=(null===(H=v.rich_summary)||void 0===H?void 0:H.aggregate_rating)||{};(e||n)&&parseFloat(t)&&(M={count:e||n,rating:t}),z=null===(V=v.rich_metadata)||void 0===V||null===($=V.products)||void 0===$?void 0:$[0].shipping_info}const K=(0,_.rh)(v,w,i),G="CreatorProfileStoryPinGrid"===x||"CreatorProfileActivityPinGrid"===x,W=!G,q=c&&!k;return{attributionType:A,board:t,contentType:n,feedbackData:a,feedbackType:o,pinNoteText:D,pinTitle:E,productCurrentPrice:N,productOriginalPrice:F,productRating:M,productShipping:z,showCarouselEllipsis:s,showFavoriteButton:!d&&("BaseBoardPinGrid"===x&&u||Boolean((null==t?void 0:t.is_collaborative)&&(0,m.Z)({board:t,viewer:w})))&&!G,showGroupBoardAvatar:q,showNativeReactions:f,showOverflowMenu:O,showPinStats:K,showSource:j,showTextContent:W,showVisitSiteButton:R,showAttribution:!0,titleLines:Z}}var y=n(27255),f=n(957161),b=n(121630),x=n(841478),w=n(53325);const S=["ShoppingCatalogsProductsMetadata"];const P=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],T=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var k=n(221263),I=n(319915),A=n(675725),C=n(687551),E=n(926275);var j=n(976071),R=n(411938),D=n(108529),O=n(463045),L=n(947599),F=n(717615),N=n(436395),M=n(512076),z=n(19121),Z=n(883119),B=n(898781),U=n(407043),H=n(785893);const V=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],$={component:210,view_type:4,view_parameter:3106},K={view_type:5,view_parameter:3069},G={component:13668,view_type:4,view_parameter:3106};function W({pinId:e,surface:t}){const{logContextEvent:n}=(0,U.v)(),i=(0,B.ZP)(),a=()=>{const e=V.includes(t)?G:"BaseBoardPinGrid"===t?K:"UserProfilePinGrid"===t?$:{};n({event_type:101,element:10573,...e})},o=i._('See more stats', 'pinRep.actionBar.seeStatsButton', 'Button that will re-direct user to detailed stats page');return(0,H.jsx)(Z.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:V.includes(t)?(0,H.jsx)(Z.zx,{role:"link",accessibilityLabel:i._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This button will take the user to their detailed pin stats page for the pin'),color:"semiTransparentWhite",fullWidth:!0,href:`/pin/${e}/analytics`,onClick:a,size:"sm",text:(r=o,r.length>14?`${r.substring(0,12).trim()}...`:r)}):(0,H.jsx)(Z.hU,{role:"link",accessibilityLabel:i._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This icon button will take the user to their detailed pin stats page for the pin'),bgColor:"white",href:`/pin/${e}/analytics`,icon:"ads-stats",iconColor:"darkGray",onClick:a,size:"sm"})});var r}var q=n(681227),Y=n(697247),J=n(576440),X=n(965900),Q=n(773285),ee=n(578722),te=n(130460),ne=n(350118),ie=n(329734),ae=n(243943),oe=n(99137),re=n(698330),se=n(241244),le=n(95551),ce=n(699825),de=n(768559),ue=n(89254);function pe(e,t){const{carousel_data:n,domain:i,ad_destination_url:a}=e;let o=i||"";return a&&(o=(0,ue.Z)(a).hostname||""),n&&n.id&&(o=function(e,t){const n=t||e&&e.index||0,i=e&&e.carousel_slots||[],a=i[n]&&i[n].link||"";return a&&(0,ue.Z)(a).hostname||""}(n,t)),o.replace("www.","")}var he=n(287072),me=n(199387),_e=n(276775);const ge={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function ve({pin:e,sourceLinkStyle:t,surface:n,url:a}){var o,r;const s=(0,B.ZP)(),[l,c]=(0,i.useState)(!1),{id:d}=e,p=pe(e),h=(0,_e.useLocation)(),m=(0,u.Kl)(e)||{},{slotIndex:_}=(0,J.E)(),g=(0,de.Z)({boardUrl:null===(o=e.board)||void 0===o?void 0:o.url,callToCreateSourcePinId:e.call_to_create_source_pin_id,location:h,pinId:e.id,pinnerUserName:null===(r=e.pinner)||void 0===r?void 0:r.username,storyPinDataId:e.story_pin_data_id,trackingParams:e.tracking_params,trackingParamsMap:e.tracking_params_map}),v=(0,me.Z)(12,{object_id_str:d,clientTrackingParams:g,aux_data:{grid_index:_,...(0,u.Kl)(e)||{}}}),y=(0,me.Z)(101,{element:162,object_id_str:d,clientTrackingParams:g,aux_data:{...(0,u.Kl)(e)||{}}}),f=(0,me.Z)(8948,{object_id_str:d,clientTrackingParams:g,aux_data:{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:_,...(0,u.Kl)(e)||{}}}),b=()=>{v(),y(),f()},x=(0,he.Z)({href:a,target:"blank",externalData:{auxData:m,pin:e,surface:n}});return"icon-only"===t?(0,H.jsx)(Z.hU,{accessibilityLabel:s._('link', 'Website url link', 'Website url link'),bgColor:"white",href:a,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),b(),x({event:e})},role:"link",rel:"nofollow",size:"sm"}):(0,H.jsx)(Z.xu,{dangerouslySetInlineStyle:{__style:{...ge.container,...l?ge.containerHovered:Object.freeze({}),..."truncated-text"===t?ge.containerTruncated:Object.freeze({})}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),position:"relative",children:(0,H.jsx)(ce.Z,{hovered:l,pin:e,slotIndex:_,viewType:1,children:(0,H.jsx)(Z.iP,{fullWidth:!1,href:a,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),b(),x({event:e})},rel:"nofollow",role:"link",rounding:4,children:(0,H.jsxs)(Z.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:ge.text},display:"flex",justifyContent:"between",children:[(0,H.jsx)(Z.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,H.jsx)(Z.JO,{accessibilityLabel:s._('link', 'Website url link', 'Website url link'),color:"default",icon:"arrow-up-right",size:9})}),(0,H.jsx)(Z.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,H.jsx)(Z.xv,{color:"default",size:"200",weight:"bold",lineClamp:1,children:p})})]})})})})}var ye=n(538232),fe=n(50286),be=n(780280);const xe=(0,i.lazy)((()=>Promise.all([n.e(97270),n.e(46457),n.e(50192),n.e(58209),n.e(48035)]).then(n.bind(n,43819)))),we=(0,i.lazy)((()=>Promise.resolve().then(n.bind(n,955362)))),Se=(0,i.lazy)((()=>Promise.all([n.e(97270),n.e(10966),n.e(27021),n.e(5035)]).then(n.bind(n,351326))));const Pe=({pinId:e})=>{const{onSendButtonClick:t}=(0,ye.R)(),n=(0,me.Z)(101,{element:72,object_id_str:e});return(0,H.jsx)(le.Z,{onSendButtonClick:t,trackShareTap:n,size:"sm",bgColor:"white"})},Te=(0,i.memo)((function({actionBarEditBeforeShare:e,feedbackData:t,feedbackType:n,layout:a,onToggleFlyout:o,pin:r,pinTitle:s,setForcePrimary:l,showEditButton:c,showOverflowMenu:d,showShareButton:u,showSourceLinkButton:p,sourceLinkStyle:h,surface:m}){var _,g;const v=(0,B.ZP)(),y=(0,Z.JZ)(),{isRTL:f}=(0,be.B)(),b=!(0,fe.HG)(),{viewParameter:x,viewType:w}=(0,J.E)(),{carousel_data:S,id:P,savedInfo:T,tracked_link:k,link:A,ad_destination_url:C}=r,E=null!==(_=null!==(g=null!=C?C:k)&&void 0!==g?g:A)&&void 0!==_?_:"",{showLeadPinStdAlpha:j}=(0,M.Z)(r),[R,D]=(0,i.useState)(c),[O,F]=(0,i.useState)(c),[N,z]=(0,i.useState)(c),U={...f?{marginLeft:c&&d?-44:0}:{marginRight:c&&d?-44:0},transition:f?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"},V={opacity:N?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},$={...f?{marginRight:O?4:0}:{marginLeft:O?4:0},transition:f?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"};(0,i.useEffect)((()=>{let e;return c&&d?(F(!0),e=setTimeout((()=>{requestAnimationFrame((()=>{D(!0),requestAnimationFrame((()=>{z(!0)}))}))}),800)):(F(c),D(c),requestAnimationFrame((()=>{z(c)}))),()=>{clearTimeout(e)}}),[c,d]);let K=null;if(p){const e=`/pin/${P}`;K=(0,H.jsx)(se.Z,{children:j?(0,H.jsx)(Z.zx,{role:"link",accessibilityLabel:v._('Link for closeup view and learn more', '[m10n] pinRep.actionBar.learnMore', 'Content for learn more link'),size:"sm",href:e,text:v._('Learn more', '[m10n] pinRep.actionBar.learnMore', 'Content for learn more link')}):(0,H.jsx)(ve,{pin:r,sourceLinkStyle:h,surface:m,url:E})})}const G=u&&(0,H.jsx)(I.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,H.jsx)(L.Z,{children:(0,H.jsx)(Z.xu,{"data-test-id":"send-share-link",children:(0,H.jsx)(se.Z,{children:b?(0,H.jsx)(Pe,{pinId:r.id}):(0,H.jsx)(Se,{pin:r,setForcePrimary:l})})})})}),W=Boolean(null==T?void 0:T.localPinId)?null==T?void 0:T.localPinId:P,q=R&&(0,H.jsx)(I.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,H.jsx)(L.Z,{children:(0,H.jsx)(Z.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:y?void 0:{__style:V},children:(0,H.jsx)(se.Z,{children:(0,H.jsx)(xe,{carouselSlotCurrentIndex:S&&S.index,component:0,onToggleModal:o,pinId:W,style:{size:"sm"},view:w,viewParameter:x,useLegoStyles:!0})})})})});return"equally-spaced"===a?(0,H.jsxs)(Z.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,H.jsx)(Z.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:K}),e?q:G,e?G:q]}):(0,H.jsxs)(Z.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,H.jsx)(Z.xu,{flex:"shrink",children:K}),(0,H.jsx)(Z.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:y?void 0:{__style:U},children:(0,H.jsxs)(Z.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"end",children:[e?q:G,e?G:q,d&&(0,H.jsx)(I.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,H.jsx)(L.Z,{children:(0,H.jsx)(Z.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:y?void 0:{__style:$},children:(0,H.jsx)(se.Z,{children:(0,H.jsx)(we,{feedbackData:t,feedbackType:n,pin:r,pinTitle:s,setForcePrimary:l})})})})})]})})]})}));var ke=n(834911),Ie=n(447948);function Ae({direction:e,swipeHandler:t}){const n=(0,B.ZP)(),i={left:n._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),right:n._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')};return(0,H.jsx)(Z.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:(0,H.jsx)(Z.iP,{fullHeight:!0,fullWidth:!0,onTap:t,children:(0,H.jsx)(Z.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":`carousel-slider-${e}`,children:(0,H.jsx)(Z.JO,{accessibilityLabel:i[e],color:"inverse",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}function Ce({pin:e}){const{logContextEvent:t}=(0,U.v)(),{componentType:n,viewParameter:i,viewType:o}=(0,J.E)(),r=(0,a.useDispatch)(),s=(0,ke.Z)({carouselData:e.carousel_data,images:e.images,richMetadata:e.rich_metadata,richSummary:e.rich_summary});if(!s)return null;const{id:l=""}=e,{carousel_slots:c=[],index:d=0,id:p}=s;function h(a){return()=>{const s="left"===a?d-1:d+1;((e,t)=>{r((0,Ie.yR)(e,t))})(l,s),((a=0,r)=>{t({event_type:108,object_id_str:l,component:n,view_type:o,view_parameter:i,event_data:{pinCarouselSlotEventData:{carouselSlotId:c[a]&&Number(c[a].id),carouselDataId:Number(p),carouselSlotIndex:a,toCarouselSlotIndex:r}},aux_data:{...(0,u.Kl)(e)||{}}})})(d,s)}}return(0,H.jsxs)(Z.xu,{height:"100%",position:"relative",width:"100%",children:[d>0&&(0,H.jsx)(se.Z,{children:(0,H.jsx)(Ae,{direction:"left",swipeHandler:h("left")})}),d<c.length-1&&(0,H.jsx)(se.Z,{children:(0,H.jsx)(Ae,{direction:"right",swipeHandler:h("right")})})]})}var Ee=n(337986),je=n(116303);function Re({accessibilityLabel:e,attributionNameLink:t,avatarUrl:n,fullWidth:i=!0,name:a="",onClick:o,outline:r=!1,size:s=32,shouldRenderAdsOnlyProfileClick:l=!1}){const c=(0,H.jsx)(Z.xu,{"data-test-id":"attribution-avatar",height:s,width:s,children:(0,H.jsx)(je.Z,{name:a,src:n,accessibilityLabel:"",outline:r})});return t?(0,H.jsx)(Z.iP,{fullWidth:i,role:"link",href:t,rel:l?"nofollow":void 0,target:l?"blank":void 0,onTap:o,accessibilityLabel:e,children:c}):c}function De({isHover:e,attributionNameLink:t,name:n,onClick:i,regularWeight:a}){const{checkExperiment:o}=(0,Q.F)(),r=!t&&o("web_disable_ads_blocker").anyEnabled;return(0,H.jsx)(Z.xu,{children:(0,H.jsx)(Z.xv,{underline:e,size:"200",lineClamp:1,weight:a?"normal":"bold",children:t?(0,H.jsx)(Z.rU,{onClick:i,href:t,children:n}):r?(0,H.jsx)("span",{children:n}):n})})}function Oe({isHover:e,link:t,onClick:n,title:i,weight:a}){return i?(0,H.jsx)(Z.xv,{inline:!0,underline:e,size:"200",weight:a,children:t?(0,H.jsx)(Z.rU,{onClick:n,href:t,children:i}):i}):null}var Le=n(865607),Fe=n(807532);function Ne({attributionNameLink:e,attributionTitle:t,avatarUrl:n,display:a="default",isPromotedByPinCreator:o,pin:s,name:l,url:c,verifiedIdentity:d,isVerifiedMerchant:u,shouldRenderAdsOnlyProfileClick:p}){const h=(0,Fe.f)(),[m,_]=(0,i.useState)(!1),{id:g,sponsorship:v,story_pin_data_id:y}=s,{isPromoted:f}=(0,r.Z)(s),{logContextEvent:b}=(0,U.v)(),{creator:x}=v||{},{id:w}=x||{},S=!!y,P=(0,me.Z)(101,{view_type:3,element:f?283:27,object_id_str:g,component:S?230:void 0,aux_data:{...w?{creator_id:w,pin_id:g}:{}}}),T=()=>{h.setMostRecentPinId(g),P()},k=()=>{_((e=>!e))},I=c&&!e,A=I?"":l,C="overlay"===a,E=(0,H.jsxs)(Z.xu,{alignItems:"center",display:C?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,H.jsx)(Z.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:C?"flex":void 0,justifyContent:"center",children:(0,H.jsx)(Z.xu,{dangerouslySetInlineStyle:C?{__style:{marginTop:-45}}:void 0,children:(0,H.jsx)(Re,{attributionNameLink:A?e:void 0,avatarUrl:n,name:A,onClick:()=>T(),accessibilityLabel:A,size:C?64:32,outline:C})})}),(0,H.jsxs)(Z.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:C?"flex":void 0,justifyContent:"center",marginTop:C?2:void 0,children:[(0,H.jsx)(Z.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,H.jsxs)(Z.kC,{gap:{row:1,column:0},children:[(0,H.jsx)(De,{attributionNameLink:e,name:l,onClick:()=>T(),regularWeight:!(f&&!v||o),isHover:m}),(0,H.jsx)(Le.Z,{size:"sm",hasVerifiedIdentity:d,isVerifiedMerchant:u})]})}),(0,H.jsx)(Oe,{isHover:m,title:t,weight:"normal"})]})]});return I?(0,H.jsx)(Z.iP,{role:"link",onTap:({event:e})=>{p&&b({event_type:9371,element:13382,aux_data:{aop_origin:"Attribution"}}),e.stopPropagation(),T()},href:c,rel:p?"nofollow":void 0,target:p?"blank":void 0,onMouseEnter:k,onMouseLeave:k,children:E}):E}var Me=n(356725),ze=n(333312),Ze=n(695014),Be=n(676464),Ue=n(596493),He=n(422946),Ve=n(956800),$e=n(852025);function Ke({board:e,favoriteCount:t,favorited:n,pinId:o}){const{logContextEvent:r}=(0,U.v)(),s=(0,a.useDispatch)(),{slotIndex:l}=(0,J.E)(),{currentFilter:c,eligibleFilters:d,refreshData:u=(()=>{}),sectionId:p,setShowExperienceTooltip:h}=(0,$e.s)(),m=(0,i.useRef)(null),_=(0,z.Z)(),g=(0,k.Z)(_,e),v=c===Ue.Ac&&(!t||1===t),y=(0,Be.E)(d,Ue.Ac),f=e=>{r({event_type:101,component:0,element:e?12225:12226,object_id_str:o,view_type:5,view_parameter:g?3069:3070})};return(0,H.jsxs)(i.Fragment,{children:[(0,H.jsx)(Z.xu,{ref:m,children:(0,H.jsx)(Ze.Z,{favorited:n,favoriteCount:t,onFavorite:()=>{f(!0),y&&u(),h&&h(!0)},onUnfavorite:()=>{f(!1),e&&v&&s((0,Ve.EX)({feedId:p||e.id,feedType:p?He.DV.BOARD_SECTION_PINS:He.DV.BOARDFEED,itemIds:[o],itemType:"pin"}))},pinId:o,size:20})}),m&&!n&&!p&&0===l&&(0,H.jsx)(Z.mh,{children:(0,H.jsx)(ze.default,{anchor:m.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var Ge=n(850115),We=n.n(Ge),qe=n(379507),Ye=n.n(qe),Je=n(637956),Xe=n.n(Je),Qe=n(694379),et=n(909745),tt=n.n(et),nt=n(128206),it=n.n(nt);const at={goodIdea:We(),love:Xe(),thanks:tt(),wow:it(),haha:Ye()},ot={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},rt=["CreatorProfileStoryPinGrid"];const st=function({alignment:e="start",pinId:t,pinner:n,reactionCounts:i,surface:a}){const o=(0,z.Z)(),r=i?(0,q.At)(i):null,s=i?(0,q.Ud)(i):0,l=Boolean(o.isAuth&&(null==n?void 0:n.id)===o.id),c=!!r&&r.length>0&&r.map(((e,t)=>{const n=at[ot[e]];return(0,H.jsx)(Z.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,H.jsx)(Z.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},t)})),d=!!c&&(0,H.jsx)(Z.iP,{role:"link",href:`/pin/${t}/`,children:(0,H.jsxs)(Z.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:e,height:19,paddingY:3,children:[(0,H.jsx)(Z.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:c}),(0,H.jsx)(Z.xu,{paddingX:1,children:(0,H.jsx)(Z.xv,{size:"200",children:(0,H.jsx)(Qe.Z,{value:s,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),u=l&&rt.includes(a)&&(0,H.jsx)(Z.xu,{height:24});return d||u};var lt=n(62700),ct=n(862628);function dt({feedbackType:e,pin:t}){const n=(0,B.ZP)(),{pinner:i,source_interest:a}=t,{full_name:o,username:r}=i||{},{name:s}=a||{},l="topic"===e,c=!l&&"followed"===e,d=`/${r}/`,u=(0,ct.Z)(s),p=`/search/pins/?q=${encodeURIComponent(u)}&rs=image_only_attribution`,h=l?p:d,m={topic:n._('From {topic}', 'attribution on pin rep', 'attribution on pin rep'),followed:n._('From {pinnerName}', 'attribution on pin rep', 'attribution on pin rep'),pfyBoard:n._('Picked for you', 'attribution on pin rep', 'attribution on pin rep'),pfy:n._('Picked for you', 'attribution on pin rep', 'attribution on pin rep')}[e];if(!m)return null;if(c||l){const e=0===m.indexOf("{"),t=l?s:o,n=e?m.slice(m.indexOf("}")+1):m.slice(0,m.indexOf("{"));return e?(0,H.jsxs)(Z.xu,{children:[(0,H.jsx)(Z.rU,{display:"inlineBlock",href:h,underline:"hover",children:(0,H.jsx)(Z.xv,{weight:"bold",inline:!0,size:"200",lineClamp:1,children:t})}),(0,H.jsx)(Z.xv,{inline:!0,size:"200",children:n})]}):(0,H.jsxs)(Z.xu,{children:[(0,H.jsx)(Z.xv,{inline:!0,size:"200",children:n}),(0,H.jsx)(Z.rU,{display:"inlineBlock",href:h,underline:"hover",children:(0,H.jsx)(Z.xv,{color:"default",weight:"bold",inline:!0,size:"200",lineClamp:1,children:t})})]})}return(0,H.jsx)(Z.xu,{children:(0,H.jsx)(lt.Z,{pin:t,children:(0,H.jsx)(Z.xv,{color:"default",overflow:"normal",size:"200",weight:"bold",children:m})})})}var ut=n(955362),pt=n(397066),ht=n(48714);function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _t extends i.Component{constructor(...e){super(...e),mt(this,"state",{spamCheck:null}),mt(this,"mounted",!1),mt(this,"handleSpammyDomainCheck",(()=>{const{location:e,pin:t,surface:n,url:i}=this.props;i&&t&&(0,ht.$3)({location:e,pin:t,surface:n})&&(0,ht.iw)({isMounted:this.mounted,pin:t,location:e,spamCheckCallback:e=>this.setState({spamCheck:e}),href:i})})),mt(this,"handleClick",(e=>{const{auxData:t,location:n,onClick:i,pin:a,pinId:o,url:r,logContextEvent:s}=this.props;(0,ht.gV)({isOffsiteUrl:!0,event:e})||(e.preventDefault(),i&&i(e),r&&(0,pt.h)({href:r,pinId:o,pin:a,location:n,auxData:t},s))}))}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){const{spamCheck:e}=this.state;null===e&&this.handleSpammyDomainCheck()}render(){const{children:e,pin:t,url:n}=this.props;return(0,H.jsx)("a",{"aria-label":(null==t?void 0:t.domain)||"",href:n,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:e})}}function gt(e){var t;const{logContextEvent:n}=(0,U.v)(),i=(0,ne.S6)()(null!==(t=e.pinId)&&void 0!==t?t:"");return(0,H.jsx)(_t,{...e,history:(0,_e.useHistory)(),location:(0,_e.useLocation)(),logContextEvent:n,match:(0,_e.useRouteMatch)(),pin:i})}function vt(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:t,totalAssets:n}=window.prefetchCompletion[e];return n?(t/n*100).toFixed(3).toString():"-1"}var yt=n(941646),ft=n(385740);function bt({children:e,componentType:t,contextLogData:n,pin:i,surface:a,viewParameter:o,viewType:r}){const{logContextEvent:s}=(0,U.v)(),l=(0,J.E)(),{ad_destination_url:c,carousel_data:d,id:u,link:p,tracked_link:h}=i;let m,_=c||h||p||"",g="one-tap-desktop";const v=(0,ft.SU)();if(d){const{carousel_slots:e=[],id:t,index:n=0}=d;e[n]&&e[n].link&&(_=e[n].link),m={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n},g+="-carousel"}return(0,H.jsx)(Z.xu,{"data-test-id":"otpp",children:(0,H.jsx)(yt.Z,{id:g,children:(0,H.jsx)(gt,{auxData:m,onClick:()=>{s({event_type:12,view_type:r||l.viewType,view_parameter:o||l.viewParameter,component:t||l.componentType,object_id_str:u,aux_data:{...n,grid_index:l.slotIndex,pin_id:u,prefetch_percentage_complete:vt(p||"")}}),s({event_type:8948,view_type:r||l.viewType,view_parameter:o||l.viewParameter,component:t||l.componentType,object_id_str:u,aux_data:{...n,click_type:"clickthrough",closeup_navigation_type:"click",grid_index:l.slotIndex,pin_id:u,prefetch_percentage_complete:vt(p||"")}}),s({event_type:13,object_id_str:u,component:t||l.componentType,view_type:3,aux_data:{closeup_navigation_type:"web_closeup",...l.contextLogData,...n}}),s({event_type:13,view_type:v.viewType,view_parameter:v.viewParameter,view_data:v.viewData})},pinId:u,surface:a,url:_,children:e})})})}function xt(e){const{surface:t,...n}=e,{isOneTap:i,isVideo:a,isPromoted:o,isLeadPin:s}=(0,r.Z)(e.pin),l=!s&&(i||a&&o)?bt:lt.Z;return(0,H.jsx)(l,{surface:i?t:void 0,...n})}function wt({pin:e,pinNoteText:t}){return(0,H.jsx)(xt,{pin:e,children:(0,H.jsx)(Z.xv,{lineClamp:1,overflow:"normal",size:"200",children:t})})}var St=n(81226);function Pt({value:e,valueFormat:t}){const n=(0,B.ZP)();return e||0===e?"TIME"===t?(0,St.Z)(e):(0,H.jsx)(Qe.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):(0,H.jsx)(Z.u,{idealDirection:"up",text:n._('This stat is not available yet', 'closeup.partnerAnalytics.unavailableStat', 'when data for this field has not populated yet'),children:""})}var Tt=n(539002);function kt({pin:e}){var t;const n=(0,B.ZP)(),i=(0,z.Z)(),{isStoryPin:a,isVideo:o}=(0,r.Z)(e),s=i.isAuth&&(null===(t=e.pinner)||void 0===t?void 0:t.id)===i.id&&!e.is_repin,l=i.isAuth&&i.isPartner,d=(0,Tt.Z)("pinStats"),u=!!l&&d(),p=(0,ee.iL)({isOwnPin:s,isPartner:l}),h=(0,ee.H1)({isOwnPin:s,isPartner:l}),m=e.created_at?new Date(e.created_at):null,_=(p||h)&&m&&m.getTime()<=ee.HW.getTime(),g=p?function(e){const{public_creator_analytics:t}=e,{isStoryPin:n}=(0,r.Z)(e);return n&&t?t:null}(e):function(e){const{aggregated_pin_data:t,creator_analytics:n}=e,i=(0,c.Nc)(t),{creator_analytics:a}=t||{};return i?a:n}(e),v=function({isVideo:e,isStoryPin:t,i18n:n,showPublicPinStats:i,showPrivateFullScreenPinStats:a,showSCEMetrics:o}){return o&&!i?[{align:"start",displayText:n._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"end",displayText:n._('Pin clicks', 'pinRep.pinStats.pinclick', 'Label for pin clicks of a pin on pinrep'),field:"pin_click",iconSize:10,iconType:"hand-pointing"},{align:"center",displayText:n._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:e?[{align:"start",displayText:n._('Video views', 'pinRep.pinStats.videoViews', 'Label for views of a video pin on pinrep'),field:"video_views",iconType:"play"},{align:"center",displayText:n._('Avg. time', 'pinRep.pinStats.videoAverageTime', 'Label for average time of a video pin on pinrep'),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:n._('Saves', 'pinRep.pinStats.save', 'Label for saves of a video pin on pinrep'),field:"save",iconType:"angled-pin"}]:t?i?[{align:"start",displayText:n._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"}]:a?[{align:"start",displayText:n._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"},{align:"center",displayText:n._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"end",displayText:n._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:n._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:n._('Closeups', 'pinRep.pinStats.closeups', 'Label for closeups of a pin on pinrep'),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:n._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:n._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:n._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"},{align:"end",displayText:n._('Link clicks', 'pinRep.pinStats.clickthrough', 'Label for click-throughs of a pin on pinrep'),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}({isVideo:o,isStoryPin:a,i18n:n,showPublicPinStats:p,showPrivateFullScreenPinStats:h,showSCEMetrics:u});let y;return y=u?(null==g?void 0:g.all_time_realtime)||(null==g?void 0:g["30d_realtime"]):o||a?null==g?void 0:g.all_time_realtime:null==g?void 0:g["30d_realtime"],(0,H.jsx)(Z.kC,{alignItems:"stretch",justifyContent:"start",children:v.map((({align:e,displayText:t,field:n,iconType:i,iconSize:a=12,valueFormat:o})=>{var r;return(0,H.jsxs)(Z.xu,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[(0,H.jsx)(Z.xu,{display:"inlineBlock",marginEnd:1,children:(0,H.jsx)(Z.JO,{accessibilityLabel:t,color:"default",icon:i,size:a})}),(0,H.jsx)(Z.xv,{inline:!0,size:"200",children:(0,H.jsx)(Pt,{value:"full_screen_play"===n&&_?null:null===(r=y)||void 0===r?void 0:r[n],valueFormat:o})})]},n)}))})}function It({currentPrice:e,disableLink:t,originalPrice:n,pin:i,surface:a}){const o=n&&n!==e,r=(0,H.jsxs)(Z.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[e&&(0,H.jsx)(Z.xv,{color:"default",size:"200",weight:"bold",children:e}),o&&(0,H.jsx)(Z.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,H.jsx)(Z.xv,{color:"subtle",size:"200",weight:"bold",children:n})})]});return t?r:(0,H.jsx)(xt,{pin:i,surface:a,children:r})}function At({disableLink:e,pin:t,surface:n}){const i=(0,H.jsx)(Z.kC,{alignItems:"stretch",justifyContent:"start",children:(0,H.jsx)(Z.xv,{color:"default",lineClamp:1,overflow:"normal",size:"200",weight:"normal",children:p(t,n)})});return e?i:(0,H.jsx)(xt,{pin:t,surface:n,children:i})}var Ct=n(202870),Et=n(391254),jt=n(711344),Rt=n(366284);function Dt({disableLink:e,numberOfLines:t=2,pin:n,pinTitle:i,surface:a}){const o=(0,be.B)(),{checkExperiment:s}=(0,Q.F)(),{isPromoted:l}=(0,r.Z)(n),c=e?i:(0,H.jsx)(xt,{pin:n,surface:a,children:i}),d=(0,Rt.G6)(o.userAgent.browserName),u="iphone"===(0,jt.v)(o),p="ipad"===(0,jt.v)(o);return(u||p||d)&&!l&&s("hfp_title_truncation_safari_web").anyEnabled?(0,H.jsxs)(Z.xv,{color:"default",size:"200",weight:"bold",children:[(0,H.jsx)(Et.Z,{unsafeCSS:"\n  .shorten-title > a {\n    max-width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .shorten-title {\n    max-width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  "}),(0,H.jsx)("div",{className:"shorten-title",children:c})]}):(0,H.jsx)(Z.xv,{color:"default",lineClamp:t,size:"200",weight:"bold",children:c})}var Ot=n(327476),Lt=n(225692);const Ft={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${Lt.X}ms ease`},visible:{opacity:1}}};function Nt({attributionType:e,board:t,feedbackData:n,feedbackType:o,hasTextContent:s,hasTitleOrSource:l,hoverTransitionState:c,pin:d,pinNoteText:u,pinTitle:p,productCurrentPrice:h,productOriginalPrice:_,setForcePrimary:g,showCarouselEllipsis:v,showFavoriteButton:y,showGroupBoardAvatar:f,showNativeReactions:b,showOverflowMenu:x,showPinStats:w,showSource:S,showTextContent:P,showAttribution:T,surface:k,titleLines:I}){var A,C,E,j;const R=(0,B.ZP)(),D=(0,z.Z)(),O=(0,a.useDispatch)(),{favorited_by_me:L,favorite_user_count:F,id:N,pinner:M,reaction_counts:U,sponsorship:V,story_pin_data:$}=d,{has_affiliate_products:K}=$||{},{checkExperiment:G}=(0,Q.F)(),W=(0,Ot.Z)(),q=function(e,t,n,i,a){var o,s,l,c,d;const{board:u,link_domain:p={},promoter:h,sponsorship:m,native_creator:_}=e,{sponsor:g}=m||{},{isPromoted:v}=(0,r.Z)(e),{official_user:y}=p||{},f=v&&!!m&&(null==_?void 0:_.id)!==(null==h?void 0:h.id),b=e.pinner||{};let x="",w="",S="",P="",T="",k="",I=!1,A=!1,C=!1;function E(e,t){return i&&!!e&&!!t}var j,R,D,O,L,F,N,M;if(f)x=null!==(j=null!==(R=null==_?void 0:_.image_medium_url)&&void 0!==R?R:null==_?void 0:_.image_small_url)&&void 0!==j?j:"",w=E(null==_?void 0:_.is_ads_only_profile,null==_?void 0:_.ads_only_profile_site)?null!==(D=_.ads_only_profile_site)&&void 0!==D?D:"":`/${null!==(O=null==_?void 0:_.username)&&void 0!==O?O:""}/`,S=null==h?void 0:h.full_name,P=null==_?void 0:_.full_name,k=E(null==_?void 0:_.is_ads_only_profile,null==_?void 0:_.ads_only_profile_site)?null!==(L=_.ads_only_profile_site)&&void 0!==L?L:"":`/${null!==(F=null==_?void 0:_.username)&&void 0!==F?F:""}/`,T=`/${null!==(N=null==h?void 0:h.username)&&void 0!==N?N:""}/`,I=null==_||null===(M=_.verified_identity)||void 0===M?void 0:M.verified,A=null==_?void 0:_.is_verified_merchant,C=E(null==_?void 0:_.is_ads_only_profile,null==_?void 0:_.ads_only_profile_site);else if(v&&h)x=h.image_medium_url||h.image_small_url,S=h.full_name,P=n._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin'),a&&(P=a(P)),k=E(h.is_ads_only_profile,h.ads_only_profile_site)?h.ads_only_profile_site:`/${h.username}/`,C=E(h.is_ads_only_profile,h.ads_only_profile_site);else if(m&&null!=g&&g.username){var z,Z,B,U,H,V,$,K,G;x=null!==(z=null!==(Z=null!==(B=null==_?void 0:_.image_large_url)&&void 0!==B?B:null==_?void 0:_.image_medium_url)&&void 0!==Z?Z:null==_?void 0:_.image_small_url)&&void 0!==z?z:"",w=E(null==_?void 0:_.is_ads_only_profile,null==_?void 0:_.ads_only_profile_site)?null!==(U=_.ads_only_profile_site)&&void 0!==U?U:"":`/${null!==(H=null==_?void 0:_.username)&&void 0!==H?H:""}/`,S=g.full_name,P=null==_?void 0:_.full_name,k=E(null==_?void 0:_.is_ads_only_profile,null==_?void 0:_.ads_only_profile_site)?null!==(V=_.ads_only_profile_site)&&void 0!==V?V:"":`/${null!==($=null==_?void 0:_.username)&&void 0!==$?$:""}/`,T=`/${null!==(K=g.username)&&void 0!==K?K:""}/`,I=null==_||null===(G=_.verified_identity)||void 0===G?void 0:G.verified,A=null==_?void 0:_.is_verified_merchant,C=E(null==_?void 0:_.is_ads_only_profile,null==_?void 0:_.ads_only_profile_site)}else if(_){var W,q,Y,J;x=null!==(W=null!==(q=null!==(Y=_.image_large_url)&&void 0!==Y?Y:_.image_medium_url)&&void 0!==q?q:_.image_small_url)&&void 0!==W?W:"",P=_.full_name,k=E(_.is_ads_only_profile,_.ads_only_profile_site)?_.ads_only_profile_site:`/${_.username}/`,I=null===(J=_.verified_identity)||void 0===J?void 0:J.verified,A=_.is_verified_merchant,C=E(_.is_ads_only_profile,_.ads_only_profile_site)}else if("show-for-claimed-content"===t){var X,Q,ee,te,ne;null!=y&&y.is_primary_website_verified&&y.username&&(x=null!==(X=null!==(Q=null!==(ee=y.image_large_url)&&void 0!==ee?ee:y.image_medium_url)&&void 0!==Q?Q:y.image_small_url)&&void 0!==X?X:"",P=y.full_name,k=E(y.is_ads_only_profile,y.ads_only_profile_site)?y.ads_only_profile_site:`/${null!==(te=y.username)&&void 0!==te?te:""}/`,I=null===(ne=y.verified_identity)||void 0===ne?void 0:ne.verified,A=y.is_verified_merchant,C=E(y.is_ads_only_profile,y.ads_only_profile_site))}else{var ie,ae,oe,re;x=null!==(ie=null!==(ae=null!==(oe=b.image_large_url)&&void 0!==oe?oe:b.image_medium_url)&&void 0!==ae?ae:b.image_small_url)&&void 0!==ie?ie:"",w=`/${b.username}/`,P=b.full_name,k=u?u.url:"",I=null===(re=b.verified_identity)||void 0===re?void 0:re.verified,A=b.is_verified_merchant}return{avatarUrl:null!==(o=x)&&void 0!==o?o:"",attributionNameLink:null!==(s=w)&&void 0!==s?s:"",attributionTitle:null!==(l=S)&&void 0!==l?l:"",name:null!==(c=P)&&void 0!==c?c:"",sponsorUrl:T,url:null!==(d=k)&&void 0!==d?d:"",verifiedIdentity:!!I,isVerifiedMerchant:!!A,shouldRenderAdsOnlyProfileClick:!!C}}(d,e,R,G("web_ads_only_profiles_link_redirect").anyEnabled,W),{avatarUrl:Y,attributionNameLink:J,attributionTitle:X,name:ee,sponsorUrl:te,url:ne,verifiedIdentity:ie,isVerifiedMerchant:ae,shouldRenderAdsOnlyProfileClick:oe}=q,re=!!d.promoter&&!d.is_downstream_promotion,se=re&&(null===(A=d.native_creator)||void 0===A?void 0:A.id)===(null===(C=d.promoter)||void 0===C?void 0:C.id),le=(0,me.Z)(101,{view_type:3,element:27,object_id_str:N,component:d.story_pin_data_id?230:void 0,aux_data:{pin_id:N,...null!=V&&null!==(E=V.creator)&&void 0!==E&&E.id&&null!==(j=V.sponsor)&&void 0!==j&&j.id?{creator_id:V.creator.id,sponsor_id:V.sponsor.id}:{}}}),ce=e=>O(ce(e)),{full_name:de}=(null==V?void 0:V.sponsor)||{},ue="ConversationView"===k?{padding:"8px"}:Ft.container;return(0,H.jsxs)(Z.xu,{dangerouslySetInlineStyle:{__style:ue},children:[v&&(0,H.jsx)(Z.xu,{dangerouslySetInlineStyle:{__style:l||f||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,H.jsx)(Me.default,{pinId:N})}),w&&(0,H.jsx)(Z.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%","data-test-id":"pin-stats-footer",children:(0,H.jsx)(kt,{pin:d})}),(0,H.jsx)(Z.kC,{alignItems:"stretch",justifyContent:"start",children:(0,H.jsxs)(Z.xu,{flex:"grow",children:[(!!V||K&&!re)&&!se&&(0,H.jsx)(Z.xu,{marginBottom:1,children:(0,H.jsx)(Z.xu,{flex:"grow",overflow:"hidden",children:(0,H.jsx)(Ct.Z,{hasAffiliateProducts:K,href:te||ne,isPromoted:re,sponsorName:de,sponsorshipStatus:null==V?void 0:V.status,onNavigateSponsorClick:()=>{ce(N),le()},textWeight:"bold"})})}),(P&&s||y)&&(0,H.jsxs)(Z.xu,{marginBottom:1,children:[(_||h)&&(0,H.jsx)(Z.xu,{marginBottom:1,children:(0,H.jsx)(It,{currentPrice:h,originalPrice:_,pin:d,surface:k})}),y?(0,H.jsxs)(Z.kC,{alignItems:"start",children:[(0,H.jsx)(Z.kC,{flex:"grow",children:(0,H.jsx)(Dt,{numberOfLines:I,pin:d,pinTitle:p,surface:k})}),(0,H.jsx)(Z.xu,{marginStart:3,children:(0,H.jsx)(Ke,{board:t,favorited:!!L,favoriteCount:null!=t&&t.is_collaborative&&(0,m.Z)({board:t,viewer:D})?null!=F?F:0:void 0,pinId:N})})]}):(0,H.jsx)(Dt,{numberOfLines:I,pin:d,pinTitle:p,surface:k}),S&&(0,H.jsx)(Z.xu,{marginBottom:2,children:(0,H.jsx)(At,{pin:d,surface:k})})]}),T&&(0,H.jsxs)(Z.kC,{alignItems:"center",justifyContent:"start",children:[(0,H.jsx)(Z.xu,{flex:"grow",children:(()=>{const t=(0,H.jsx)(Ne,{attributionNameLink:J,attributionTitle:re&&!V||se?X:"",avatarUrl:Y,isPromotedByPinCreator:!!se,isVerifiedMerchant:ae,shouldRenderAdsOnlyProfileClick:oe,name:ee,pin:d,url:ne,verifiedIdentity:ie});switch(e){case"none":return null;case"image-only-credit":return(0,H.jsx)(Z.xu,{dangerouslySetInlineStyle:{__style:Ft.imageOnlyAttribution["active"===c?"visible":"hidden"]},children:(0,H.jsx)(dt,{pin:d,feedbackType:o})});default:return Object.values(q).some((e=>Boolean(e)))?t:null}})()}),x&&(0,H.jsx)(Z.xu,{flex:"none",children:(0,H.jsx)(ut.default,{feedbackData:n,feedbackType:o,pin:d,pinTitle:p,setForcePrimary:g,transparentBackground:!0})})]}),b&&!!U&&Object.keys(U).length>0&&(0,H.jsx)(Z.xu,{marginTop:"ConversationView"===k?2:void 0,children:(0,H.jsx)(st,{pinId:N,pinner:M,reactionCounts:U,surface:k})}),u&&(0,H.jsx)(Z.xu,{marginBottom:1,children:(0,H.jsx)(wt,{pin:d,pinNoteText:u})}),f&&!y&&(0,H.jsx)(Z.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:(0,H.jsxs)(i.Fragment,{children:[(0,H.jsx)(Re,{attributionNameLink:J||ne,avatarUrl:Y,fullWidth:!1,name:ee,accessibilityLabel:ee,shouldRenderAdsOnlyProfileClick:oe}),(0,H.jsx)(Z.xu,{marginStart:2,flex:"grow",children:(0,H.jsx)(Z.xv,{size:"200",children:ee})})]})})]})},`${d.id}-sponsor-name-link`)]})}var Mt=n(149230);function zt(){const e=(0,B.ZP)();return(0,H.jsx)(Z.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('Sold out', 'pinrep.footer.outOfStock', 'Footer text to indicate that product pin is out of stock.')})}var Zt=n(104389);function Bt(){const e=(0,B.ZP)();return(0,H.jsx)(Z.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('See price on site', 'pinrep.footer.staleProduct', 'Footer text to indicate that is a stale(untrustworthy) product pin.')})}const Ut=18;function Ht({dimension:e,color:t,isSelected:n,img:i,selectVariant:a}){var o,r,s;const l=(0,B.ZP)(),c=(0,H.jsx)(Z.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onMouseEnter:({event:n})=>{n.preventDefault(),n.stopPropagation(),a({dimensionName:e,variant:t})},onFocus:()=>{a({dimensionName:e,variant:t})},children:(0,H.jsx)(Z.xu,{"data-test-id":`primary-variant-preview-icon-${t}`,height:Ut,width:Ut,rounding:1,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{border:n?"1px solid black":"1px solid #EFEFEF"}},children:(0,H.jsx)(Z.xu,{height:14,width:14,position:"absolute",rounding:1,overflow:"hidden",children:(0,H.jsx)(Z.xu,{"data-test-id":`${t}-variant-preview-wrapper`,dangerouslySetInlineStyle:{__style:{transform:"scale(10,10)"}},children:(0,H.jsx)(Z.zd,{height:14,width:14,rounding:1,children:(0,H.jsx)(Z.Ee,{alt:l._('Color variant preview image', 'MerchantStorefront.Variant.VariantPreviewIcon.Image', 'Alt text for color variant preview image'),naturalHeight:null!==(o=i.height)&&void 0!==o?o:1,naturalWidth:null!==(r=i.width)&&void 0!==r?r:1,src:null!==(s=i.url)&&void 0!==s?s:"",fit:"contain"})})})})})});return(0,H.jsx)(Z.xu,{"data-test-id":`primary-variant-main-${t}`,display:"inlineBlock",height:Ut,rounding:1,width:Ut,children:c})}function Vt(){const{logContextEvent:e}=(0,U.v)(),t=(0,ae.Xx)(),n=t&&t.primaryVariants.filter((e=>e.image)).length>0;if((0,i.useEffect)((()=>{e({event_type:120,component:14092})}),[n,e]),!t)return null;const{primaryVariants:a,primaryDimName:o}=t,r=a.slice(0,6).map((e=>{const n=e.value,i=e.value===t.selectedMap[o],a=e.image;return a?(0,H.jsx)(Ht,{dimension:o,color:n,isSelected:i,img:a,selectVariant:t.selectVariant},n):null})).filter(Boolean);if(a.length>6){const e=a.length-6;r.push((0,H.jsx)(Z.xu,{"data-test-id":"plus-number",display:"flex",height:Ut,rounding:1,width:Ut,justifyContent:"center",children:(0,H.jsxs)(Z.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onTap:({event:e})=>{e.stopPropagation()},children:["+",e]})},6))}return(0,H.jsx)(Z.kC,{justifyContent:"start",alignItems:"center",gap:3,children:r})}function $t({contentType:e,hasTextContent:t,pin:n,pinTitle:a,productCurrentPrice:o,productOriginalPrice:r,productRating:s,productShipping:l,showSource:c,showVisitSiteButton:d,surface:p,titleLines:h}){var m;const{logContextEvent:_}=(0,U.v)(),g=(0,B.ZP)(),{checkExperiment:v}=(0,Q.F)(),{anyEnabled:y,group:f}=v("web_shopping_grid_metadata_ratings_shipping",{dangerouslySkipActivation:!0}),b=(null===(m=n.rich_summary)||void 0===m?void 0:m.url)||n.link;"shopping"!==e||f.includes("pwt")||v("web_shopping_grid_metadata_ratings_shipping");let x=null;if((0,ae.Xx)()){const{anyEnabled:e}=v("storefront_variant_pins");e&&(x=(0,H.jsx)(Vt,{}))}const w=(0,Mt.Z)({url:b})?"nofollow":"none";return(0,H.jsx)(Z.xu,{dangerouslySetInlineStyle:{__style:Ft.productContainer},height:"100%",children:(0,H.jsx)(Z.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:t&&(0,H.jsxs)(i.Fragment,{children:[(0,H.jsx)(xt,{pin:n,surface:p,children:(0,H.jsxs)(Z.kC,{direction:"column",gap:1,children:[(r||o)&&(0,H.jsx)(It,{currentPrice:o,disableLink:!0,originalPrice:r,pin:n,surface:p}),(0,u.qN)(n)&&(0,H.jsx)(zt,{}),(0,u.SP)(n)&&(0,H.jsx)(Bt,{}),(0,H.jsx)(Dt,{disableLink:!0,numberOfLines:h,pin:n,pinTitle:a,surface:p}),c&&(0,H.jsx)(At,{disableLink:!0,pin:n,surface:p}),"shopping"===e&&y&&(s||Number.isFinite(null==l?void 0:l.free_shipping_value))&&(0,H.jsx)(Zt.Z,{count:null==s?void 0:s.count,countFormat:"number",isGridView:!0,ratingValue:null==s?void 0:s.rating,shippingInfo:l}),x]})}),d&&b?(0,H.jsx)(Z.xu,{marginTop:2,children:(0,H.jsx)(Z.zx,{role:"link",fullWidth:!0,href:b,rel:w,onClick:()=>{_({event_type:12,view_type:1,view_parameter:3563})},target:"blank",text:g._('Visit site', 'ShoppingList.Pin.CTA.Button.VisitSite.Text', 'Text on CTA button on ShoppingList Pin to Visit Site')})}):null]})})})}const Kt=(0,i.memo)((function({attributionType:e,blockClickEvents:t,board:n,contentType:i,feedbackData:a,feedbackType:o,hoverTransitionState:r,pin:s,pinNoteText:l,pinTitle:c,productCurrentPrice:d,productOriginalPrice:u,productRating:p,productShipping:h,setForcePrimary:m,showCarouselEllipsis:_,showFavoriteButton:g,showGroupBoardAvatar:v,showNativeReactions:y,showOverflowMenu:f,showPinStats:b,showSource:x,showTextContent:w,showVisitSiteButton:S,showAttribution:P=!0,surface:T,titleLines:k}){const I=c||x,A="shopping"===i?(0,H.jsx)($t,{contentType:i,hasTextContent:!!I,pin:s,pinTitle:c,productCurrentPrice:d,productOriginalPrice:u,productRating:p,productShipping:h,showSource:x,showVisitSiteButton:S,surface:T,titleLines:k}):(0,H.jsx)(Nt,{attributionType:e,board:n,feedbackData:a,feedbackType:o,hasTextContent:!!I,hasTitleOrSource:!!I,hoverTransitionState:r,pin:s,pinNoteText:l,pinTitle:c,productCurrentPrice:d,productOriginalPrice:u,setForcePrimary:m,showCarouselEllipsis:_,showFavoriteButton:g,showGroupBoardAvatar:v,showNativeReactions:y,showOverflowMenu:f,showPinStats:b,showSource:x,showTextContent:w,showAttribution:P,surface:T,titleLines:k});return t?(0,H.jsx)(Z.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:A}):(0,H.jsx)(Z.kC,{flex:"grow",children:(0,H.jsx)(se.Z,{fullWidth:!0,children:A})})}));var Gt=n(685909),Wt=n(784590),qt=n(990823);const Yt=(0,i.lazy)((()=>n.e(34979).then(n.bind(n,91540)))),Jt=(0,i.lazy)((()=>Promise.all([n.e(97270),n.e(46457),n.e(81165),n.e(50192),n.e(43473)]).then(n.bind(n,666258)))),Xt=(0,i.lazy)((()=>Promise.all([n.e(97270),n.e(46457),n.e(81165),n.e(50192),n.e(22347)]).then(n.bind(n,494424)))),Qt=(0,i.lazy)((()=>Promise.all([n.e(97270),n.e(76030),n.e(22538)]).then(n.bind(n,450564)))),en=(0,i.lazy)((()=>n.e(1593).then(n.bind(n,331806))));function tn({derivedSaveButtonOptions:e,forcePrimaryContent:t,showEnabledSaveBehavior:n,onToggleFlyout:o,onToggleModal:r,pin:s}){const l=(0,ae.Xx)(),c=function(e){return(0,Wt.Z)(e?{name:"PinResource",options:{id:e}}:null)}(null==l?void 0:l.variantUrl),d=c&&c.data?c.data:s,{id:u,savedInfo:p}=d,h=(0,i.useRef)(!!p),m=(0,a.useSelector)((({experiences:e})=>{const t=e[1000294];return 502450===(null==t?void 0:t.experience_id)?t:null})),{saveBehaviorType:_}=(0,qt.tY)(n);void 0!==_&&["classic","controlled","inline"].includes(e.type)&&(e=_);const{viewParameter:g,viewType:v}=(0,J.E)(),y=(0,me.Z)(101,{element:0,object_id_str:u});let f=null;const b={onToggleModal:o,view:v,viewParameter:g,useLegoStyles:!0};if(!e.hidePinBetterSaveDropdown&&(m||n&&["classic","controlled"].includes(e.type))&&["classic","controlled","inline"].includes(e.type)){const{renderPinSaveTooltip:i}=e;f=(0,H.jsx)(I.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,H.jsx)(L.Z,{children:(0,H.jsx)(se.Z,{children:(0,H.jsx)(Qt,{experience:m||void 0,forcePrimaryContent:t,pin:d,renderPinSaveTooltip:i,showEnabledSaveBehavior:n,viewParameter:g})})})})}else if("classic"===e.type||"controlled"===e.type){const{renderPinSaveTooltip:t}=e;f=(0,H.jsx)(I.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,H.jsx)(L.Z,{children:(0,H.jsx)(Z.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,H.jsx)(se.Z,{children:(0,H.jsx)(Jt,{onClickCallback:y,onToggleModal:r,oneTapSave:"controlled"===e.type?e:void 0,pin:d,renderPinSaveTooltip:t,renderSavedStatus:()=>!!p&&(0,H.jsx)(se.Z,{children:(0,H.jsx)(Gt.Z,{isNewlySaved:!h.current,name:p.title,type:p.type,url:p.url})}),variant:"lego",viewParameter:g})})})})})}else if("inline"===e.type){const t=d,{initialSelection:n,onSave:i,renderPinSaveTooltip:a,hidePinBetterSaveDropdown:s}=e;f=(0,H.jsx)(I.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,H.jsx)(L.Z,{children:(0,H.jsx)(Z.xu,{"data-test-id":"better-save",children:(0,H.jsx)(se.Z,{children:(0,H.jsx)(Xt,{initialSelection:n,onSave:i,onToggleFlyout:o,onToggleModal:r,pin:t,renderPinSaveTooltip:a,renderSavedStatus:({savedInfo:e})=>e&&(0,H.jsx)(se.Z,{children:(0,H.jsx)(Gt.Z,{isNewlySaved:!h.current,name:e.title,type:e.type,url:e.url,shouldUseLegoStyles:!0})}),variant:"pin",viewParameter:g,hideDropdown:s})})})})})}else"persistentOneClickSave"===e.type?f=(0,H.jsx)(I.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,H.jsx)(L.Z,{children:(0,H.jsx)(Z.xu,{"data-test-id":"persistent-one-click-save",children:(0,H.jsx)(se.Z,{children:(0,H.jsx)(Yt,{...b,saveOptions:e,pin:d})})})})}):"promote"===e.type&&(f=(0,H.jsx)(Z.kC,{alignItems:"stretch",justifyContent:"end",children:(0,H.jsx)(I.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,H.jsx)(L.Z,{children:(0,H.jsx)(Z.xu,{"data-test-id":"pin-promote-button",children:(0,H.jsx)(se.Z,{children:(0,H.jsx)(en,{pin:d})})})})})}));return(0,H.jsx)(I.Z,{name:"PinRepPrimaryContent",children:(0,H.jsx)(Z.xu,{display:"flex",margin:3,children:f&&(0,H.jsx)(Z.xu,{marginStart:"auto",flex:"grow",children:f})})})}var nn=n(64446);const an={marginTop:"1px"};function on({cta:e}){const t=(0,B.ZP)();return(0,H.jsx)(Z.iP,{children:(0,H.jsx)(Z.xu,{"data-test-id":"pinrep-chin",minHeight:32,color:"secondary",dangerouslySetInlineStyle:{__style:an},children:(0,H.jsxs)(Z.xu,{padding:2,display:"flex",justifyContent:"between",children:[(0,H.jsx)(Z.xv,{size:"200",weight:"bold",children:e||t._('Learn more', '[m10n] pinRep.chin.learnMore', 'Closeup for learn more chin')}),(0,H.jsx)(Z.JO,{icon:"arrow-forward",size:12,accessibilityLabel:t._('Go to lead ad', '[m10n] pinRep.chin.arrowForwardIcon', 'Arrow forward icon for chin'),color:"default"})]})})})}var rn=n(40706),sn=n(876371),ln=n(438908),cn=n(453782);const dn={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function un({isSelected:e}){const t=(0,B.ZP)();return(0,H.jsx)(Z.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?dn:{},children:(0,H.jsx)(Z.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,H.jsx)(Z.xu,{alignItems:"center",color:e?"dark":"default",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,H.jsx)(Z.JO,{accessibilityLabel:t._('Pin is selected to be saved', 'SectionSuggestionPin.iconOnPin.selectedPin', 'accessibility label on an icon'),color:"inverse",icon:"check",size:12})})})})}var pn=n(124364),hn=n(802933),mn=n(674915),_n=n(944546),gn=n(428258),vn=n(172071);const yn={},fn=e=>{vn.Z.increment("web_prefetch_via_xhr.attempt",1);const t=(0,ue.Z)(e);return new Promise(((n,i)=>{if(window.navigator&&window.navigator.connection){const e=window.navigator.connection;e.saveData&&(vn.Z.increment("web_prefetch_via_xhr.saveDataOn",1),n()),/2g/.test(e.effectiveType)&&(vn.Z.increment("web_prefetch_via_xhr.poorConnection",1),n())}const a=new XMLHttpRequest;a.open("GET",e),a.onload=()=>{200===a.status?(yn[e]&&(yn[e].loaded=!0),vn.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:t.hostname||"unknown"}),n(a.response)):(vn.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:t.hostname||"unknown"}),i())},yn[e]||(a.send(),yn[e]={added:!0,xhr:a},vn.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:t.hostname||"unknown"}))}))},bn={},xn=(e,t)=>{const n="string"==typeof e?e:e.url;if(t&&n){const e="control"===t?"v3.pinimg.com":"v2.pinimg.com";return n.replace("v.pinimg.com",e)}return n};function wn(e,t){return(xn("https://v.pinimg.com/videos/mc/hls/",t)||"")+`${e.slice(0,2)}/${e.slice(2,4)}/${e.slice(4,6)}/${e}`}function Sn(e){const{id:t}=e;t&&bn[t]&&bn[t].length>0&&bn[t].forEach((e=>{(e=>{yn[e]&&yn[e].xhr&&!yn[e].loaded&&(vn.Z.increment("web_prefetch_abort_xhr",1),yn[e].xhr.abort(),yn[e].aborted=!0)})(e)}))}function Pn({autoplaySettingOff:e,blockClickEvents:t,fallbackColor:n,imageFit:a,imageHeightModifier:o,isDenseView:s,isHovering:l,onError:c,onLoad:d,pin:u,pinImageCrop:p,resolution:h="default",rootMargin:m,selectionState:_,showCarousel:g,showPromotedVideos:v,showLeadPinStdBeta:y,showUnavailablePin:f,surface:b}){const{contextLogData:x,slotIndex:w,viewParameter:S,viewType:P}=(0,J.E)(),{checkExperiment:T}=(0,Q.F)(),{group:k}=T("web_prefetch_video_in_feed"),{id:I="",aggregated_pin_data:A,image_signature:C,story_pin_data:E}=u,{pin_tags_chips:j}=A||{},{isOneTap:R,isVideo:D,isPromoted:O}=(0,r.Z)(u),{cropHeight:L,cropWidth:F}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(p);let N=null;if(f)N=(0,H.jsx)(pn.Z,{isDenseView:s,height:s?250:420,rounding:0,width:s?164:236});else if(e||!D||!v&&O||"BoardCoverSelectablePin"===b)if(g)N=(0,H.jsx)(Z.xu,{"data-test-id":"pinrep-carousel",children:(0,H.jsx)(sn.Z,{cropHeight:L,cropWidth:F,onError:c,onLoad:d,highResOnly:"high-res"===h,lowResOnly:"low-res"===h,pinId:I,showCarouselBadge:!1,pin:u})});else{const e="backend"===p?function({images:e,image_crop:t}){var n;const i=e&&(null===(n=e["236x"])||void 0===n?void 0:n.height);if(t&&(0!==t.min_y||1!==t.max_y)){const{min_y:e=0,max_y:n=0}=t;return{marginTop:(e>0?-1*e*(null!=i?i:0):0)+"px",marginBottom:`${n<1?Math.round(-1*(1-n)*(null!=i?i:0)):0}px`}}return{}}(u):{};N=(0,H.jsxs)(Z.xu,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:[(0,H.jsx)(ln.Z,{cropHeight:L,cropWidth:F,fallbackColor:n,imageFit:a,highResOnly:"high-res"===h,lowResOnly:"low-res"===h,mediumResOnly:"medium-res"===h,onLoad:d,onError:c,pin:u}),y&&(0,H.jsx)(on,{cta:u.call_to_action_text})]})}else N=(0,H.jsxs)(Z.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:L||void 0,justifyContent:"center",children:[(0,H.jsx)(cn.Z,{cropHeight:L,cropWidth:F,highResOnly:"high-res"===h,imageHeightModifier:o,inAdsDesktopVideoExperiment:D&&v,isExperimentalPinRep:!0,lowResOnly:"low-res"===h,onError:c,onLoad:d,pin:u,rootMargin:m,surface:b,viewParameter:S,viewType:P}),y&&(0,H.jsx)(on,{cta:u.call_to_action_text})]});const M=(0,H.jsx)(Z.zd,{wash:!0,children:(0,H.jsx)(ce.Z,{hovered:l,pin:u,slotIndex:w,viewType:1,children:N})}),z=["selected-image-only","deselected-image-only"].includes(_),B="selected-image-only"===_,U=(0,i.useRef)(!0),V=(0,i.useRef)(!1),$=(0,i.useRef)(!1),K=T("web_video_quic").group;if((0,i.useEffect)((()=>{U.current||!l||R||t||V.current?l||!V.current||$.current||(Sn(E||u),$.current=!0):E?(!function(e,t){var n;const{id:i,pages:a,pages_preview:o}=e;if(!o&&!a)return;const r=o?o[0]:null==a?void 0:a[0],s=null==r||null===(n=r.blocks)||void 0===n?void 0:n.find((e=>3===e.block_type));if(s&&s.video){const{hlsv3:e,mp4:n}=(0,gn.Z)(s.video)||{},a=n||e;if(a&&i){var l;const e=null!==(l=xn(a,t))&&void 0!==l?l:"";bn[i]=bn[i]?bn[i].concat(e):[e],fn(e)}}}(E,K),V.current=!0):(!function(e,t){const{id:n,videos:i}=e,{video_list:a}=i||{},o=(0,hn.Z)({pin:e}),{video:r}=(0,mn.Z)(o)||{},{hls:s,hlsv3:l}=r||{};if(a){const e=(0,gn.t)(a)||{},i=l||s||{};if(i.url){var c;const e=null!==(c=xn(i.url,t))&&void 0!==c?c:"";bn[n]=bn[n]?bn[n].concat(e):[e],fn(e).then((e=>{let i=[];if("string"==typeof e&&(i=e.split("\n").filter((e=>e.endsWith(".m3u8")))),i&&i[_n.VS]){const e=wn(i[_n.VS],t);return bn[n]=bn[n].concat(e),fn(null!=e?e:"")}return null})).then((e=>{let i=[];if("string"==typeof e&&(i=e.split("\n").filter((e=>e.endsWith(".ts")))),i&&i[0]){const e=wn(i[0],t);return bn[n]=bn[n].concat(e),fn(null!=e?e:"")}return null}))}else if(e.url){var d;const i=null!==(d=xn(e.url,t))&&void 0!==d?d:"";fn(i),bn[n]=bn[n]?bn[n].concat(i):[i]}}}(u,K),V.current=!0),U.current=!1}),[t,l,R,E,u,k,K]),t)return(0,H.jsxs)(i.Fragment,{children:[M,z&&(0,H.jsx)(un,{isSelected:B}),j&&(0,H.jsx)(Z.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,H.jsx)(rn.Z,{pin:u,enableCloseupLink:!0})})]});const{commerce_data:G,story_type:W,board_id:q,board_pin_count:Y}=x||{},X=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(b);return(0,H.jsxs)(xt,{contextLogData:{commerce_data:X?G:void 0,grid_index:w,image_signature:C,story_type:W,board_id:q,board_pin_count:Y},elementType:E?12372:35,pin:u,surface:b,children:[M,j&&(0,H.jsx)(Z.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,H.jsx)(rn.Z,{pin:u,enableCloseupLink:!1})})]})}function Tn(e){return e<160?"header-only":"none"}function kn(e){const[t,n]=(0,i.useState)(e.current?Tn(e.current.clientHeight||0):"none");return function(e,t){const n=(0,i.useRef)();(0,i.useEffect)((()=>{const i=e.current;if(!i)return;const a=n.current;a&&a.width===i.offsetWidth&&a.height===i.offsetHeight||(n.current={width:i.offsetWidth||0,height:i.offsetHeight||0},t&&t(n.current))})),n.current}(e,(({height:e})=>{const i=Tn(e);i!==t&&n(i)})),t}var In=n(704115);const An={impressed:{backgroundColor:"#adebad"}};function Cn({debugImpressionState:e="paused",slotIndex:t}){return"paused"===e?null:(0,H.jsx)(Z.xu,{dangerouslySetInlineStyle:{__style:An.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,H.jsx)(Z.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"selected",children:(0,H.jsx)(Z.xv,{color:"inverse",children:(0,H.jsx)("span",{className:"deprecatedTextSizeXL",children:t})})})})}var En=n(43671),jn=n(841509),Rn=n(525199),Dn=n(310227);const On="#000000",Ln="#ffffff";function Fn({selected:e=!1}){const t=(0,B.ZP)(),{isRTL:n}=(0,be.B)();return(0,H.jsx)(Z.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new Z.Ry(1),"data-test-id":"pinRepSelectionBorder",dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?On:Ln,borderRadius:Dn.Oc,boxShadow:e?"inset 0 0 0 3px #fff":void 0}},children:e?(0,H.jsx)(Z.xu,{position:"absolute",bottom:!0,right:!n,left:n,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"dark",children:(0,H.jsx)(Z.JO,{accessibilityLabel:t._('Check icon', 'pinRepSelectionBorder.checkIcon', 'Accessibility label for check icon on selected Pin'),icon:"check",color:"inverse",size:12})}):(0,H.jsx)(Z.xu,{right:!n,left:n,position:"absolute",top:!0,margin:3,children:(0,H.jsx)(Z.JO,{accessibilityLabel:t._('Handle icon', 'pinRepSelectionBorder.handleIcon', 'Accessibility label for handle icon on an organizable Pin'),icon:"handle",color:"light",size:24})})})}const Nn={wrapper:{borderRadius:Dn.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:Dn.Dv.VISUAL},savedOverlay:{backgroundColor:Dn.Dv.SAVED},legoWashOverlay:{backgroundColor:Dn.Dv.LEGO_WASH}};function Mn({children:e,savedOverlayVisibility:t="none",visualOverlayVisibility:n="none",handleMouseOverPinContent:i,handleMouseLeavePinContent:a,primaryContent:o,primaryContentVisibility:r="none",secondaryContent:s,secondaryContentVisibility:l="none",accessoryContent:c,accessoryContentVisibility:d="none",actionBar:u,actionBarVisibility:p="none",seeStatsButton:h,footer:m,selectionState:_="no-selection",debugContent:g,signalDebuggerContent:v,signalDebuggerV2Content:y,signalDebuggerV2ContentVisibility:f="none",obscuredPinOverlay:b,showNoPinBorderRadius:x,showPromotedPinBorderTreatment:w,showLeadPinStdBeta:S,shouldUseLegoWash:P}){return(0,H.jsx)(Z.xu,{dangerouslySetInlineStyle:{__style:w?Nn.promotedPinBorderTreatment:{}},height:"100%","data-test-id":"pinRepPresentation",children:(0,H.jsxs)(Z.xu,{dangerouslySetInlineStyle:{__style:x?{}:Nn.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(_)&&(0,H.jsx)(Fn,{selected:"selected"===_}),(0,H.jsxs)(Z.xu,{"aria-hidden":Boolean(b),children:[(0,H.jsxs)(Z.xu,{dangerouslySetInlineStyle:{__style:x?{}:Nn.wrapper},overflow:"hidden",position:"relative",onFocus:i,onBlur:a,onMouseEnter:i,onMouseLeave:a,children:[e,(0,H.jsx)(Rn.Z,{visibility:n,children:(0,H.jsx)(jn.Z,{additionalStyles:P?Nn.legoWashOverlay:Nn.visualOverlay})}),(0,H.jsx)(Rn.Z,{visibility:t,children:(0,H.jsx)(jn.Z,{additionalStyles:P?Nn.legoWashOverlay:Nn.savedOverlay})}),c&&(0,H.jsx)(Rn.Z,{visibility:d,children:(0,H.jsx)(jn.Z,{children:c})}),s&&(0,H.jsx)(Rn.Z,{visibility:l,children:(0,H.jsx)(jn.Z,{children:s})}),o&&(0,H.jsx)(Rn.Z,{visibility:r,children:(0,H.jsx)(jn.Z,{children:o})}),y&&(0,H.jsx)(Rn.Z,{visibility:f,children:(0,H.jsx)(jn.Z,{children:(0,H.jsx)(Z.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:y})})}),u&&(0,H.jsx)(Rn.Z,{visibility:p,children:(0,H.jsx)(jn.Z,{children:(0,H.jsx)(Z.xu,{position:"absolute",left:!0,right:!0,bottom:!0,marginBottom:S?8:0,children:u})})}),h&&(0,H.jsx)(jn.Z,{children:(0,H.jsx)(Z.xu,{position:"absolute",bottom:!0,children:h})}),g&&(0,H.jsx)(jn.Z,{children:g}),v]}),m]}),b&&(0,H.jsx)(Z.xu,{children:b})]})})}function zn(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function Zn(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const Bn=(0,i.memo)((function({actionBarProps:e,blockClickEvents:t,borderStyle:n,currentlyPlayingVideo:a,disableHover:o=!1,footerProps:r,impressionsDebuggerProps:l,obscuredPinOverlayProps:c,onError:d,onLoad:u,pin:p,pinVisualProps:h,presentationProps:m,primaryContentProps:_,rounding:g,secondaryContentProps:v,authDesktopSelectionState:y,showFooter:f,showImpressionsDebugger:b,showObscuredPinOverlay:x,showSeeStatsButton:w,showSignalDebugger:S,showUnavailablePin:P,surface:T,visibilityOverrides:k,imageHeightModifier:A}){var C,E;const{savedInfo:j}=p,{showEnabledSaveBehavior:R}=(0,qt.Yh)(s.ZF.includes(T)||(0,D.Z)(T)),[O,L]=(0,i.useState)(!1),F=(0,Lt.Z)(O);let{isHovering:N,hoverTransitionState:M,handleMouseOver:z,handleMouseLeave:B}=function(){const[e,t]=(0,i.useState)(!1);return{isHovering:e,hoverTransitionState:(0,Lt.Z)(e,0,Lt.X),handleMouseOver:(0,i.useCallback)((()=>t(!0)),[t]),handleMouseLeave:(0,i.useCallback)((()=>t(!1)),[t])}}();o&&(N=!1,M="inactive");const U=(0,Lt.Z)(!!j),V=zn(U),$=zn(M),K=zn(M),G=zn(F),q=zn(U),Y=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(T),J="visible"!==V||Y?V:"none",X={primaryContentVisibility:null!==(C=k.primaryContent)&&void 0!==C?C:Zn(K,G,"visible"===q?"none":q),secondaryContentVisibility:(Q=Zn(K,G,q),"none"===Q?"visible":"visible"===Q?"none":"hidden"),actionBarVisibility:Zn(K,G),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var Q;const ee=e=>L(e),te=e=>L(e),ne=e=>{L(e),e||B()};let ie=null;"none"!==X.primaryContentVisibility&&(ie=(0,H.jsx)(tn,{forcePrimaryContent:ee,showEnabledSaveBehavior:R,onToggleFlyout:te,onToggleModal:ne,pin:p,..._}));let ae=null;const oe=(0,i.useRef)(!0),re=oe.current;oe.current=!1;const le=function(e,t){const{carousel_data:n}=e,{index:a}=n||{},[o,r]=(0,i.useState)(!n||t),s=(0,i.useRef)(a),l=(0,i.useRef)(null);if(n){const e=s.current;s.current=a,(a!==e||t)&&(l.current&&clearTimeout(l.current),r(!0),l.current=setTimeout((()=>{r(!1),l.current=null}),4e3))}return(0,i.useEffect)((()=>()=>{l.current&&clearTimeout(l.current)}),[]),o}(p,re),ce=zn((0,Lt.Z)(le));X.secondaryContentVisibility=null!==(E=k.secondaryContent)&&void 0!==E?E:function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(X.secondaryContentVisibility,ce),ae=(v.allowShoppingPriceIndicator||v.shoppingLabelColor||"none"!==X.secondaryContentVisibility)&&!a&&(0,H.jsx)(Z.xu,{margin:2,children:(0,H.jsx)(nn.Z,{pin:p,...v})});let de=null;"visible"===k.accessoryContent&&(de=(0,H.jsx)(Ce,{pin:p}),X.accessoryContentVisibility=zn(M));let ue={...e},pe=null;w&&(ue={...ue,showSourceLinkButton:!1},pe=(0,H.jsx)(se.Z,{children:(0,H.jsx)(W,{pinId:p.id,surface:T})})),h.showLeadPinStdBeta&&(ue={...ue,showSourceLinkButton:!1});const he="visible"===k.actionBar?(0,H.jsx)(Te,{onToggleFlyout:te,pin:p,setForcePrimary:L,surface:T,...ue}):null;let me=null;(f||(0,D.Z)(T))&&(me=(0,H.jsx)(Kt,{blockClickEvents:t,hoverTransitionState:"image-only-credit"===r.attributionType?M:null,pin:p,setForcePrimary:L,surface:T,...r}));const _e=b&&(0,H.jsx)(Cn,{...l}),ge=S&&p.debug_info_html&&(0,H.jsx)(Z.xu,{paddingY:1,children:(0,H.jsx)("pre",{children:p.debug_info_html})}),ve=(0,H.jsx)(Ee.Z,{pin:p}),ye=(0,i.useRef)();"header-only"===kn(ye)&&(X.actionBarVisibility="none",X.accessoryContentVisibility="none");const fe=x?(0,H.jsx)(En.ZP,{pin:p,...c}):null,be="ShoppingGridShippedMetadataWithVisitButton"===T?{height:"100%"}:{},xe=f&&"default"===r.attributionType&&s.ZF.includes(T),we=!p.is_promoted&&!o&&xe;return(0,H.jsx)(I.Z,{name:"PinRepContainer",children:(0,H.jsx)(Z.xu,{"data-test-id":"pin","data-test-pin-id":p.id,onFocus:z,onBlur:B,onMouseEnter:z,onMouseLeave:B,dangerouslySetInlineStyle:{__style:be},rounding:"ConversationView"===T?g:void 0,borderStyle:"ConversationView"===T?n:"none",overflow:"ConversationView"===T?"hidden":"visible",children:(0,H.jsx)(Mn,{visualOverlayVisibility:$,savedOverlayVisibility:J,handleMouseOverPinContent:we?z:()=>{},handleMouseLeavePinContent:we?B:()=>{},primaryContent:ie,primaryContentVisibility:X.primaryContentVisibility,secondaryContent:ae,secondaryContentVisibility:X.secondaryContentVisibility,accessoryContent:de,accessoryContentVisibility:X.accessoryContentVisibility,actionBar:he,actionBarVisibility:X.actionBarVisibility,seeStatsButton:pe,footer:me,selectionState:y,debugContent:_e,signalDebuggerV2Content:ve,signalDebuggerV2ContentVisibility:X.signalDebuggerV2ContentVisibility,signalDebuggerContent:ge,obscuredPinOverlay:fe,...m,children:(0,H.jsx)(Z.xu,{height:"100%",ref:ye,children:(0,H.jsx)(Pn,{blockClickEvents:t,showUnavailablePin:P,isHovering:N,onError:d,onLoad:u,pin:p,surface:T,selectionState:y,imageHeightModifier:A,...h})})})})})}));var Un=n(231947),Hn=n(53987);const Vn=(0,i.lazy)((()=>Promise.all([n.e(97270),n.e(76030),n.e(46760),n.e(92982)]).then(n.bind(n,576070)))),$n=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],Kn=["BaseBoardPinGrid","UserProfilePinGrid",...V];function Gn({attributionOption:e,blockClickEvents:t,debugImpressionState:n,disableReaction:u,feedback:p,imageOnlyOption:h="default",pin:m,pinId:g,pinImageCrop:Z,pinImageFit:B,resolution:U="default",saveButtonOptions:V,authDesktopSurface:$,trackingParameters:K,...G}){var W,se,le,ce,de,ue,pe,he;const me=(0,ne.S6)()(g)||m,ge=null!==(W=null===(se=me.board)||void 0===se?void 0:se.id)&&void 0!==W?W:"",ve=(0,te.gC)()(ge)||me.board;me.grid_title=me.grid_title||m.grid_title;const ye=(0,Q.F)(),{checkExperiment:fe}=ye,{collaborated_by_me:be,collaborator_count:xe,is_collaborative:we}=ve||{},{is_quick_promotable:Se,pinner:Pe,showFeedback:Te,sponsorship:ke}=me,{isPromoted:Ie}=(0,r.Z)(me),Ae=(0,j.Z)(me),Ce=(0,z.Z)(),Ee=(0,F.Z)(),{anyEnabled:je}=fe("web_m10n_business_access_orbac_www"),{anyEnabled:Re}=fe("web_m10n_business_access_orbac_ga"),De=Re?(0,Un.lJ)(Ce,Ee):"",Oe=(0,_e.useLocation)(),{slotIndex:Le,viewParameter:Fe}=K,Ne=["AuthHomefeed","BaseBoardPinGrid"].includes($)&&fe("web_repin_flow").anyEnabled,Me=(0,oe.x)(),ze=(0,ie.P)(),{appUI:{videosAutoplaying:Ze}}=(0,X.I)(),Be=(0,O.Z)(me.id,Ze),Ue=(0,a.useSelector)((({changeBoardFromToast:e})=>e))||{},He=function(e){const t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}(me),Ve=(0,C.Z)(me),$e=Ce.isAuth&&Ce.isEmployee,Ke=Ce.isAuth&&((0,E.Z)(Ce.createdAt)||(0,R.Z)(null,Ce))&&!Ce.isPartner;let Ge=Ke;"TodayArticleFeed"===$&&(Ge=!1),"default"!==h&&(Ge="image-only"===h),(0,D.Z)($)&&(Ge=!1),"ShoppingSquareGridDomainNoMetadata"===$&&(Ge=!0);let We=e;(Ke&&!We||ze)&&(We="image-only");const qe=(0,A.Z)({feedbackType:null==p?void 0:p.type,pin:me,viewParameter:Fe}),{data:Ye}=p||{},Je="number"==typeof xe&&xe>0||we;let Xe=!1;"OtherProfilePinGrid"===$?Xe=!0:"BaseBoardPinGrid"===$?Xe="dense"===(null==Me?void 0:Me.boardPinDensity):"UserProfilePinGrid"===$&&(Xe="dense"===(null==Me?void 0:Me.profilePinDensity));const Qe=Boolean(Je&&"BaseBoardPinGrid"===$),et=(0,N.Z)(),tt=(0,re.kW)(),nt=tt&&tt[null!==(le=null===(ce=et.data)||void 0===ce?void 0:ce.id)&&void 0!==le?le:""]?tt[null!==(de=null===(ue=et.data)||void 0===ue?void 0:ue.id)&&void 0!==de?de:""]:et.data,it=(0,k.Z)(Ce,ve);let at=!1;if(!!(0,_e.matchPath)(Oe.pathname,{path:"/:username/_created/",exact:!0}))at=(0,Un.q6)(Ce,null==nt?void 0:nt.id,Ee);else if((0,Hn.am)(Oe)||(0,Hn.OJ)(Oe)){const e=ve&&ve.owner&&ve.owner.id||"";at=(0,Un.q6)(Ce,e,Ee)}const ot=Boolean(Ce.isAuth&&Pe&&Pe.id===Ce.id),rt=Boolean(be||Je&&it),st=Ce.isAuth&&Ce.isPartner,lt=!(null===(pe=me.story_pin_data)||void 0===pe||!pe.is_deleted),ct=(0,i.useMemo)((()=>function({hasCarouselData:e,isDeletedStoryPin:t,surface:n}){const i={primaryContent:null,secondaryContent:null,actionBar:T.includes(n)||t?"none":"visible",accessoryContent:e?"visible":"none"};return t||P.includes(n)?(i.primaryContent="none",i.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(n)&&(i.primaryContent="visible"),i}({hasCarouselData:Ve,isDeletedStoryPin:lt,surface:$})),[Ve,lt,$]),dt=(0,i.useMemo)((()=>function({board:e,isDenseView:t,isGroupBoard:n,isInlineBetterSave:i,isOwnBoard:a,isORBACProfileManager:o,isQuickPromotable:r,isRemovable:l,saveButtonOptions:c,surface:d,viewer:u,viewerIsCollaborator:p}){const h=u.isAuth?u.boardCount:void 0;let m=c||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(h);r?m={type:"promote"}:(p||a||["OtherProfilePinGrid","UserProfilePinGrid"].includes(d))&&!["BoardlessPins","CreatorProfileActivityPinGrid","CreatorProfileStoryPinGrid","BaseBoardPinGrid"].includes(d)?m={type:"classic"}:(p||a)&&["BaseBoardPinGrid"].includes(d)&&null!=e&&e.name&&e.url&&e.id&&(m={type:"inline",initialSelection:{title:e.name,boardId:e.id,url:e.url}});return i&&(m={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===d}),(l||S.includes(d)||o)&&(m={type:"none"}),{board:e,derivedSaveButtonOptions:m,showLikeButton:p&&n&&s.UP.includes(d),supportsReactionBar:!t}}({board:ve,isInlineBetterSave:Ne,isDenseView:Xe,isGroupBoard:Qe,isOwnBoard:it,isOwnPin:ot,isORBACProfileManager:at,isQuickPromotable:Se,isRemovable:Ae,saveButtonOptions:V,surface:$,viewer:Ce,viewerIsCollaborator:rt})),[ve,Ne,Xe,Qe,it,ot,at,Se,Ae,V,$,Ce,rt]),{anyEnabled:ut}=fe("web_shopping_grid_metadata_ratings_shipping",{dangerouslySkipActivation:!0});let pt;["ShoppingDynamicHeightGrid","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadataWithVisitButton"].includes($)&&!Ie&&(pt="white");const ht=(0,i.useMemo)((()=>function({allowProductCarousel:e=!1,shoppingLabelColor:t,surface:n}){return{allowProductCarousel:e,allowShoppingPriceIndicator:s.Wv.includes(n),shoppingLabelColor:t}}({allowProductCarousel:He,shoppingLabelColor:pt,surface:$})),[He,pt,$]),mt=(0,i.useMemo)((()=>function({board:e,feedbackData:t,feedbackType:n,isDenseView:i,isGroupBoard:a,isOwnBoard:s,isORBACProfileManager:u,isORBACBeta:p,isORBACGA:h,pin:m,isRemovable:_,surface:g,viewer:v}){var y;const{isOwnPin:f,isPromoted:b}=(0,r.Z)(m),x=l({isGroupBoard:a,pin:m,surface:g}),w=e&&(0,o.Z)({action:4,board:e,viewer:v})||f,S=m.savedInfo&&m.savedInfo.localPinId,P=Boolean(s&&!a||"UserProfilePinGrid"===g&&w||S),T=Boolean(a&&w||P||u&&(!(0,c.hy)(m.story_pin_data_id)||p)),k=Boolean((null==e?void 0:e.is_collaborative)||P),I=!(b||s||a||d.includes(g)||u),A=(({surface:e,isORBACProfileManager:t,isORBACGA:n,isRemovable:i})=>"CloseupRelatedProducts"!==e&&!i&&(!t||null==n||n))({surface:g,isORBACProfileManager:u,isORBACGA:h,isRemovable:_}),{tracked_link:C,link:E}=m,j=!(null===(y=null!=C?C:E)||void 0===y||!y);let R=a&&i?"equally-spaced":"default",D="default";return i&&(D=a?"icon-only":"truncated-text"),i&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(g)&&(D="icon-only",R="equally-spaced"),{actionBarEditBeforeShare:k,feedbackData:t,feedbackType:n,layout:R,pinTitle:x,showEditButton:T,showOverflowMenu:I,showShareButton:A,showSourceLinkButton:j,sourceLinkStyle:D}}({board:ve,feedbackData:Ye,feedbackType:qe,isDenseView:Xe,isGroupBoard:Qe,isOwnBoard:it,isORBACProfileManager:at,isORBACBeta:je,isORBACGA:Re,isRemovable:Ae,pin:me,surface:$,viewer:Ce})),[ve,Ye,qe,Xe,Qe,it,at,je,Re,Ae,me,$,Ce]);let _t=!1;me.story_pin_data&&!Ce.isPartner&&(_t=fe("web_auth_remove_pinner_pinstats").anyEnabled);const gt=!_t&&(0,_.rh)(me,Ce,ye,De)&&Kn.includes($)&&(ot||Re&&at),vt=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes($),yt=!Ie&&vt?"shopping":"standard";let ft=(u||"CreatorProfileStoryPinGrid"!==$||ot)&&(0,q.J6)(me,lt);const bt=(0,ae.Xx)();ft=!ze&&ft;const xt=(0,i.useMemo)((()=>v({attributionOption:We,board:ve,contentType:yt,experimentsClient:ye,feedbackData:Ye,feedbackType:qe,hasCarouselData:Ve,isGroupBoard:Qe,isORBACProfileManager:at,isOwnBoard:it,pin:me,showImageOnly:Ge,showNativeReactions:ft,showPromotedShoppingPrice:ut&&Ie&&vt,surface:$,viewer:Ce,variantData:bt})),[We,ve,yt,ye,Ye,qe,Ve,Qe,at,it,Ie,vt,me,ut,Ge,ft,$,Ce,bt]),wt=!!me.story_pin_data_id,St=me.created_at?new Date(me.created_at):null,Pt=(0,ee.pN)({isOwnPin:ot,isStoryPin:wt,pinCreationDate:St,surface:$});_t&&(xt.showPinStats=!1);let Tt=Boolean(xt.pinTitle||xt.contentType||xt.userNote||xt.showSource||"none"!==xt.attributionType||xt.showNativeReactions||xt.productCurrentPrice||xt.productOriginalPrice||xt.showPinStats)||Qe;"BaseBoardPinGrid"===$&&it&&st||ke?Tt=!0:$n.includes($)||Xe&&(it||be)?Tt=!1:ot||"CreatorProfileStoryPinGrid"!==$&&"CreatorProfileActivityPinGrid"!==$||(Tt=!1),!ze||Ie||ke||(Tt=!1);const kt=Boolean(Te),{showLeadPinStdBeta:It}=(0,M.Z)(me),At={showNoPinBorderRadius:"TopicBestPinNarrow"===$||"TopicBestPinWide"===$||"ConversationView"===$,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===$&&Ie,shouldUseLegoWash:!0,showLeadPinStdBeta:It},Ct={feedbackType:qe},{anyEnabled:Et}=fe("ads_desktop_video_ads",{dangerouslySkipActivation:!0}),jt=(0,i.useMemo)((()=>function({hasCarouselData:e,isDenseView:t,pinImageCrop:n,pinImageFit:i,resolution:a,showPromotedVideos:o,showLeadPinStdBeta:r,surface:l}){const c=s.zl.includes(l);let d="backend";"CloseupRelatedProducts"===l?d={height:w.GZ,width:w.OE}:"TopicBestPinWide"===l?d={height:x.m9,width:x.BS}:"TopicBestPinNarrow"===l?d={height:x._5,width:x.A6}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomainNoMetadata"].includes(l)||c?d={height:w.zX,width:w.zX}:n&&(d=n);let u="none",p=null!=a?a:"default";"string"!=typeof d&&(u="cover",(c||"ShoppingDynamicHeightGrid"===l&&!i||"ShoppingSquareGridDomainNoMetadata"===l)&&(u="contain",p="high-res"));const h=c||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(l)?"transparent":"dominant",m=(0,b.e)(l);return{autoplaySettingOff:"undefined"!=typeof window&&0===f.Z.getItem(y.Z.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:h,imageFit:u,isDenseView:t,resolution:p,rootMargin:m,pinImageCrop:d,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(l),showPromotedVideos:o,showLeadPinStdBeta:r}}({hasCarouselData:Ve,isDenseView:Xe,isPromoted:Ie,pinImageCrop:Z,pinImageFit:B,resolution:U,showPromotedVideos:Et,showLeadPinStdBeta:It,surface:$})),[Ve,Xe,Ie,Z,B,U,Et,It,$]),Rt=$e&&void 0!==(0,In.Z)().debug_impression_log,Dt=(0,i.useMemo)((()=>({debugImpressionState:n,slotIndex:Le})),[n,Le]),Ot=(0,i.useMemo)((()=>({surface:$})),[$]);return(0,H.jsx)(I.Z,{name:"PinRepConfiguration",children:(0,H.jsx)(J.B,{value:K,children:(0,H.jsxs)(Y.B,{value:Ot,children:[(0,H.jsx)(Bn,{actionBarProps:mt,blockClickEvents:t,currentlyPlayingVideo:Be,footerProps:xt,impressionsDebuggerProps:Dt,obscuredPinOverlayProps:Ct,pin:me,pinVisualProps:jt,presentationProps:At,primaryContentProps:dt,secondaryContentProps:ht,showFooter:Tt||Pt,showImpressionsDebugger:Rt,showObscuredPinOverlay:kt,showSeeStatsButton:gt,showSignalDebugger:$e,showUnavailablePin:lt,surface:$,visibilityOverrides:ct,...G}),Ue.shouldOpenModal&&Ue.newPin&&(null===(he=Ue.originalPin)||void 0===he?void 0:he.id)===me.id&&(0,H.jsx)(I.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,H.jsx)(L.Z,{children:(0,H.jsx)(Vn,{experience:Ue.experience,newPin:Ue.newPin})})})]})})})}},656226:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var i=n(667294),a=n(564194),o=n(768559),r=n(605028),s=n(868565),l=n(905723),c=n(152028),d=n(883119),u=n(785893);const p={overlay:{__style:{backgroundColor:"#000"}}};function h(e){var t,n,a,o;const{pin:{id:r,images:s,title:h,videos:m,video_status_message:_}}=e,g=_||{},v=s&&s["236x"],y=m&&(null===(t=m.video_list)||void 0===t?void 0:t[l.Z.V_HLSV4]),{duration:f}=y||{};return(0,u.jsx)(i.Fragment,{children:(0,u.jsx)(d.st,{children:(0,u.jsxs)(d.iP,{role:"link",href:`/pin/${r}`,rounding:2,children:[(0,u.jsxs)(d.xu,{overflow:"hidden",position:"relative",rounding:2,children:[v&&(0,u.jsx)(d.Ee,{alt:h||"",color:"lightGray",naturalHeight:null!==(n=v.height)&&void 0!==n?n:1,naturalWidth:null!==(a=v.width)&&void 0!==a?a:1,src:null!==(o=v.url)&&void 0!==o?o:""}),!!f&&(0,u.jsx)(d.xu,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:(0,u.jsx)(c.Z,{duration:f})}),(0,u.jsx)(d.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:p.overlay}),(0,u.jsxs)(d.xu,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[(0,u.jsx)(d.X6,{color:"light",overflow:"normal",size:"400",children:g.title}),(0,u.jsx)(d.xu,{marginTop:4,children:(0,u.jsx)(d.xv,{color:"light",size:"200",overflow:"normal",children:g.subtitle})})]})]}),(0,u.jsx)(d.xu,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:(0,u.jsx)(d.xu,{flex:"grow",children:h&&(0,u.jsx)(d.xu,{paddingY:1,children:(0,u.jsx)(d.xv,{inline:!0,size:"200",weight:"bold",children:h})})})})]})})})}var m=n(623568),_=n(350118),g=n(276775),v=n(813401),y=n(748482),f=n(35495);function b({trackingParams:e,objectIdStr:t,impressionData:n,auxData:l,componentType:c,slotIndex:d,viewData:p,viewParameter:b,viewType:x,pin:w,pinId:S,...P}){var T,k,I,A,C,E;const j=(0,g.useLocation)(),R=(0,_.S6)(),D=(S?R(S):null)||w,O=!(null===(T=D.story_pin_data)||void 0===T||!T.is_deleted),L=e||(0,o.Z)({boardUrl:null===(k=D.board)||void 0===k?void 0:k.url,callToCreateSourcePinId:D.call_to_create_source_pin_id,location:j,pinId:D.id,pinnerUserName:null===(I=D.pinner)||void 0===I?void 0:I.username,storyPinDataId:D.story_pin_data_id,trackingParams:D.tracking_params,trackingParamsMap:D.tracking_params_map}),F=(0,s.Z)(D),N=!!(F&&F.url&&F.height&&F.width)||void 0,M=F&&D.videos?D.videos.id:void 0,[z,Z]=(0,i.useState)(!1),B=(0,i.useCallback)((()=>Z(!O)),[O]),U=(0,i.useCallback)((()=>Z(!1)),[]),H=(0,v.yz)(),{isLeadPin:V}=(0,r.Z)(D);var $;V&&(l={lead_form_id:null===($=D.promoted_lead_form)||void 0===$?void 0:$.lead_id});return(0,u.jsx)(a.Z,{componentType:c,contextLogData:{pwa_type:H,...l,...(0,f.Kl)(D,l)},impressionAuxFields:{...n||{},isNativeVideoAndWatchable:N,videoIdStr:M,clientTrackingParams:L||`${D.tracking_params||""}-0`,imageURL:null!==(A=null===(C=D.images)||void 0===C||null===(E=C["236x"])||void 0===E?void 0:E.url)&&void 0!==A?A:"",richTypes:(0,f.GT)(D)},impressionType:"Pin",isPaused:!z,loggingId:D.id,slotIndex:d,objectIdStr:t,viewData:p,viewParameter:b,viewType:x,children:(0,m._J)(D)?(0,u.jsx)(h,{pin:D}):(0,u.jsx)(y.Z,{...P,debugImpressionState:z?"started":"paused",onError:U,onLoad:B,pin:D,pinId:S,trackingParameters:{componentType:c,contextLogData:l,slotIndex:d,viewParameter:b,viewType:x}})})}},512076:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(605028),a=n(773285);const o=e=>{const{isLeadPin:t}=(0,i.Z)(e),n=(0,a.F)();return{isLeadPin:t,showLeadPinStdBeta:t&&n.checkExperiment("web_lead_ads_std_beta").anyEnabled,showLeadPinStdAlpha:t&&n.checkExperiment("web_lead_gen_ads").anyEnabled}}},485710:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(898781),o=n(883119),r=n(785893);function s({children:e,heading:t}){const[n,s]=(0,i.useState)(!1),l=(0,a.ZP)();return(0,r.jsxs)(o.kC,{direction:"column",dataTestId:"collapsible-layout",children:[(0,r.jsxs)(o.X6,{align:"start",size:"400",accessibilityLevel:2,children:[(0,r.jsx)(o.xu,{"data-test-id":"collapsible-layout-heading",display:"inlineBlock",children:t}),(0,r.jsx)(o.xu,{"data-test-id":"collapse-button",display:"inlineBlock",marginStart:1,children:(0,r.jsx)(o.hU,{accessibilityLabel:l._('Show more details drop-down', 'Closeup.common.CollapsibleLayout', 'Collapse the content wrapped in the layout'),icon:n?"arrow-forward":"arrow-down",onClick:()=>{s(!n)},size:"md"})})]}),!n&&(0,r.jsx)(i.Fragment,{children:e})]})}},288889:(e,t,n)=>{n.d(t,{n:()=>i});const i="300"},319530:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(898781),o=n(288889),r=n(883119),s=n(785893);function l({children:e,maxLines:t=10}){const n=(0,i.useRef)(null),[l,c]=(0,i.useState)({isFirstLoad:!0,isTruncated:!1}),d=(0,a.ZP)(),{isFirstLoad:u,isTruncated:p}=l;return(0,i.useEffect)((()=>{var e;u&&n.current&&((e=n.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&c({isFirstLoad:!1,isTruncated:!0})}),[u,p]),(0,s.jsxs)(r.xu,{position:"relative","data-test-id":"truncated-text",children:[(0,s.jsx)(r.xv,{ref:n,lineClamp:u||p?t:0,inline:!0,children:e}),p&&(0,s.jsx)(r.xu,{position:"absolute",display:"block",width:"100%",bottom:!0,children:(0,s.jsxs)(r.kC,{flex:"grow",children:[(0,s.jsx)(r.xu,{display:"inlineBlock",width:"120px",height:"14px"}),(0,s.jsx)(r.xu,{"data-test-id":"more-button",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{background:"white"}},children:(0,s.jsx)(r.iP,{fullWidth:!1,onTap:()=>c({...l,isTruncated:!1}),children:(0,s.jsx)(r.xv,{inline:!0,size:o.n,weight:"bold",children:d._(' \u2026 more', 'closeup.TruncatedTextContent.moreLabel', 'Expand content label')})})}),(0,s.jsx)(r.xu,{display:"inlineBlock",flex:"grow",dangerouslySetInlineStyle:{__style:{background:"white"}}})]})})]})}},237056:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(773285),a=n(50286);const o=Object.freeze({dweb:{organic:"web_sce_organic_pinbuilder_dep",monetized:"web_sce_monetized_pinbuilder_dep"},mweb:{organic:"mweb_sce_organic_pinbuilder_dep",monetized:"mweb_sce_monetized_pinbuilder_dep"}});function r(e){const t=(0,a.HG)(),{checkExperiment:n}=(0,i.F)(),r=o[t?"dweb":"mweb"];return e&&(n("sce_lightswitch_organic"),n("sce_lightswitch_monetized")),n(r.organic).anyEnabled||n(r.monetized).anyEnabled}},180549:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(898781),a=n(883119),o=n(276775),r=n(558068),s=n(785893);function l({pinId:e,isShopping:t}){const n=(0,i.ZP)(),l=(0,o.useHistory)(),{previous:c}=(0,r.Hv)();return(0,s.jsx)(a.hU,{accessibilityLabel:n._('Go back', 'Accessible icon for close button', 'Accessible icon for close button'),icon:t?"cancel":"directional-arrow-left",iconColor:"darkGray",onClick:()=>{0!==c.length?l.goBack():l.replace(`/pin/${e}/`)}})}},99739:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(305791),a=n(599611);const o=({initialCropArea:e,pin:t,disableInitialCrop:n,imageSignature:o})=>{let r;if(e)r={...e};else{const{visual_objects:e}=t,{width:s,height:l}=(0,i.Z)({pin:t,imageSignature:o});if(n)r={x:0,y:0,w:s,h:l};else if(e&&e.length){const{x:t,y:n,w:i,h:o}=e[0];r=(0,a.Z)({cropArea:{x:t,y:n,w:i,h:o},scaledWidth:s,scaledHeight:l})}else{const[e,t]=[s/6,l/6],[n,i]=[s-2*e,l-2*t];r={x:e,y:t,w:n,h:i}}}return{x:Math.floor(r.x),y:Math.floor(r.y),w:Math.floor(r.w),h:Math.floor(r.h)}}},243943:(e,t,n)=>{n.d(t,{Xx:()=>m,wA:()=>u,wH:()=>h});var i=n(667294),a=n(752802),o=n(835209),r=n(407043),s=n(789707),l=n(533655),c=n(785893);const d=(0,i.createContext)(undefined),u=e=>{const{variant_set:t}=(0,o.Z)({richPinData:e.rich_metadata})||{},{dimension_metadata:n,variants:i}=t||{};if(!n||!i)return!1;const a=n.find((e=>{var t;return"color"===(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())}));return!!(a&&a.name&&a.values&&1!==a.values.length)},p=({pinId:e,children:t,dimensionMetadata:n,primaryDimName:o,variants:u,primaryDimensionThumbnailImages:p})=>{const h=(0,i.useCallback)((({selectedMap:e})=>{const t=(0,l.B)({dimensionMetadata:n,primaryDimName:o,primaryDimensionThumbnailImages:p,defaultStatus:"invalid"});return(0,l.U0)({variantMap:t,selectedMap:e,variants:u}),t}),[n,o,p,u]),{logContextEvent:m}=(0,r.v)(),_=u.find((e=>e.is_preselected)),g=(0,s.a)(),{pinsState:v,setPinState:y}=g||{},f=v&&v[e],b=f?f.selectedMap:(0,l.O5)(u),x=f?f.selectedVariants:(0,l.x1)({selectedMap:b,variants:u}),w=f?f.variantMap:h({selectedMap:b}),S=!!f&&f.isSelectedByUser,P=f?f.variantUrl:(null==_?void 0:_.pin_id)||e,T=(0,i.useCallback)(((t,n=!1)=>{const i=(0,l.x1)({selectedMap:t,variants:u}),a={selectedMap:t,selectedVariants:i,variantMap:h({selectedMap:t}),isSelectedByUser:n,variantUrl:""},o=i[0].pin_id;o&&(a.variantUrl=o),y&&y(e,a)}),[h,e,y,u]),k=(0,i.useCallback)((()=>{const e=(0,l.O5)(u);T(e)}),[T,u]),I=(0,i.useCallback)((({dimensionName:e,variant:t,isAutoSelection:n=!1})=>{var i;const a=null===(i=w[e])||void 0===i?void 0:i.find((({value:e})=>e===t));try{if(!a)throw new Error(`Unable to find the selected variant ${e}: ${t}`);if(b[e]===t)return;const i={..."invalid"!==a.status?b:{},[e]:t},o=(0,l.i8)({variantMap:w,status:"invalid"});(0,l.U0)({variantMap:o,selectedMap:i,variants:u}),T(i,!n),m({event_type:10240,component:14092})}catch(o){throw k(),o}}),[w,b,u,T,k,m]),{title:A}=x[0],C=(0,a.Z)({images:(x[0].additional_images||[])[0].canonical_images}),E=(0,l.$b)(x),j=(0,i.useMemo)((()=>{const e=((null==_?void 0:_.dimensions)||{})[o],t=w[o]||[];let i=t;if(e&&t){const n=t.find((t=>t.value===e));n&&(i=[n,...t.filter((t=>t.value!==e))])}return{dimensionMetadata:n,offerSummary:E,primaryVariants:i,primaryDimName:o,selectedMap:b,isSelectedByUser:S,selectVariant:I,title:A,variants:u,image:C,variantUrl:P}}),[_,o,w,n,E,b,S,I,A,u,C,P]);return(0,c.jsx)(d.Provider,{"data-test-id":"safe-product-pins-feed-context-provider",value:j,children:t})},h=({children:e,pin:t,isEligible:n})=>{if(!n)return(0,c.jsx)(d.Provider,{"data-test-id":"undefined-context-provider",value:void 0,children:e});const{variant_set:i}=(0,o.Z)({richPinData:t.rich_metadata})||{},{dimension_metadata:a,primary_dimension_thumbnail_images:r,variants:s}=i||{},l=null==a?void 0:a.find((e=>{var t;return"color"===(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())}));return(0,c.jsx)(p,{pinId:t.id,dimensionMetadata:a||[],primaryDimName:(null==l?void 0:l.name)||"",primaryDimensionThumbnailImages:r,variants:s||[],children:e})},m=()=>(0,i.useContext)(d)},789707:(e,t,n)=>{n.d(t,{A:()=>r,a:()=>s});var i=n(667294),a=n(785893);const o=(0,i.createContext)(void 0),r=({children:e})=>{const[t,n]=(0,i.useState)({}),r=(0,i.useMemo)((()=>({setPinState:(e,i)=>{n({...t,[e]:{...t[e]||{},...i}})},pinsState:t})),[t]);return(0,a.jsx)(o.Provider,{value:r,children:e})},s=()=>(0,i.useContext)(o)},341866:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(229428);function a({pin:e}){const{visual_objects:t}=e||{};return(0,i.k)(t||[])}},104389:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(831539),a=n(869503),o=n(474236),r=n(883119),s=n(785893);const l=({count:e,countFormat:t,ratingValue:n,shippingInfo:l})=>(0,s.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,s.jsx)(i.Z,{count:e,countFormat:t,rating:n,textSize:"200"}),(0,s.jsx)(r.xu,{marginTop:(0,o.Z)({count:e,rating:n})?1:0,children:(0,s.jsx)(a.Z,{customStyles:{color:"subtle",size:"200"},freeShippingPrice:null==l?void 0:l.free_shipping_price,freeShippingValue:null==l?void 0:l.free_shipping_value})})]}),c=({count:e,countType:t,countFormat:n,hideSeparationDot:l,bracket:c,ratingValue:d,shippingInfo:u})=>(0,s.jsxs)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:1,wrap:!0,children:[(0,s.jsx)(i.Z,{bracket:c,count:e,countFormat:n,countType:t,rating:d,textSize:"300"}),(0,s.jsx)(r.xu,{marginStart:(0,o.Z)({count:e,rating:d})&&l?2:0,children:(0,s.jsx)(a.Z,{customStyles:{color:"default",size:"300"},showPrevDot:(0,o.Z)({count:e,rating:d})&&!l,freeShippingPrice:null==u?void 0:u.free_shipping_price,freeShippingValue:null==u?void 0:u.free_shipping_value})})]});function d(e){return e.isGridView?(0,s.jsx)(l,{...e}):(0,s.jsx)(c,{...e})}},533655:(e,t,n)=>{n.d(t,{$b:()=>l,A6:()=>d,B:()=>a,Dv:()=>_,O5:()=>u,U0:()=>s,Yr:()=>h,i8:()=>o,oX:()=>m,x1:()=>p,xD:()=>c});var i=n(752802);const a=({defaultStatus:e="available",dimensionMetadata:t,primaryDimName:n,primaryDimensionThumbnailImages:a})=>{const o={};for(const{values:i,name:r}of t)r&&i&&(o[r]=i.map((t=>({status:e,value:t}))));return(o[n]||[]).forEach(((e,t)=>{const n=a&&a[t.toString()];n&&(e.image=(0,i.Z)({images:n.canonical_images}))})),o},o=({status:e,variantMap:t})=>{const n={};for(const a in t){var i;n[a]=null===(i=t[a])||void 0===i?void 0:i.map((t=>({...t,status:e})))}return n},r=({dimensionName:e,variants:t,selectedTuple:n,variantStatuses:i})=>{const a=n.filter((([t])=>t!==e));for(const{dimensions:o={},offer_summary:r={}}of t){if(!a.every((([e,t])=>o[e]===t)))continue;const t=i.find((({value:t})=>t===o[e]));t&&(t.status=r.in_stock||"available"===t.status?"available":"outOfStock")}},s=({variants:e,selectedMap:t={},variantMap:n})=>{const i=Object.entries(t);for(const a in n){const t=n[a];t&&r({dimensionName:a,variants:e,selectedTuple:i,variantStatuses:t})}},l=e=>{let t,n,i,a,o=!1;const{percentage_off:r,standard_price:s}=1===e.length&&e[0].offer_summary||{};for(const l of e){const{max_price:e,max_price_val:r,min_price:s,min_price_val:c,price:d,price_val:u,price_in_micro_currency:p,in_stock:h}=l.offer_summary||{},m=u||Number(p);"number"==typeof c&&Number.isFinite(c)&&"number"==typeof r&&Number.isFinite(r)&&((void 0===n||c<n)&&(n=c,t=s),(void 0===a||r>a)&&(a=r,i=e),o=o||!!h),Number.isFinite(m)&&((null==n||m<n)&&(n=m,t=d),(null==a||m>a)&&(a=m,i=d),o=o||!!h)}if(i&&t)return t===i?{in_stock:o,percentage_off:r,price:t,standard_price:s}:{in_stock:o,max_price:i,min_price:t,percentage_off:r,price:t,standard_price:s}},c=(e,t)=>e.length===t.length&&e.every(((e,n)=>{var a,o;return(null===(a=(0,i.Z)({images:e.canonical_images}))||void 0===a?void 0:a.url)===(null===(o=(0,i.Z)({images:t[n].canonical_images}))||void 0===o?void 0:o.url)})),d=e=>{const t=new Set;return e.filter((e=>{const{url:n}=(0,i.Z)({images:e.canonical_images})||{};return!!n&&(!t.has(n)&&(t.add(n),!0))}))||[]},u=e=>{var t;const n={...(null===(t=e.find((e=>!!e.is_preselected)))||void 0===t?void 0:t.dimensions)||{}};for(const i in n)n[i]||delete n[i];return n},p=({selectedMap:e,variants:t})=>t.filter((({dimensions:t={}})=>{for(const n in e){const i=e[n];if(t[n]!==i)return!1}return!0})),h=({visualVariants:e,visualDimName:t,variants:n})=>{const i={};return n.forEach((e=>{var n,a;const o=null===(n=e.dimensions)||void 0===n?void 0:n[t],r=null!==(a=e.offer_summary)&&void 0!==a&&a.in_stock?"available":"outOfStock";o&&("available"===r||!i[o]&&o)&&(i[o]=r)})),e.map((e=>({...e,status:i[e.value]})))},m=({selectedMap:e,dimensions:t})=>{t&&Object.keys(t).forEach((n=>{null!==t[n]&&void 0!==t[n]&&(e[n]=t[n])}))},_={VISUAL:1,UTILITY_GRID:2,UTILITY_DROPDOWN:3}},362810:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),a=n(116303),o=n(841509),r=n(564194),s=n(525199),l=n(149230),c=n(310227),d=n(407043),u=n(883119),p=n(785893);const h={backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:"#111",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"};function m({productPin:e,isTopRow:t,disablePrice:n}){var i,a,o,r;if(!e)return null;const{title:s,description:l,images:c}=e||{},d=null===(i=e.rich_summary)||void 0===i?void 0:i.products,m=d&&d[0]||null,_=((null==m?void 0:m.offer_summary)||{}).price,g=c["474x"]||{};return(0,p.jsxs)(u.zd,{wash:!0,height:t?217:168,width:t?236:117,children:[(0,p.jsx)(u.Ee,{alt:s||l,fit:"cover",naturalHeight:null!==(a=g.height)&&void 0!==a?a:1,naturalWidth:null!==(o=g.width)&&void 0!==o?o:1,src:null!==(r=g.url)&&void 0!==r?r:""}),!!_&&!n&&(0,p.jsx)(u.xu,{margin:1,paddingY:1,paddingX:2,dangerouslySetInlineStyle:{__style:{...h}},"data-test-id":"shopping-upsell-price",left:!0,top:!0,position:"absolute",children:_})]})}const _={container:{borderRadius:`${c.Oc}px ${c.Oc}px 25px 25px`,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},content:{marginBottom:"2px"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"}};function g({dangerouslySetActionUrl:e,query:t,story:n,slotIndex:c}){const{logContextEvent:h}=(0,d.v)(),{action:g,id:v,objects:y,story_type:f,subtitle:b}=n,{text:x,url:w}=g,[S,P]=(0,i.useState)(!1),T=(0,i.useCallback)((()=>P(!0)),[P]),k=(0,i.useCallback)((()=>P(!1)),[P]),I=["related_domain_collage","related_products_collage"].includes(f)?1:0,A=y[0].domain;let C,E,j={story_type:f};["search_product_collage_story","shop_article_story"].includes(f)?(C=2,E=43,j={...j,story_id:v,entered_query:t}):"shop_brand_story"===f||"shop_brand_affinity_story"===f?(C=1,E=92,A&&(j={...j,commerce_data:JSON.stringify({domain:A})})):["stela_in_flashlight_card","stela_in_flashlight_onecol"].includes(f)?(C=72,E=3050):"related_domain_collage"===f?(C=72,E=3455):"related_products_collage"===f&&(C=1,E=3177);const R=b?4:2;let D,O;if(["related_domain_collage","shop_brand_story","shop_brand_affinity_story"].includes(f)){const e=g.user;D=e&&(e.image_medium_url||e.image_large_url),O=e&&e.full_name}const L=e||w,F=(0,l.Z)({url:L})?"nofollow":"none";return(0,p.jsx)(r.Z,{componentType:200,contextLogData:j||{},impressionType:"Story",loggingId:f,slotIndex:c,viewParameter:E,viewType:C,children:(0,p.jsx)(u.iP,{role:"link",rel:F,href:L,onTap:()=>h({event_type:101,element:372,component:200,view_type:C,view_parameter:E,aux_data:{story_type:f}}),children:(0,p.jsxs)(u.xu,{overflow:"hidden",position:"relative",onMouseEnter:T,onMouseLeave:k,dangerouslySetInlineStyle:{__style:_.container},children:[(0,p.jsxs)(u.xu,{overflow:"hidden",rounding:4,children:[(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:_.content},children:(0,p.jsx)(m,{productPin:y[I],isTopRow:!0})}),(0,p.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,p.jsx)(m,{productPin:y[I+1]}),(0,p.jsx)(m,{productPin:y[I+2]})]})]}),(0,p.jsx)(u.xu,{color:"secondary",display:"flex",paddingX:3,alignItems:"center",justifyContent:"center",marginTop:2,paddingY:R,rounding:"pill",children:(0,p.jsxs)(u.xu,{justifyContent:"center",alignContent:"start",display:"flex",direction:"column",margin:2,children:[b?(0,p.jsx)(u.xu,{marginBottom:1,children:(0,p.jsx)(u.xv,{align:"start",color:"subtle",children:b.format})}):null,(0,p.jsx)(u.xv,{align:"start",weight:"bold",children:x})]})}),O&&D&&(0,p.jsx)(u.xu,{position:"absolute",right:!0,top:!0,margin:2,children:(0,p.jsx)(a.Z,{name:O,size:"md",src:D,outline:!0})}),(0,p.jsx)(s.Z,{visibility:S?"visible":"none",children:(0,p.jsx)(o.Z,{additionalStyles:_.visualOverlay})})]})})})}},807592:(e,t,n)=>{function i(e){const{max_price:t,min_price:n,price:i}=e;return t&&n?`${n}-${t}`:i}n.d(t,{Z:()=>i})},157796:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(883119),o=n(785893);function r({color:e="red",duration:t,finalProgress:n,shape:r="pill"}){const[s,l]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=setTimeout((()=>{l(!0)}),0);return()=>{clearTimeout(e)}}),[]);const c="pill"===r;return(0,o.jsx)(a.xu,{color:e,height:c?8:6,rounding:c?"pill":2,width:`${n}%`,dangerouslySetInlineStyle:{__style:{transform:c?`translateX(${s?"-5px":"-100%"})`:`scaleX(${s?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}}})}},23086:(e,t,n)=>{n.d(t,{Z:()=>A});var i=n(116303),a=n(898781),o=n(349700),r=n(867820),s=n(883119),l=n(785893);const c=()=>{(0,r.NC)("click_best_pin_board",!0)},d=()=>{(0,r.NC)("click_best_pin_profile",!0)},u=e=>{const{pinner:t}=e,{username:n,full_name:a}=t,o=t.image_medium_url||t.image_small_url,r=`/${n}/`;return(0,l.jsx)(s.iP,{fullWidth:!1,rounding:"circle",role:"link",href:r,onTap:d,children:(0,l.jsx)(i.Z,{size:"sm",src:null!=o?o:"",name:null!=a?a:"",outline:!0})})},p=e=>{const t=(0,a.ZP)(),{board:n,pinner:i}=e,{name:r,privacy:u,url:p}=n,h=n.id||"",{username:m,full_name:_}=i,g=`/${m}/`,v=(0,l.jsx)(s.xv,{inline:!0,size:"200",weight:"bold",children:(0,l.jsx)(s.rU,{display:"inlineBlock",href:g,onClick:d,underline:"hover",children:_})},_);return"protected"===u?(0,o.nk)(t._('{{ pinnerName }} saved this Pin', 'Showing who saved this pin, but not which board (private board), on closeup', 'Showing who saved this pin, but not which board (private board), on closeup'),{pinnerName:v}):(0,o.nk)(t._('{{ pinnerName }} saved to {{ boardName }}', 'Showing who saved this pin to which board on closeup', 'Showing who saved this pin to which board on closeup'),{pinnerName:v,boardName:(0,l.jsx)(s.xv,{inline:!0,size:"200",weight:"bold",children:(0,l.jsx)(s.rU,{href:null!=p?p:"",onClick:c,children:r},"board")},h)})},h=e=>{const{pin:t}=e,{pinner:n={},board:i={}}=t;return(0,l.jsxs)(s.xu,{display:"flex",direction:"row",alignItems:"center",marginTop:3,"data-test-id":"pin-attribution",children:[(0,l.jsx)(u,{pinner:n}),(0,l.jsx)(s.xu,{marginEnd:2}),(0,l.jsx)(s.xv,{size:"200",children:(0,l.jsx)(p,{board:i,pinner:n})})]})};var m=n(692627),_=n(112690);const g=e=>{e.target&&e.target.style&&(e.target.style["text-decoration"]="underline")},v=e=>{e.target&&e.target.style&&(e.target.style["text-decoration"]="none")};function y({pageType:e,pinCreditPrefix:t,pin:n,pinLink:i}){var c,d;const u=(0,a.ZP)(),p=(0,_.Z)();if("topic"!==e.page&&(!n.domain||"Uploaded by user"===n.domain))return null;const h="topic"!==e.page||e.isAuth?"100":"200",y="topic"===e.page&&!!n.native_creator,f=y?null===(c=n.native_creator)||void 0===c?void 0:c.full_name:n.domain;return(0,l.jsx)(s.xu,{display:"flex",flex:"none",justifyContent:"start",marginBottom:2,children:(0,l.jsx)(s.rU,{display:"inlineBlock",href:y?`/${(null===(d=n.native_creator)||void 0===d?void 0:d.username)||""}/`:i,onClick:()=>{var t,i,a;"topic"===e.page?(0,r.NC)("click_topic_best_pin_link"):p({event_type:12,view_type:3,object_id_str:n.id,component:85,view_parameter:(0,m.Z)({hasPin:!!n,hasPinRichMetadata:!!n.rich_metadata,hasPinRichMetadataProducts:!(null===(t=n.rich_metadata)||void 0===t||!t.products),hasPinRichMetadataArticle:!(null===(i=n.rich_metadata)||void 0===i||!i.article),hasPinRichMetadataRecipe:!(null===(a=n.rich_metadata)||void 0===a||!a.recipe),hasPinStoryPinData:!!n.story_pin_data})})},rel:"nofollow",target:"blank",underline:"hover",children:(0,l.jsx)(s.xv,{size:h,children:(0,o.nk)(u._('{{ pinCreditPrefix }} {{ pinCredit }}', 'Tells the user where the pin is from in the form of "Saved from <website>"', 'Tells the user where the pin is from in the form of "Saved from <website>"'),{pinCreditPrefix:t,pinCredit:(0,l.jsx)(s.xv,{inline:!0,size:h,weight:"bold",children:"topic"===!e.page?(0,l.jsxs)("span",{onMouseOver:g,onMouseLeave:v,onFocus:g,onBlur:v,children:[" ",n.domain]}):f},y?"creatorProfile":"pinLinkDomain")})})})})}var f=n(248975),b=n(873441),x=n(694379),w=n(844897),S=n(469823),P=n(153209),T=n(782534),k=n(992750);const I=e=>{let t="";if(e.rich_metadata&&e.rich_metadata.article&&e.rich_metadata.article.date_published)return t;const n=(e=>{let t=null;e.last_repin_date&&(t=new Date(e.last_repin_date));let n=null;return e.created_at&&(n=new Date(e.created_at)),t?n?t>n?t:n:t:n})(e);if(n&&n.getFullYear()===(new Date).getFullYear()){const i=new Set(["film_music_books","art","home_decor","food_drink","womens_fashion","travel","weddings","hair_beauty","holidays_events","mens_fashion","products","celebrities","technology"]),a=e.category;i.has(a)&&(t=n?(0,l.jsx)(T.Z,{value:n,dateFormatType:T.k.LONG_MONTH_YEAR,useUTC:!1}):"")}return t};function A(e){var t,n,i,o,r,c,d,u,p,m,_,g,v,A,C,E,j,R,D;const O=(0,a.ZP)(),{pin:L,viewportSize:F,pageType:N}=e,{pinCreditPrefix:M,pinLink:z}=(0,b.Z)(L,O),{description:Z}=(0,k.eK)({richMetadataDescription:null===(t=L.rich_metadata)||void 0===t?void 0:t.description,richSummaryDisplayName:null===(n=L.rich_summary)||void 0===n?void 0:n.display_name,closeupUnifiedDescription:L.closeup_unified_description}),B="wide"===F;let U=(0,k.Ly)({pinTitle:L.title,gridTitle:L.grid_title,richSummaryDisplayName:null!==(i=null===(o=L.rich_summary)||void 0===o?void 0:o.display_name)&&void 0!==i?i:"",richMetadataTitle:null!==(r=null===(c=L.rich_metadata)||void 0===c?void 0:c.title)&&void 0!==r?r:"",storyPinDataId:L.story_pin_data_id,storyPinDataMetadataPinTitle:null===(d=L.story_pin_data)||void 0===d||null===(u=d.metadata)||void 0===u?void 0:u.pin_title,pinJoinVisualAnnotation:null===(p=L.pin_join)||void 0===p?void 0:p.visual_annotation,pinJoinAnnotationsWithLinks:null===(m=L.pin_join)||void 0===m?void 0:m.annotations_with_links});(L.grid_title||"").trim()&&U!==L.grid_title&&(U=(0,k.EU)(L.grid_title,200));const H=(0,P.r)(null===(_=L.rich_metadata)||void 0===_||null===(g=_.recipe)||void 0===g?void 0:g.name,!(null===(v=L.rich_metadata)||void 0===v||null===(A=v.recipe)||void 0===A||!A.categorized_ingredients),null===(C=L.rich_metadata)||void 0===C||null===(E=C.recipe)||void 0===E?void 0:E.from_aggregated_data)&&(null===(j=L.rich_metadata)||void 0===j?void 0:j.recipe),V=!!(($=L).rich_metadata&&$.rich_metadata.article&&$.rich_metadata.article.date_published)&&((e,t)=>{var n,i,a;const o=new Date(null!==(n=null===(i=(null!==(a=e.rich_metadata)&&void 0!==a?a:{}).article)||void 0===i?void 0:i.date_published)&&void 0!==n?n:Date.now()),r=o.getTime(),s=(new Date).getTime();return null==t||s-r<=31536e6*t?(0,l.jsx)(T.Z,{value:o,dateFormatType:T.k.LONG_MONTH_YEAR,useUTC:!1}):""})(L,2);var $;const K=I(L)||V;return(0,l.jsx)(s.xu,{alignContent:"between","data-test-id":"UnauthBestPinCardBodyContainer",direction:"column",display:"flex",padding:8,position:"relative",width:"100%",flex:"grow",children:(0,l.jsxs)(s.xu,{position:"relative",direction:"column",display:"flex",flex:"grow",children:[(0,l.jsx)(y,{pageType:N,pin:L,pinCreditPrefix:"topic"===N.page&&L.native_creator?"Created by":M,pinLink:z}),(0,l.jsx)(s.kC,{direction:"row",justifyContent:"between",children:(0,l.jsx)(s.xu,{display:"flex",overflow:"hidden",marginEnd:B?0:3,marginTop:B?3:0,children:U&&(0,l.jsx)("h2",{style:{fontWeight:"600",fontSize:"28px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},"data-test-id":"UnauthBestPinCardTitle",children:U})})}),K?(0,l.jsx)(s.xu,{marginTop:1,children:(0,l.jsx)(s.xv,{color:"subtle",children:K})}):null,Z&&(0,l.jsx)(s.xu,{display:"flex",overflow:"hidden",marginTop:3,children:(0,l.jsxs)("h3",{style:{fontWeight:"normal",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",fontSize:"14px"},children:[H&&(0,l.jsx)(S.Z,{recipeData:H}),Z]})}),H&&(0,l.jsx)(w.Z,{columnGap:(0,l.jsx)(s.xu,{width:16}),marginOverrides:H?{outerMarginTop:32,ingredientMarginBottom:4}:null,recipeProps:{recipe:{categorizedIngredients:H.categorized_ingredients,name:H.name,image:(0,f.Z)({images:L.images,embedSrc:null===(R=L.embed)||void 0===R?void 0:R.src,embedType:null===(D=L.embed)||void 0===D?void 0:D.type})}}}),(0,l.jsxs)(s.xu,{display:"flex",alignItems:"center",direction:"row",justifyContent:"between",marginTop:2,children:[(0,l.jsx)(h,{pin:L}),(0,l.jsx)(s.kC,{alignItems:"stretch",justifyContent:"end",children:!L.repin_count||L.repin_count<1?null:(0,l.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(s.JO,{icon:"pin",accessibilityLabel:"Pin",color:"subtle",size:12}),(0,l.jsx)(s.xv,{color:"default",inline:!0,size:"100",children:(0,l.jsx)(x.Z,{value:L.repin_count,shortform:!0,shortformMaximumFractionDigits:1})})]})})]})]})})}},841478:(e,t,n)=>{n.d(t,{A6:()=>l,BS:()=>r,EC:()=>a,_5:()=>s,m9:()=>o,z9:()=>i});const i=800,a=508,o=424,r=278,s=640,l=508},35495:(e,t,n)=>{n.d(t,{GT:()=>h,Gy:()=>r,Kl:()=>g,QY:()=>p,RR:()=>l,SP:()=>d,Sn:()=>_,Zs:()=>m,bA:()=>u,i8:()=>s,nn:()=>o,qN:()=>c});var i=n(834911),a=n(229428);const o=e=>!!e&&(e.shopping_flags||[]).includes(2),r=e=>{var t,n;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(t=null===(n=e.rich_metadata)||void 0===n?void 0:n.products)&&void 0!==t?t:[]).length>0},s=e=>{var t;return null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.is_shop_the_look},l=e=>{var t,n;return null===(t=e.rich_summary)||void 0===t||null===(n=t.aggregate_rating)||void 0===n?void 0:n.rating_value},c=e=>e.is_oos_product,d=e=>e.is_stale_product,u=e=>c(e)||d(e),p=e=>{var t,n,i,a;const o=null==e||null===(t=e.link_domain)||void 0===t||null===(n=t.official_user)||void 0===n?void 0:n.full_name;if(o)return o;const r=null==e||null===(i=e.rich_summary)||void 0===i?void 0:i.site_name;if(r)return r;if(e.domain){if("Uploaded by user"===e.domain){return((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name}return e.domain}const s=null==e||null===(a=e.via_pinner)||void 0===a?void 0:a.full_name;return e.is_repin&&s?s:void 0},h=e=>{if(e){const t=e.shopping_flags||[];return!t.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&t.push(10),t}return[]};function m(e,t={},n){var o,r,s,l,c,d;const u=h(e),p={...t.commerce_data};u.includes(2)&&(p.pin_is_shop_the_look=!0),u.includes(1)&&(p.is_available=!0),u.includes(5)&&(p.is_product_pin_v2=!0),u.includes(6)&&(p.is_rich_product_pin=!0),u.includes(10)&&(p.is_organic_product_carousel=!0);if((!!e.visual_objects&&(0,a.k)(e.visual_objects)||[]).some((e=>!0===e.is_stela))&&(p.pin_is_stela=!0),e.is_eligible_for_pdp_plus||e.is_eligible_for_pdp||e.is_ooo_product||e.is_stale_product){e.is_oos_product?p.pin_show_pdp_oos=!0:e.is_stale_product?p.pin_show_pdp_stale=!0:e.is_eligible_for_pdp&&(p.pin_show_pdp=!0);const t=(0,i.Z)({carouselData:e.carousel_data,images:e.images,richMetadata:null==e?void 0:e.rich_metadata,richSummary:null==e?void 0:e.rich_summary});if("pdp_plus"===n&&e.is_eligible_for_pdp_plus){var m,_,g,v,y,f,b,x,w;p.is_pdpplus=!0;const n=null==e||null===(m=e.rich_metadata)||void 0===m||null===(_=m.products)||void 0===_?void 0:_[0],i=null==n||null===(g=n.shipping_info)||void 0===g?void 0:g.free_shipping_price,a=null==n||null===(v=n.shipping_info)||void 0===v?void 0:v.free_shipping_value,o=(null==n||null===(y=n.variant_set)||void 0===y||null===(f=y.variants)||void 0===f?void 0:f.length)||0,r=(e=>{const t=(null==e?void 0:e.variants)||[],n=(null==e?void 0:e.dimension_metadata)||[];return Array.isArray(t)&&Array.isArray(n)?n.reduce(((e,n)=>n.name&&Array.isArray(n.values)?e+n.values.filter((e=>t.find((t=>{var i,a;return(null===(i=t.dimensions)||void 0===i?void 0:i[null!==(a=n.name)&&void 0!==a?a:""])===e})))).length:e),0):0})(null==n?void 0:n.variant_set),s=(null==n||null===(b=n.variant_set)||void 0===b||null===(x=b.dimension_metadata)||void 0===x?void 0:x.length)||0,l=null==n||null===(w=n.brand)||void 0===w?void 0:w.signature;var S;if(l&&(p.brand_signature=l),t)p.carousel_image_count=null===(S=t.carousel_slots)||void 0===S?void 0:S.length;i&&(p.free_shipping_price=i),a&&(p.free_shipping_value=a),o&&(p.num_variants=o),r&&(p.valid_dimension_option_count=r),s&&(p.total_dimension_option_count=s)}else if(t){var P;p.image_count=null===(P=t.carousel_slots)||void 0===P?void 0:P.length,p.image_index=t.index}}null!=e&&null!==(o=e.rich_summary)&&void 0!==o&&null!==(r=o.products)&&void 0!==r&&null!==(s=r[0])&&void 0!==s&&s.item_id&&(p.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(l=e.rich_summary)&&void 0!==l&&null!==(c=l.products)&&void 0!==c&&null!==(d=c[0])&&void 0!==d&&d.item_set_id&&(p.item_set_id=e.rich_summary.products[0].item_set_id);const T=e.aggregated_pin_data||{};return null!=T&&T.is_shop_the_look&&(p.pin_is_shop_the_look=!0),e.story_pin_data&&(p.story_pin_id=e.story_pin_data.id),p}function _(e){const t=JSON.stringify(e);return"{}"!==t?{commerce_data:t}:null}const g=(e,t={},n)=>{if(e){return _(m(e,t,n))}return null}},27255:(e,t,n)=>{n.d(t,{Z:()=>i});const i={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY:"_video_autoplay_state",VIDEO_IFRAME_ID:"video-iframe"}},699825:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),a=n(102500),o=n(692627),r=n(47170),s=n(35495),l=n(623568),c=n(407043),d=n(785893);function u({children:e,hovered:t,pin:n,slotIndex:u,trafficSource:p,viewType:h}){var m,_,g;const{logContextEvent:v}=(0,c.v)(),[y,f]=(0,i.useState)(),[b,x]=(0,i.useState)(),{id:w,tracked_link:S,link:P}=n,T=S||P||"",k=()=>{f(!0)},I=(0,r.Z)(n),A=(0,o.Z)({hasPin:!!n,hasPinRichMetadata:!(null==n||!n.rich_metadata),hasPinRichMetadataProducts:!(null==n||null===(m=n.rich_metadata)||void 0===m||!m.products),hasPinRichMetadataArticle:!(null==n||null===(_=n.rich_metadata)||void 0===_||!_.article),hasPinRichMetadataRecipe:!(null==n||null===(g=n.rich_metadata)||void 0===g||!g.recipe),hasPinStoryPinData:!(null==n||!n.story_pin_data)}),C=(0,i.useCallback)((()=>{((e,t,n)=>{const i={check_only:n,pin_id:e.id,url:t,client_tracking_params:I,aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:w,...u||{},...(0,s.Kl)(e)||{}})};return(0,a.Z)(i)})(n,T,!1).callGet({showError:!1}).then((e=>{e&&(v({event_type:12,object_id_str:w,view_type:h,view_parameter:A,aux_data:{clickthrough_type:"rightClick",...u||{},...(0,s.Kl)(n)||{}}}),v({event_type:8948,view_type:h,object_id_str:w,view_parameter:A,aux_data:{click_type:"clickthrough",closeup_navigation_type:p&&(0,l.sV)(p)?"deeplink":"click",clickthrough_type:"rightClick",...u||{},...(0,s.Kl)(n)||{}}}))}))})),E=e=>{var t;y&&(/^\/pin/.test(null===(t=e.target.activeElement.attributes.href)||void 0===t?void 0:t.value)||(C(),f(!1)),window.removeEventListener(b,E,!1))};return(0,i.useEffect)((()=>{var e,t,n,i,a,o;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?x("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(i=n.document)||void 0===i?void 0:i.msHidden)?x("msvisibilitychange"):void 0!==(null===(a=window)||void 0===a||null===(o=a.document)||void 0===o?void 0:o.webkitHidden)&&x("webkitvisibilitychange")}),[]),(0,i.useEffect)((()=>(y&&window&&window.addEventListener(b,E,!1),()=>window.removeEventListener(b,E))),[y,b]),(0,i.useEffect)((()=>(t&&window.addEventListener("contextmenu",k),()=>{window.removeEventListener("contextmenu",k)})),[t]),(0,d.jsx)(i.Fragment,{children:e})}},628551:(e,t,n)=>{n.r(t),n.d(t,{cleanUpCookie:()=>s,getCsrfToken:()=>l,needsCsrfToken:()=>c});var i=n(231486),a=n(226198),o=n(826067),r=n(29538);const s=()=>{const e=a.fS.name,t=document.cookie.match(new RegExp(e+"=.+?($|;)","g"));var n;t&&t.length>1&&(n=r.c,document.cookie=a.fS.name+"=bad; domain=."+n+"; expires=Thu, 01-Jan-1970 00:00:00 GMT; Max-Age=0; Path=/")},l=()=>"undefined"!=typeof window?`${String(i.U2(a.fS))}`:"",c=(e,t)=>!(e=>/^(GET|HEAD|OPTIONS|TRACE)$/.test(e))(e)&&(0,o.Qg)(t)},403368:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),a=n(898781),o=n(883119),r=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=16,c=32;class d extends i.Component{constructor(...e){super(...e),s(this,"state",{isHovering:!1}),s(this,"handleMouseEnter",(e=>{this.setState({isHovering:!0}),this.props.onMouseEnter&&this.props.onMouseEnter(e)})),s(this,"handleMouseLeave",(e=>{this.setState({isHovering:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e)}))}render(){const{forwardedRef:e,icon:t,onClick:n,onMouseDown:i,onMouseUp:a,selected:s,style:d,text:u,x:p,y:h,zIndex:m,backdropDiameter:_=c,dotDiameter:g=l}=this.props,{isHovering:v}=this.state,y=v?_+4:_,f={zIndex:m,position:"absolute",top:h-y/2,left:p-y/2,outline:"none"},b={backgroundColor:"rgba(0, 0, 0, 0.1)",width:y,height:y,border:"none",borderRadius:y,cursor:n?"pointer":"default"};return(0,r.jsx)("div",{"data-test-id":"flashlight-dot",onClick:n,onKeyPress:n,onMouseDown:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:a,ref:e,role:"button",style:f,tabIndex:"0","aria-label":this.props.i18n._('Search this item', 'flashlight.dot.a11ylabel', 'accessibility label for flashlight dot'),children:(0,r.jsx)("div",{"data-test-id":"flashlight-dot-style",style:{...b,...d},children:(0,r.jsxs)(o.xu,{alignItems:"center",borderStyle:"none",color:"default",display:"flex",height:g,justifyContent:"center",position:"absolute",padding:0,width:g,dangerouslySetInlineStyle:{__style:{boxShadow:s?"0 0 0 3px #e60023":"none",borderRadius:g,top:(y-g)/2,left:(y-g)/2}},children:[!!u&&(0,r.jsx)(o.xv,{align:"center",color:"default",inline:!0,size:"100",weight:"bold",children:u}),t&&(0,r.jsx)(o.JO,{accessibilityLabel:this.props.i18n._('Tag anchor', 'accessibility label for an anchor for an object in a pin', 'accessibility label for an anchor for an object in a pin'),color:"error",icon:t,size:g/2,inline:!0})]})})})}}const u=(0,i.forwardRef)(((e,t)=>{const n=(0,a.ZP)();return(0,r.jsx)(d,{...e,forwardedRef:t,i18n:n})}))},247568:(e,t,n)=>{n.d(t,{Z:()=>C});var i=n(667294),a=n(523563),o=n(785893);const r={nw:0,ne:90,se:180,sw:270},s={ne:[6,-6],se:[6,6],sw:[-6,6],nw:[-6,-6]},l={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},c=(e,t,n,i)=>{if("rounded"===i){const[i,a]=s[e];return`translate(${t+i}, ${n+a}), rotate(${r[e]})`}return`translate(${t}, ${n}), rotate(${r[e]})`};function d({corner:e,x:t,y:n,size:i,cornerStyle:a}){return(0,o.jsxs)("g",{transform:c(e,t,n,a),style:{cursor:l[e]},children:[(0,o.jsx)("rect",{fill:"rgba(0,0,0,0)",stroke:"none",x:0,y:0,width:i,height:i,className:`v2cropperHandle ${e}`}),"rounded"===a?(0,o.jsx)("path",{d:"M5,0C2.2,0,0,2.2,0,5v15h6V6h14V0H5z",fill:"#fff",className:`v2cropperHandle ${e}`}):(0,o.jsx)("path",{d:`M ${i} 0 L 0 0 L 0 ${i}`,fill:"none",stroke:"#fff",strokeWidth:6,className:`v2cropperHandle ${e}`})]})}const u={n:"ns-resize",s:"ns-resize",e:"ew-resize",w:"ew-resize"};function p({edge:e,x:t,y:n,w:i,h:a}){return(0,o.jsx)("rect",{fill:"rgba(0,0,0,0)",stroke:"none",x:t,y:n,width:i,height:a,className:`v2cropperHandle ${e}`,style:{cursor:u[e]}})}const h=20;function m({x:e,y:t,w:n,h:a}){const r="rounded";return(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)(d,{corner:"nw",x:e,y:t,size:h,cornerStyle:r}),(0,o.jsx)(d,{corner:"ne",x:e+n,y:t,size:h,cornerStyle:r}),(0,o.jsx)(d,{corner:"sw",x:e,y:t+a,size:h,cornerStyle:r}),(0,o.jsx)(d,{corner:"se",x:e+n,y:t+a,size:h,cornerStyle:r}),(0,o.jsx)(p,{edge:"n",x:e+h,y:t-10,w:n-40,h:30}),(0,o.jsx)(p,{edge:"e",x:e+n-h,y:t+h,w:30,h:a-40}),(0,o.jsx)(p,{edge:"s",x:e+h,y:t+a-10,w:n-40,h:30}),(0,o.jsx)(p,{edge:"w",x:e-h,y:t+h,w:30,h:a-40})]})}var _=n(391254),g=n(883119),v=n(615071),y=n(112690);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=10,x=48;class w extends i.Component{constructor(...e){super(...e),f(this,"state",{cropArea:this.props.initialCropArea||{h:0,w:0,x:0,y:0},cropChangeType:null}),f(this,"cropResizeDirection",null),f(this,"_cropperOverlay",(0,i.createRef)()),f(this,"_checkCropHandleValid",((e,t)=>{const{cropArea:{h:n,w:i,x:a,y:o}}=this.state;switch(this.cropResizeDirection){case"ne":e<a&&t>o+n?this.cropResizeDirection="sw":e<a?this.cropResizeDirection="nw":t>o+n&&(this.cropResizeDirection="se");break;case"nw":e>a+i&&t>o+n?this.cropResizeDirection="se":e>a+i?this.cropResizeDirection="ne":t>o+n&&(this.cropResizeDirection="sw");break;case"se":e<a&&t<o?this.cropResizeDirection="nw":e<a?this.cropResizeDirection="sw":t<o&&(this.cropResizeDirection="ne");break;case"sw":e>a+i&&t<o?this.cropResizeDirection="ne":e>a+i?this.cropResizeDirection="se":t<o&&(this.cropResizeDirection="nw");break;case"n":t>o+n&&(this.cropResizeDirection="s");break;case"s":t<o&&(this.cropResizeDirection="n");break;case"e":e<a&&(this.cropResizeDirection="w");break;case"w":e>a+i&&(this.cropResizeDirection="e")}})),f(this,"handleClickOutside",(e=>{const{enableClickOutside:t,entrySource:n,imageSize:i,onChange:a,viewParameter:o,logContextEvent:r}=this.props,{cropArea:s}=this.state,l=e.clientX-this._cropperOverlayCoor.x,c=e.clientY-this._cropperOverlayCoor.y;var d,u;t&&(l<s.x||c<s.y||l>s.x+s.w||c>s.y+s.h)&&(r({event_type:101,view_type:72,view_parameter:o,element:11677,aux_data:{commerce_data:JSON.stringify({entrypoint:n})}}),a({origCrop:{h:null!==(d=i.h)&&void 0!==d?d:1,w:null!==(u=i.w)&&void 0!==u?u:1,x:0,y:0}}))})),f(this,"handleOnMouseDown",(e=>{var t;e.preventDefault(),e.stopPropagation();const{clientX:n,clientY:i}=e,a=e.target,o=n-this._cropperOverlayCoor.x,r=i-this._cropperOverlayCoor.y,s=a.classList?Array.from(a.classList):a instanceof Element&&(null===(t=a.getAttribute("class"))||void 0===t?void 0:t.split(" "))||[];s.includes("v2cropperHandle")?(this.setState({cropChangeType:"resize"}),s.includes("ne")&&(this.cropResizeDirection="ne"),s.includes("nw")&&(this.cropResizeDirection="nw"),s.includes("se")&&(this.cropResizeDirection="se"),s.includes("sw")&&(this.cropResizeDirection="sw"),s.includes("n")&&(this.cropResizeDirection="n"),s.includes("s")&&(this.cropResizeDirection="s"),s.includes("e")&&(this.cropResizeDirection="e"),s.includes("w")&&(this.cropResizeDirection="w")):s.includes("v2cropSection")?(this.setState({cropChangeType:"move"}),this.cropChangeStartCoor={x:o,y:r}):s.includes("v2shadowMask")&&(this.cropChangeStartCoor={x:o,y:r},this.setState({cropArea:{h:0,w:0,x:o,y:r},cropChangeType:"select"}))})),f(this,"handleOnMouseMove",(e=>{const{cropArea:{h:t,w:n,x:i,y:a},cropChangeType:o}=this.state,{imageSize:r}=this.props,{clientX:s,clientY:l}=e,c=s-this._cropperOverlayCoor.x,d=l-this._cropperOverlayCoor.y;if("resize"===o){var u,p;const e=Math.max(Math.min(c,(null!==(u=r.w)&&void 0!==u?u:1)-b),b),o=Math.max(Math.min(d,(null!==(p=r.h)&&void 0!==p?p:1)-b),b);switch(this._checkCropHandleValid(e,o),this.cropResizeDirection){case"ne":{const n=Math.max(t+(a-o),x),r=Math.max(e-i,x);this.setState({cropArea:{h:n,w:r,x:i,y:n<=x?a:o}});break}case"nw":{const r=Math.max(n+(i-e),x),s=Math.max(t+(a-o),x);this.setState({cropArea:{h:s,w:r,x:r===x?i:e,y:s===x?a:o}});break}case"se":{const t=Math.max(o-a,x),n=Math.max(e-i,x);this.setState({cropArea:{h:t,w:n,x:i,y:a}});break}case"sw":{const t=Math.max(o-a,x),r=Math.max(n+(i-e),x);this.setState({cropArea:{h:t,w:r,x:r===x?i:e,y:a}});break}case"n":{const e=Math.max(a-o+t,x);this.setState({cropArea:{h:e,w:n,x:i,y:e===x?a:o}});break}case"s":{const e=Math.max(o-a,x);this.setState({cropArea:{h:e,w:n,x:i,y:a}});break}case"e":{const n=Math.max(e-i,x);this.setState({cropArea:{h:t,w:n,x:i,y:a}});break}case"w":{const o=Math.max(n-e+i,x);this.setState({cropArea:{h:t,w:o,x:o===x?i:e,y:a}});break}}}else if("move"===o){var h,m;const e=c-this.cropChangeStartCoor.x,o=d-this.cropChangeStartCoor.y,s=Math.max(Math.min(i+e,(null!==(h=r.w)&&void 0!==h?h:1)-n-b),b),l=Math.max(Math.min(a+o,(null!==(m=r.h)&&void 0!==m?m:1)-t-b),b);this.cropChangeStartCoor={x:c,y:d},this.setState({cropArea:{h:t,w:n,x:s,y:l}})}else if("select"===o){var _,g;const e=Math.max(Math.min(c,null!==(_=r.w)&&void 0!==_?_:1),0),t=Math.max(Math.min(d,null!==(g=r.h)&&void 0!==g?g:1),0),n=e-this.cropChangeStartCoor.x,i=t-this.cropChangeStartCoor.y;this.setState({cropArea:{h:Math.abs(i),w:Math.abs(n),x:Math.min(this.cropChangeStartCoor.x,e),y:Math.min(this.cropChangeStartCoor.y,t)}})}})),f(this,"handleOnMouseUp",(()=>{const{cropChangeType:e}=this.state;"resize"!==e&&"move"!==e&&"select"!==e||this.handleCrop(),this.cropResizeDirection=null}))}componentDidMount(){const{disableCrop:e}=this.props,t=document.body,n=this._cropperOverlay.current;if(n&&t){if(n){const e=n.getBoundingClientRect();this._cropperOverlayCoor={x:e.left,y:e.top}}e?e&&n.addEventListener("mousedown",this.handleClickOutside):(window.addEventListener("mouseup",this.handleOnMouseUp),t.addEventListener("mousemove",this.handleOnMouseMove),n.addEventListener("mousedown",this.handleOnMouseDown))}}componentWillUnmount(){const{disableCrop:e,entrySource:t}=this.props,n=document.body,i=this._cropperOverlay.current;i&&n&&(e?e&&"shopping"===t&&i.removeEventListener("mousedown",this.handleClickOutside):(window.removeEventListener("mouseup",this.handleOnMouseUp),n.removeEventListener("mousemove",this.handleOnMouseMove),i.removeEventListener("mousedown",this.handleOnMouseDown)))}handleCrop(){const{entrySource:e,imageSize:t,onChange:n,viewParameter:i,logContextEvent:a}=this.props,{cropChangeType:o,cropArea:r}=this.state;if(0===r.w&&0===r.h){var s,l;this.setState({cropChangeType:null}),n({origCrop:{h:(null!==(s=t.h)&&void 0!==s?s:1)-20,w:(null!==(l=t.w)&&void 0!==l?l:1)-20,x:b,y:b}})}else{var c,d,u,p;this.setState({cropChangeType:null});const s=Math.max(Math.min(r.x,(null!==(c=t.w)&&void 0!==c?c:1)-x-b),b),l=Math.max(Math.min(r.y,(null!==(d=t.h)&&void 0!==d?d:1)-x-b),b);let _,g;if(r.h<x)_=x;else if(l+r.h>(null!==(u=t.h)&&void 0!==u?u:1)-b){var h;_=(null!==(h=t.h)&&void 0!==h?h:1)-l-b}else _=r.h;if(r.w<x)g=x;else if(s+r.w>(null!==(p=t.w)&&void 0!==p?p:1)-b){var m;g=(null!==(m=t.w)&&void 0!==m?m:1)-s-b}else g=r.w;switch(o){case"move":a({event_type:7603,view_type:72,view_parameter:i,aux_data:{commerce_data:e?JSON.stringify({entrypoint:e}):void 0}});break;case"resize":a({event_type:7604,view_type:72,view_parameter:i,aux_data:{commerce_data:e?JSON.stringify({entrypoint:e}):void 0}})}n({origCrop:{h:_,w:g,x:s,y:l}})}}render(){const{children:e,previewCropArea:t,showPreviewArea:n,disableCrop:i}=this.props,{cropArea:{h:a,w:r,x:s,y:l},cropChangeType:c}=this.state;return(0,o.jsxs)(g.xu,{ref:this._cropperOverlay,position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{cursor:i?"auto":"crosshair"}},children:[(0,o.jsx)(_.Z,{unsafeCSS:"\n.preview-crop-area-enter {\n  opacity: 0;\n}\n\n.preview-crop-area-enter-active {\n  opacity: 1;\n  transition: opacity 300ms;\n}\n\n.preview-crop-area-exit {\n  opacity: 1;\n}\n\n.preview-crop-area-exit-active {\n  opacity: 0;\n  transition: opacity 300ms;\n}\n\n.preview-crop-area-exit-done {\n  opacity: 0;\n}\n"}),(0,o.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[(0,o.jsx)("defs",{children:(0,o.jsxs)("mask",{id:"Mask",children:[(0,o.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",rx:"0",ry:"0",fill:"#fff"}),(0,o.jsx)("rect",{x:s,y:l,width:r,height:a,id:"hole",rx:i?15:0,ry:i?15:0},`${s}${l}`),(0,o.jsx)(v.Z,{in:n&&!c,timeout:300,classNames:"preview-crop-area",mountOnEnter:!0,unmountOnExit:!0,children:(0,o.jsx)("rect",{x:t.x,y:t.y,width:t.w,height:t.h,id:"preview",rx:4,ry:4},`${t.x}${t.y}`)})]})}),(0,o.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",style:{fill:"rgba(0,0,0,0.5)"},mask:"url(#Mask)",className:"v2shadowMask"}),(0,o.jsx)("use",{href:"#hole",fill:"rgba(0,0,0,0)",stroke:i?"none":"#fff",strokeWidth:"2",className:"v2cropSection",style:{cursor:i?"auto":"move"}}),"select"!==c&&!i&&(0,o.jsx)(m,{x:s,y:l,w:r,h:a})]}),e]})}}function S(e){const t=(0,y.Z)();return(0,o.jsx)(w,{logContextEvent:t,...e})}var P=n(403368);function T({entrySource:e,showAnimation:t,auxData:n,index:a,isStela:r,onClick:s,onHover:l,onUnhover:c,spotlightCenter:d,viewParameter:u,viewType:p}){const h=(0,y.Z)();(0,i.useEffect)((()=>{h(e?{event_type:120,view_type:p,view_parameter:u,element:1221,aux_data:{commerce_data:JSON.stringify({entrypoint:e}),...n}}:{event_type:120,element:1260,aux_data:n})}),[]);const m=parseFloat((.1*(a+1)).toFixed(2)),_={animation:t?`spotlightDotPop 0.6s ease-out ${m}s both`:"none"};return(0,o.jsx)(P.Z,{x:d.x,y:d.y,onClick:e=>{e&&(e.stopPropagation(),e.preventDefault()),h({event_type:101,view_parameter:u,element:r?1221:1260,aux_data:n}),s(a)},onMouseEnter:e=>{e&&(e.stopPropagation(),e.preventDefault()),l(a)},onMouseLeave:e=>{e&&(e.stopPropagation(),e.preventDefault()),c()},style:_})}var k=n(599611);const I=({entrySource:e,showAnimation:t,pinId:n,imageSignature:a,imageSize:r,currentSpotlightIdx:s,spotlightAreas:l,handleSpotlightClick:c,handleSpotlightHover:d,handleSpotlightUnhover:u,viewParameter:p,viewType:h})=>(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)(_.Z,{unsafeCSS:"\n@keyframes spotlightDotPop {\n  0% {\n    opacity: 0;\n    transform: scale(0);\n  }\n\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n}"}),l.map(((i,l)=>{var m,_;if(l===s)return null;const g=(0,k.Z)({cropArea:i,scaledWidth:null!==(m=r.w)&&void 0!==m?m:0,scaledHeight:null!==(_=r.h)&&void 0!==_?_:0}),v={x:g.x+g.w/2,y:g.y+g.h/2},y={commerce_data:JSON.stringify({entrypoint:e}),pin_id:n,image_signature:a,visual_objects:JSON.stringify([{x:i.x,y:i.y,w:i.w,h:i.h}])},f=`${v.x}${v.y}`;return(0,o.jsx)(T,{entrySource:e,showAnimation:t,auxData:y,index:l,isStela:!!i.is_stela,onClick:c,onHover:d,onUnhover:u,spotlightCenter:v,viewParameter:p,viewType:h},f)}))]});var A=n(554383);function C({cropSource:e,disableCrop:t,entrySource:n,imageSize:r,imageSignature:s,initialCropArea:l,pin:c,onChange:d,showAnimation:u,searchQuery:p,spotlightAreas:h=[],trafficSource:m,viewParameter:_,viewType:v}){const[y,f]=(0,i.useState)(!1),[b,x]=(0,i.useState)({w:0,h:0,x:0,y:0}),[w,P]=(0,i.useState)(0);(0,i.useEffect)((()=>{const e=h.findIndex((e=>{var t,n;return(0,a.Z)(l,(0,k.Z)({cropArea:e,scaledWidth:null!==(t=r.w)&&void 0!==t?t:0,scaledHeight:null!==(n=r.h)&&void 0!==n?n:0}),4)}));P(e)}),[r,l,h]);const T=e=>{var t,i;const a=h[e],o=(0,k.Z)({cropArea:a,scaledWidth:null!==(t=r.w)&&void 0!==t?t:0,scaledHeight:null!==(i=r.h)&&void 0!==i?i:0});d({origCrop:o,cropSource:a.is_stela?4:1,entrySource:n,trafficSource:m})},C=h&&!!h.length,{is_eligible_for_related_products:E}=c||{},j=E&&"shopping"===n;return(0,o.jsx)(i.Fragment,{children:j?(0,o.jsx)(g.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:C?{pointerEvents:"none",backgroundColor:"rgba(0, 0, 0, 0.2)"}:{}},left:!0,position:"absolute",right:!0,top:!0,children:C&&(0,o.jsx)(i.Fragment,{children:(0,o.jsx)(A.default,{alwaysShow:!0,cropSource:e,currentSpotlightIdx:w,height:r.h,pin:c,searchQuery:p,trafficSource:m,width:r.w,handleStelaClick:T,enablePointerEvents:!0})})}):(0,o.jsx)(S,{enableClickOutside:!y,entrySource:n,imageSize:r,initialCropArea:l,onChange:({origCrop:e})=>{d({origCrop:e,cropSource:6,entrySource:n,trafficSource:m})},previewCropArea:b,showPreviewArea:!1,disableCrop:t,viewParameter:_,children:C&&(0,o.jsx)(I,{entrySource:n,showAnimation:u,pinId:c.id,handleSpotlightHover:e=>{var t,n;e!==w&&(f(!0),x((0,k.Z)({cropArea:h[e],scaledWidth:null!==(t=r.w)&&void 0!==t?t:0,scaledHeight:null!==(n=r.h)&&void 0!==n?n:0})))},handleSpotlightUnhover:()=>{f(!1)},imageSignature:s,imageSize:r,currentSpotlightIdx:w,spotlightAreas:h,handleSpotlightClick:T,viewParameter:_,viewType:v})},JSON.stringify(l))})}},558068:(e,t,n)=>{n.d(t,{Hv:()=>l,aX:()=>u,nK:()=>p});var i=n(667294),a=n(425288),o=n(276775),r=n(785893);const{Provider:s,useHook:l}=(0,a.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function d(e,t){var n;const i={action:t.type,location:t.location,match:t.match};if(t.location===(null===(n=e.current)||void 0===n?void 0:n.location))return e;switch(t.type){case"POP":return e.forward.length>0&&c(e.forward[0].location)===c(i.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:i,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:i};default:return e}}function u(){const{current:e,previous:t}=l();return(0,i.useMemo)((()=>e?t.concat(e):t),[e,t])}function p({children:e}){const t=(0,o.useHistory)(),n=(0,o.useLocation)(),a=(0,o.useRouteMatch)(),l={forward:[],current:{action:t.action,location:n,match:a},previous:[]},[c,u]=(0,i.useReducer)(d,l);return(0,i.useEffect)((()=>{const{action:e}=t;u({type:e,location:n,match:a})}),[n]),(0,r.jsx)(s,{value:c,children:e})}},391254:(e,t,n)=>{n.d(t,{Z:()=>o});n(441143);var i=n(785893);class a{static factory(e){return e instanceof a?e:new a(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function o(e){const{css:t,unsafeCSS:n,...o}=e,r=String(t||"")||n||"";return!!r?(0,i.jsx)("style",{...o,dangerouslySetInnerHTML:{__html:String(a.factory(r))}}):null}},422722:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var i=n(176532),a=n(635240),o=n(395164);const r={};r.BASE_URL_PATH="/_/_/report/",r.BASE_URL_PATH_TRACE="/_/_/trace/",r.SERVER_LOG_TYPE=Object.freeze({PAGE_LOAD_METRIC:"page_load_metric",BROWSER_EXTENSION:"browser_extension",RENDER_TIME:"render_time",NETWORK_LOAD:"network_load",SIGNUP_LOAD:"signup_load",TRACE:"trace",STRING_USAGE:"string_usage",HF_REFRESH:"hf_refresh"}),r.HTTP_METHOD=Object.freeze({GET:"GET",POST:"POST"});const s=function(e,t){if(!/password/i.test(e))return t};r._assembleXhrData=function(e,t){let n;try{n=JSON.stringify(t,s)}catch(i){n=JSON.stringify({messages:[i.toString()]})}return{report_context:JSON.stringify(e,s),report_data:n}},r.logToServer=function(e,t,n,s=0,l,c){var d;let u=null!=s?s:0;const p=null!=l?l:1;c=null!==(d=c)&&void 0!==d?d:l,function(e,t,n,o){let s;s="trace"===e?r.BASE_URL_PATH_TRACE+e+"/":r.BASE_URL_PATH+e+"/",o&&(n.timeElapsed=Date.now()-o),e&&(n.logType=e);let l="";try{l=window.location.href}catch(u){}const c={app_version:(0,a.Z)(),current_url:l},d=r._assembleXhrData(c,n);return(0,i.Z)({url:s,type:t,data:d}).promise.then((({ok:e,status:t,statusText:n})=>e?Promise.resolve():Promise.reject({type:"error",message:n,httpStatus:t})))}(e,t,n,c).catch((i=>{if(u){u-=1;const i=Math.min(18e5,1.23*p);setTimeout((()=>{r.logToServer(e,t,n,u,i,c)}),l)}else u-=1,(0,o.T)({name:i.name,message:`LogToServer failed: ${i.message}`})}))},r.logPerfDataToServer=r.logToServer,r.logToServer=function(e,t){let n=0;return function(...i){if(!(n>=t))return n+=1,e.apply(this,i)}}(r.logToServer,10);const l=r},711344:(e,t,n)=>{n.d(t,{Z:()=>u,v:()=>c});var i=n(231486),a=n(226198);var o=n(932046),r=n(172071),s=n(867820),l=n(644035);const c=e=>{const{userAgent:t}=e;if(!t.isMobile&&!t.isTablet)return"desktop";switch(t.platform){case l.RL:return"iphone";case l.GW:return t.isTablet?"android_tablet":"android";case l.s4:return"ipad";default:return"mobile_other"}},d=({moduleName:e,pageType:t,requestContext:n,route:l})=>{const d=c(n),u=n.isAuthenticated?"auth":"unauth",p=(()=>{const e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";if(e.indexOf("applebot")>-1)return"apple_bot";if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";if(e.indexOf("yandex")>-1)return"yandex"}})(),h=(0,o.Z)(),m=function(){let e=!1;return i.U2(a.VL)||(i.t8(a.VL,"1",(0,i.kZ)(a.VL)),e=!0),e}(),_=document.domain||"unknown";m&&((0,s.My)(`traffic.${d}.${h}.${e}.${u}`),(0,s.My)(`traffic_subdomain.${_}.${h}.${e}.${u}`),(0,s.My)(`traffic_subdomain.${_}.${d}.${h}.${e}.${u}`),(0,s.My)(`traffic_subdomain.${_}.${d}.${u}`),(0,s.My)(`traffic_duplo.${d}.${h}.${e}.${u}`),p&&(0,s.My)(`traffic_bot.${p}.${e}`));r.Z.increment("webapp.traffic",.1,{domain:_,isAuth:u,pageType:t,userAgentPlatform:d,botType:p,firstVisit:m,moduleName:e,referrer:h,route:l})};function u({pageType:e,requestContext:t,route:n}){d({moduleName:{"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/videos/:category/:id":"VideosCategoryPage","/shopping":"ShoppingRootPage","/shopping/:category/:id":"ShoppingCategoryPage"}[n]||"other",pageType:e,requestContext:t,route:n})}},241244:(e,t,n)=>{n.d(t,{N:()=>r,Z:()=>o});var i=n(883119),a=n(785893);function o({children:e,fullWidth:t}){return(0,a.jsx)(i.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},children:e})}function r({children:e,enabled:t}){return t?(0,a.jsx)(o,{children:e}):e}},310227:(e,t,n)=>{n.d(t,{Dv:()=>o,Ml:()=>r,Oc:()=>i,mv:()=>a});const i=16,a=4,o={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},r=120},335174:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(483205);const a=e=>`@keyframes shopButtonSlideInThenOut {\n    0% {\n      width: 48px;\n    }\n\n    15% {\n      width: ${e+i.Nv}px;\n    }\n\n    85% {\n      width: ${e+i.Nv}px;\n    }\n\n    100% {\n      width: 40px;\n    }\n  }\n\n  @keyframes shopButtonSlideIn {\n    0% {\n      width: 48px;\n    }\n\n    100% {\n      width: ${e+i.Nv}px;\n    }\n  }\n\n  @keyframes shopButtonSlideOut {\n    0% {\n      width: ${e+i.Nv}px;\n    }\n\n    100% {\n      width: 48px;\n    }\n  }\n\n  @keyframes revealShopText {\n    from {\n      clip-path: inset(0 100% 0 0);\n    }\n    to {\n      clip-path: inset(0 0 0 0);\n    }\n  }\n\n\n  @keyframes stelaSlideIn {\n    0% {\n        opacity: 0;\n    }\n\n    100% {\n        opacity: 1;\n    }\n}\n\n@keyframes stelaSlideOut {\n    0% {\n        opacity: 1;\n    }\n\n    100% {\n        opacity: 0;\n    }\n}\n\n@keyframes stelaSlideInThenOut {\n    0% {\n        opacity: 0;\n    }\n\n    15% {\n        opacity: 0;\n    }\n\n    25% {\n        opacity: 1;\n    }\n\n    50% {\n        opacity: 1;\n    }\n\n    75% {\n        opacity: 1;\n    }\n\n    85% {\n        opacity: 0;\n    }\n\n    100% {\n        opacity: 0;\n    }\n}\n\n  `},554383:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var i=n(341866),a=n(305791),o=n(599611),r=n(325016),s=n(667294),l=n(335174),c=n(391254),d=n(829407),u=n(112690),p=n(241244),h=n(883119),m=n(785893);const _={},g={none:{opacity:0},down:{animation:"stelaSlideIn .3s ease-in-out forwards"},up:{animation:"stelaSlideOut .3s ease-in-out forwards"}};function v({alwaysShow:e,contextLogData:t,enablePointerEvents:n=!0,imageHeight:i,imageWidth:a,isSelected:o,label:r,labelPressState:v,xPos:y,yPos:f}){var b;const x=(0,s.useRef)(),w=(0,u.Z)();(0,d.Z)((()=>{w({event_type:120,view_type:3,aux_data:{...t},...t})})),(0,s.useEffect)((()=>{_[r]=null}),[r]),(0,s.useEffect)((()=>{const e=x.current&&x.current.getBoundingClientRect().width;_[r]=e}),[x.current]);const S=null!==(b=_[r])&&void 0!==b?b:0;let P=y,T=f;y+S>a?P=a-S:y<0&&(P=0),f+33>i?T=i-33:f<0&&(T=0);const k=!!_[r];return(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{top:T,left:P}},display:"flex",position:"absolute",children:(0,m.jsxs)(p.N,{enabled:n,children:[(0,m.jsx)(c.Z,{unsafeCSS:(0,l.Z)()}),(0,m.jsx)(h.xu,{ref:x,dangerouslySetInlineStyle:{__style:k||e?{backgroundColor:e&&o?"#000":"rgba(255, 255, 255)",zIndex:5,whiteSpace:"nowrap",left:void 0,...e?{opacity:k?1:0}:g[v||"none"]}:{opacity:0}},padding:2,position:"relative",rounding:"pill",children:(0,m.jsx)(h.xv,{align:"start",color:e&&o?"inverse":"default",overflow:"normal",size:"200",weight:"bold",children:r})})]})})}var y=n(483205),f=n(276775),b=n(629377);const x=()=>{};function w({alwaysShow:e,cropSource:t,currentSpotlightIdx:n,enablePointerEvents:i,handleStelaClick:s,height:l=1,index:c,labelPressState:d,onStelaDotAnimationComplete:p,pin:_,searchQuery:g,stelaDotAnimationType:w,stelaArea:S,trafficSource:P,width:T=1}){const k=(0,f.useHistory)(),{selectStela:I}=(0,b.b)(),A=(0,u.Z)(),C={x:((S.label_x||S.x)+S.w/2)*T,y:((S.label_y||S.y)+S.h/2)*l},E={element:1221,image_signature:_.image_signature,visual_objects:JSON.stringify({x:S.x,y:S.y,w:S.w,h:S.h,object_category:S.label}),pin_id:_.id,commerce_data:JSON.stringify({pin_is_stela:!0})};return(0,m.jsxs)(h.iP,{onMouseEnter:x,onMouseLeave:x,onTap:()=>{if(A(e?{event_type:101,view_type:427,element:E.element,aux_data:{...E}}:{event_type:101,view_type:3,element:E.element,aux_data:{...E}}),e&&s&&S&&void 0!==c)I({selectedStelaItem:S}),s(c);else if(S&&k){const{height:e,width:t}=(0,a.Z)({pin:_,maxWidth:y.RZ}),n=(0,o.Z)({cropArea:S,scaledWidth:t,scaledHeight:e});let i=`/pin/${_.id}/related-products/?x=${n.x}&y=${n.y}&w=${n.w}&h=${n.h}&entrySource=shopping&cropSource=4`;g&&(i=i.concat(`&q=${g}`)),P&&(i=i.concat(`&rs=${P}`)),I({selectedStelaItem:S}),k.push(i)}},children:[(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{top:C.y,left:C.x}},display:"flex",position:"absolute","data-test-id":"stela-label-dot",children:("inOut"===w||!S.label&&("down"===d||e)||T<=400&&e)&&(0,m.jsx)(r.Z,{alwaysShow:e,contextLogData:E,isSelected:S.isSelected,onStelaDotAnimationComplete:p,stelaDotAnimationType:w,imageSignature:_.image_signature,enablePointerEvents:i})}),S.label&&!(e&&T<=400)&&(0,m.jsx)(v,{alwaysShow:e,contextLogData:E,imageWidth:T,imageHeight:l,isSelected:S.isSelected,label:S.label,labelPressState:d,xPos:C.x,yPos:C.y,enablePointerEvents:i})]})}function S({alwaysShow:e,cropSource:t,closeupImageHovered:n,currentSpotlightIdx:a,disableSelected:o,enablePointerEvents:r,handleStelaClick:s,height:l,labelPressState:c,onStelaDotAnimationComplete:d,pin:u,searchQuery:p,stelaDotAnimationType:_,trafficSource:g,width:v}){const{stela:y}=(0,b.b)(),f=(0,i.Z)({pin:u}).map((e=>{if(!o&&y.selectedStelaItem){const{x:t,y:n}=y.selectedStelaItem;if(e.x===t&&e.y===n)return{...e,isSelected:!0}}return{...e,isSelected:!1}}));return(0,m.jsx)(h.xu,{height:l,position:"absolute",width:v,dangerouslySetInlineStyle:{__style:"in"===_||n?{backgroundColor:"rgba(0, 0, 0, 0.2)"}:{}},children:f.map(((n,i)=>(0,m.jsx)(w,{alwaysShow:e,cropSource:t,currentSpotlightIdx:a,height:l,index:i,handleStelaClick:s,labelPressState:c,onStelaDotAnimationComplete:d,pin:u,searchQuery:p,stelaDotAnimationType:_,stelaArea:n,trafficSource:g,width:v,enablePointerEvents:r},`${n.x}${n.y}`)))})}},325016:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),a=n(335174),o=n(391254),r=n(112690),s=n(883119),l=n(483205),c=n(241244),d=n(785893);function u({alwaysShow:e,contextLogData:t,enablePointerEvents:n=!0,imageSignature:u,isSelected:p,onStelaDotAnimationComplete:h,stelaDotAnimationType:m}){const[_,g]=(0,i.useState)(!1),v=(0,r.Z)();(0,i.useEffect)((()=>{_||g(!0)}),[]);let y;(0,i.useEffect)((()=>{v({event_type:120,view_type:3,aux_data:{...t},...t})}),[]),"in"===m?y="stelaSlideIn .3s ease-in-out forwards":"out"===m?y="stelaSlideOut .3s ease-in-out forwards":"inOut"===m?y="stelaSlideInThenOut 3s ease-in-out forwards":"none"===m&&(y="none");const f=e?"black":"white",b=e?{opacity:1}:{animation:y,opacity:"none"===y?0:void 0};return(0,d.jsx)(i.Fragment,{children:(0,d.jsxs)(c.N,{enabled:n,children:[(0,d.jsx)(o.Z,{unsafeCSS:(0,a.Z)()}),(0,d.jsx)(s.xu,{"data-test-id":"closeup-stela-dot",height:l.b9,width:l.b9,onAnimationEnd:()=>{h&&"inOut"===m&&h()},dangerouslySetInlineStyle:{__style:b},children:(0,d.jsxs)("svg",{fill:"none",height:"36",viewBox:"0 0 36 36",width:"36",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("g",{filter:"url(#filter0_d)",children:(0,d.jsx)("circle",{cx:"18",cy:"18",fill:p?f:"white",r:"8"})}),(0,d.jsx)("defs",{children:(0,d.jsxs)("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"36",id:"filter0_d",width:"36",x:"0",y:"0",children:[(0,d.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,d.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,d.jsx)("feOffset",{}),(0,d.jsx)("feGaussianBlur",{stdDeviation:"5"}),(0,d.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,d.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow"}),(0,d.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",mode:"normal",result:"shape"})]})})]})})]})})}},483205:(e,t,n)=>{n.d(t,{Nv:()=>a,RZ:()=>o,b9:()=>i});const i=36,a=44,o=446},941646:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(785893);function o(e){const{children:t,display:n,id:o}=e;return(0,a.jsx)(i.xu,{"data-test-id":o,display:n,children:t})}},170815:(e,t,n)=>{n.d(t,{Z:()=>o});const i=!("undefined"==typeof window||!window.performance||!window.performance.now);function a(){return i?window.performance.now():Date.now()}class o{constructor(){var e,t,n;n=null,(t="startTime")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}start(){this.startTime=a()}end(){this.elapsedTime=Math.round(a()-(this.startTime||Date.now())),this.startTime=i?Math.round(this.startTime||Date.now()):null}getCompletedTime(){return this.elapsedTime}}},512176:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),a=n(898781),o=n(112690),r=n(967181),s=n(883119),l=n(785893);const c={sm:12,md:16,lg:20,xl:24};function d({isVerifiedMerchant:e,size:t,showText:n,showVerifiedIdentity:d,inspirationalBadges:u,inspirationalBadgesColor:p}){const h=(0,a.ZP)(),[m,_]=(0,i.useState)(!1),{dangerousInlineStyle:g,iconColor:v}=(0,r.W)(!!e),y=(0,o.Z)();return(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(s.iP,{onTap:()=>{y({component:13534,element:11717,event_type:102}),_(!0)},rounding:"circle",children:(0,l.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:g,display:"flex","data-test-id":"verified-badge-icon",children:[(0,l.jsx)(s.JO,{accessibilityLabel:e?h._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'):h._('Badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),icon:"workflow-status-ok",color:v,inline:!0,size:c[t]}),n&&!d&&(0,l.jsx)(s.xu,{marginStart:2,children:(0,l.jsx)(s.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:g,children:h._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})})]})}),(e||n&&!d)&&(0,l.jsx)(r.Z,{showModal:m,setShowModal:_,inspirationalBadges:u,inspirationalBadgesColor:p})]})}},967181:(e,t,n)=>{n.d(t,{W:()=>u,Z:()=>p});var i=n(667294),a=n(121151),o=n(898781),r=n(112690),s=n(966113),l=n(752403),c=n(883119),d=n(785893);const u=e=>{const t=e?"shopping":"error";return{iconColor:t,dangerousInlineStyle:{__style:{color:t}}}};function p({inspirationalBadges:e=[],inspirationalBadgesColor:t,showModal:n,setShowModal:p}){const h=(0,o.ZP)(),[m,_]=(0,i.useState)(!0),{dangerousInlineStyle:g,iconColor:v}=u(!0),y=(0,r.Z)();return(0,i.useEffect)((()=>{n&&m&&(_(!1),y({event_type:13,component:13534}))}),[n]),(0,d.jsx)(a.ZP,{"data-test-id":"modal",isOpen:n,mobileAccessibilityCloseIconLabel:h._('Close', 'Close modal window', 'Close modal'),onDismiss:()=>{y({component:13534,element:11716,event_type:102}),p(!1)},type:"verified_merchant_modal",children:(0,d.jsx)(c.xu,{padding:3,children:(0,d.jsxs)(c.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,d.jsx)(c.xu,{display:"flex",dangerouslySetInlineStyle:g,justifyContent:"center",children:(0,d.jsx)(c.JO,{accessibilityLabel:h._('Merchant verification badge icon', 'creator.verifiedMerchant.modalIcon', 'Badge indicating that a merchant or user is verified'),color:v,icon:"workflow-status-ok",size:24})}),(0,d.jsx)(c.xu,{marginTop:4,children:(0,d.jsx)(c.xv,{color:"shopping",weight:"bold",align:"center",children:(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:g,children:h._('Verified merchant', 'creator.verifiedMerchant.modalHeader', 'this merchant is a verified merchant')})})}),(0,d.jsx)(c.xu,{marginTop:4,marginBottom:4,children:(0,d.jsx)(c.xv,{align:"center",overflow:"normal",children:h._('This retailer meets Pinterest\'s Merchant Guidelines', 'creator.verifiedMerchant.modalText.', 'this merchant is a verified merchant')})}),e.map((e=>(0,d.jsxs)(c.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,d.jsx)(c.kC,{alignItems:"stretch",justifyContent:"center",children:(0,d.jsx)(c.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,d.jsx)(c.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,l.ym)(t)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,d.jsx)(c.xu,{marginTop:2,children:(0,d.jsx)(c.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,d.jsx)(c.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,d.jsx)(c.zx,{role:"link",accessibilityLabel:h._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com'),target:"blank",size:"lg",href:s.vB,text:h._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com')})})]})})})}},594881:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(172071),a=n(214494),o=n(202139);var r=n(983722),s=n(635240);var l=n(385740),c=n(30287),d=n(172045);const u=function(){const e=(0,r.Z)();if(null!=e&&e.isAuthenticated&&!function(){const e=window.location.pathname.startsWith("/email/subscription")||window.location.pathname.startsWith("/email/remove"),t=window.location.pathname.startsWith("/pin/create/"),n="/pin-builder/"===window.location.pathname&&/url=/.test(window.location.href),i=t||n,{userAgent:a}=(0,r.Z)()||{userAgent:{isMobile:!1,isTablet:!1}};return!(a.isMobile||a.isTablet)&&i||e}()){var t,n;const{viewType:r,viewParameter:u}=null!==(t=(0,l.BE)())&&void 0!==t?t:{},p=(0,c.FB)(window);!function(e,t){const n=a.Z.create("ActiveUserResource",e);let r=3e4;n.callCreate().catch((a=>{let s=a.message;if(s&&"object"==typeof s){s._t_message&&delete s._t_message;try{s=JSON.stringify(s)}catch(l){s="Unable to serialize error message"}}i.Z.increment("webapp.metrics.dau.errors",1,{message:s,browser:e.data.browser,error_code:a.api_error_code,is_auth:t}),setTimeout((()=>{r>o.UK||(r*=2,n.callCreate())}),r)}))}({data:{appVersion:(0,s.Z)(),auxData:{pwa_type:p&&"unknown"!==p?p:void 0,stage:null!==(n=e.stage)&&void 0!==n?n:"unknown"},browser:e.userAgent.browserType,clientUUID:(0,d.Z)(),event_type:7137,time:1e6*Date.now(),unauth_id:e.unauthId,view_type:r,view_parameter:u}},e.isAuthenticated)}}},619937:(e,t,n)=>{n.d(t,{$N:()=>p,GY:()=>l,MZ:()=>r,NR:()=>d,Vn:()=>c,fm:()=>i,kM:()=>o,q6:()=>a,qp:()=>s,uV:()=>u});const i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},a={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},o={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},r={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce"},s={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_MANAGER:"CONVERSIONS_API_MANAGER",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY"},l={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},c={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},d={ATTRIBUTION_DESTINATION:"destination",ATTRIBUTION_EXPIRY:"expiry",ATTRIBUTION_SOURCE:"attributionsrc",ATTRIBUTION_SOURCE_EVENT_ID:"source_event_id"},u=604800,p={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},283698:(e,t,n)=>{function i(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}n.d(t,{Z:()=>i})},100183:(e,t,n)=>{n.d(t,{CC:()=>i,Ll:()=>o,XF:()=>a});const i=(e,t)=>((e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}))(t/2,e/2,2*Math.random()*Math.PI),a=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,o=e=>["@-webkit-keyframes","@keyframes"].map((t=>e.map((e=>t+" "+e)).join("\n"))).join("\n")},176532:(e,t,n)=>{function i({async:e,data:t,headers:n,timeout:i,type:a,updateProgress:o,url:r}){let s=!1;return{promise:new Promise(((o,l)=>{const c=i?setTimeout((()=>{s="timeout",l({type:"timeout"})}),i):void 0;fetch(r,{method:a,credentials:"include",mode:"same-origin",keepalive:!e,headers:n,...t?{body:t}:{}}).then((e=>{c&&clearTimeout(c),s?"timeout"!==s&&l({type:"abort"}):o({status:e.status,statusText:e.statusText,ok:e.status>=200&&e.status<300||304===e.status,headers:{get:t=>e.headers.get(t),_logString:()=>{const t=[];for(const[n,i]of e.headers.entries())t.push(`${n}: ${i}\r\n`);return t.join("")}},json:()=>e.json().then((e=>e instanceof Object?e:Promise.reject(new Error("JSON.parse did not return an object"))))})})).catch((()=>Promise.reject({type:"timeout"})))})),abort:()=>{s="manual"}}}n.d(t,{Z:()=>p});var a=n(635240);const o=(...e)=>{};function r({async:e,data:t,headers:n,timeout:i,type:a,updateProgress:r,url:s}){const l=new XMLHttpRequest;return{promise:new Promise(((c,d)=>{const u=i?setTimeout((()=>{l.onreadystatechange=o,l.abort(),d({type:"timeout"})}),i):void 0;l.onreadystatechange=()=>{if(4===l.readyState){l.onreadystatechange=o,clearTimeout(u);const e=l.status,t=l.statusText,n=l.responseText;if(!e)return void d({type:"abort"});c({status:e,statusText:t,ok:e>=200&&e<300||304===e,headers:{get:e=>l.getResponseHeader(e),_logString:()=>l.getAllResponseHeaders()},json:()=>new Promise(((e,t)=>{try{const i=JSON.parse(n);i instanceof Object?e(i):t(new Error("JSON.parse did not return an object"))}catch(i){t(i)}})),responseText:n})}},r&&l.upload.addEventListener("progress",(e=>{let t=null;e.lengthComputable&&(t=e.loaded/e.total*100),r(t)})),l.open(a,s,e),Object.keys(n).forEach((e=>{l.setRequestHeader(e,n[e])})),l.send(t||null)})),abort:()=>{l&&l.abort()}}}var s=n(42238),l=n.n(s);const c=e=>{if((e=>{const t=e.match(/\s+chrome\/(\d+)\./i);return!!t&&parseInt(t[1],10)>=79})(e))return!0;const{name:t="",version:n=""}=l()(e).browser,i=parseInt(n.replace(/\..*/,""),10)||0;return"chrome"===t.toLowerCase()&&i>=79};var d=n(826067),u=n(628551);function p(e){const t={async:!0,cache:!1,data:void 0,headers:{},query:{},timeout:0,type:"GET",...e};let{url:n,data:o}=t;const s=t.type;o&&"object"==typeof o&&("GET"===s?(n=(0,d.ru)(n,o),o=void 0):o instanceof FormData||(o=(0,d.XP)(o))),!1===t.cache&&"GET"===s&&(n=(0,d.ru)(n,{_:Date.now()}));const l=(0,u.needsCsrfToken)(s,n);if(l&&!(0,u.getCsrfToken)())return{promise:Promise.reject({type:"csrferror",message:"No csrf token found"}),abort:()=>{}};return(!t.async&&"keepalive"in new Request("")&&c(window.navigator.userAgent||"")?i:r)({...t,url:n,data:o,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json, text/javascript, */*, q=0.01","X-APP-VERSION":(0,a.Z)(),..."GET"===s||!o||o instanceof FormData?{}:{"Content-Type":"application/x-www-form-urlencoded"},...l?{"X-CSRFToken":(0,u.getCsrfToken)()||""}:{},...t.headers}})}},613316:(e,t,n)=>{function i(e){return[0,24,21,26].includes(e)}function a({articleType:e,id:t,title:n}){const i=n.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${i}/${t}/`:`/discover/article/${i}/${t}/`}n.d(t,{x:()=>a,y:()=>i})},427014:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(172071);function a({appType:e,currVersion:t,deviceType:n,eventType:a,eventName:o,stage:r,nextVersion:s,isBot:l,originHost:c}){const d="desktop"===n?5:6;i.Z.increment(`web.client_refresh.${a}.${n}`,1,{stage:r,currVersion:t,nextVersion:s,isBot:l,siteType:e||d,appType:e||d,event:o,originHost:c||"unknown"})}},41233:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(221263),a=n(937330);function o({action:e,board:t,viewer:n}){var o;return(0,i.Z)(n,t)||(0,a.Z)({board:t,viewer:n})&&!(null===(o=t.collaborator_permissions)||void 0===o||!o.includes(e))}},221263:(e,t,n)=>{function i(e,t){const n=t&&t.owner&&t.owner.id;return e.isAuth&&n===e.id}n.d(t,{Z:()=>i})},937330:(e,t,n)=>{function i({board:e,viewer:t}){const{collaborated_by_me:n}=e;return Boolean(t.isAuth&&n)}n.d(t,{Z:()=>i})},4294:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(221263),a=n(937330);function o({board:e,viewer:t}){return(0,i.Z)(t,e)||(0,a.Z)({board:e,viewer:t})}},366284:(e,t,n)=>{n.d(t,{G6:()=>o,i7:()=>r,oi:()=>i,u$:()=>a,un:()=>l,vU:()=>s});const i=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),a=e=>{switch(!0){case e.includes("Chrome"):return i.CHROME;case e.includes("Safari"):return i.SAFARI;case e.includes("Firefox"):return i.FIREFOX;case e.includes("Opera"):return i.OPERA;case e.includes("IE"):return i.IE;case e.includes("Edge"):return i.EDGE;default:return i.OTHER}};function o(e){return a(e)===i.SAFARI}function r(e){return a(e)===i.CHROME}function s(e){return a(e)===i.FIREFOX}function l(e){return a(e)===i.EDGE}},56641:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(567831),a=n(867820);function o(e,t){if(t&&!(()=>{try{return window.localStorage.test=2,!1}catch(e){return!0}})()){const t=window.open(e,"_blank");return t&&(t.opener=null),t}{const t=(0,i.Z)(e);return setTimeout((()=>{(0,a.My)("setting_new_window_location")}),0),window.location.href=t,window}}},126098:(e,t,n)=>{function i(){if("undefined"!=typeof navigator&&"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{return window.Notification.permission}catch(e){return}}n.d(t,{Z:()=>i})},78714:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(56641),a=n(954931),o=n(867820);const r=(e,t)=>{null!=t&&t.disableOriginCheck||(0,a.Z)(e)||(e="/",(0,o.My)("url_reset")),(0,i.Z)(e)}},436851:(e,t,n)=>{n.d(t,{$:()=>a,d:()=>i});const i=e=>/instagram/i.test(e||""),a=e=>(e||"").includes("[Pinterest/iOS]")||(e||"").includes("[Pinterest/Android]")},792182:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(23279),o=n.n(a);function r(){const[e,t]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const e=()=>t({width:window.innerWidth,height:window.innerHeight});e();const n=o()(e,50);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)}),[]),e}},924196:(e,t,n)=>{n.d(t,{Z:()=>i});const i={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},904431:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>o});class a{static reportGoogleConversion(e,t,n){void 0!==window.gtag_report_conversion?window.gtag_report_conversion(e,t,n):a.queuedGoogleConversions.push({id:e,label:t,url:n})}static reportFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("track",t,n):window.fbq("track",t):a.queuedFacebookConversions.push({id:e,event:t,data:n})}static reportCustomFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("trackCustom",t,n):window.fbq("trackCustom",t):a.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:n})}static reportPinterestConversion(e,t,n){void 0!==window.pintrk?n?window.pintrk("track",t,n):window.pintrk("track",t):a.queuedPinterestConversions.push({id:e,event:t,data:n})}static reportTwitterConversion(e,t){void 0!==window.twttr?t?window.twttr.conversion.trackPid(e,t):window.twttr.conversion.trackPid(e):a.queuedTwitterConversions.push({id:e,data:t})}static reportTheTradeDeskConversion(e,t){const n=document.createElement("img");n.setAttribute("height","1"),n.setAttribute("width","1"),n.setAttribute("role","presentation"),n.style.borderStyle="none",n.style.position="absolute",n.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(n,document.body.lastChild)}static reportLinkedInConversion(e,t){const n=document.createElement("img");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("role","presentation"),n.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static reportDoubleClickConversion(e,t,n){const i=1e13*Math.random(),a=document.createElement("iframe");a.setAttribute("width","1"),a.setAttribute("height","1"),a.setAttribute("frameborder","0"),a.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};\n    type=${t};cat=${n};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${i}?`),a.style.display="none",document.body.insertBefore(a,document.body.lastChild)}static insertGoogleAdWordsTag(e){const t=document.createElement("script");t.setAttribute("async",""),t.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),t.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,n){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,n){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==n&&window.location.assign(n)}}),!1};const t=a.queuedGoogleConversions;for(let n=0;n<t.length;n+=1){const i=t[n];i.id===e&&a.reportGoogleConversion(i.id,i.label,i.url)}},document.body.insertBefore(t,document.body.firstChild)}static insertFacebookPixelTag(e){var t,n,i,o,r,s;t=window,n=document,i="script",t.fbq||(o=t.fbq=function(){o.callMethod?o.callMethod.apply(o,arguments):o.queue.push(arguments)},t._fbq||(t._fbq=o),o.push=o,o.loaded=!0,o.version="2.0",o.queue=[],(r=n.createElement(i)).async=!0,r.src="//connect.facebook.net/en_US/fbevents.js",(s=n.getElementsByTagName(i)[0]).parentNode.insertBefore(r,s)),window.fbq("init",e),window.fbq("track","PageView");const l=a.queuedFacebookConversions;for(let c=0;c<l.length;c+=1){const t=l[c];t.id===e&&(t.isCustomEvent?a.reportCustomFacebookConversion(e,t.event,t.data):a.reportFacebookConversion(e,t.event,t.data))}}static insertTwitterUniversalTag(e){var t,n,i,a,o,r;t=window,n=document,i="script",t.twq||((a=t.twq=function(){a.exe?a.exe.apply(a,arguments):a.queue.push(arguments)}).version="1.1",a.queue=[],(o=n.createElement(i)).async=!0,o.src="//static.ads-twitter.com/uwt.js",(r=n.getElementsByTagName(i)[0]).parentNode.insertBefore(o,r)),window.twq("init",e),window.twq("track","PageView")}static insertLinkedInInsightTag(e){window._linkedin_data_partner_id=e;const t=document.createElement("script");t.setAttribute("src","//snap.licdn.com/li.lms-analytics/insight.min.js"),document.body.insertBefore(t,document.body.firstChild)}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};const e=window.pintrk;e.queue=[],e.version="3.0";const t=document.createElement("script");t.async=!0,t.src="https://s.pinimg.com/ct/core.js";const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}(),window.pintrk("load",e),window.pintrk("page");const t=a.queuedPinterestConversions;for(let n=0;n<t.length;n+=1){const i=t[n];i.id===e&&a.reportPinterestConversion(e,i.event,i.data)}}}i(a,"queuedGoogleConversions",[]),i(a,"queuedFacebookConversions",[]),i(a,"queuedPinterestConversions",[]),i(a,"queuedTwitterConversions",[]);const o=a},752403:(e,t,n)=>{n.d(t,{Bu:()=>m,Dm:()=>s,I:()=>v,NG:()=>p,QP:()=>d,S4:()=>c,Xe:()=>u,_f:()=>h,eT:()=>_,hm:()=>g,yQ:()=>l,ym:()=>f});var i=n(642345);const a=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),o=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),r=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),s=[...Object.keys(a).map((e=>a[e])),...Object.keys(o).map((e=>o[e]))],l=[...Object.keys(r).map((e=>r[e]))],c=3,d=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],u={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:d[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},p="https://help.pinterest.com/article/merchant-details",h="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function m({verifiedMerchant:e}){var t,n;const i=null==e?void 0:e.isVerifiedMerchant,a=null==e||null===(t=e.inspirational_signal)||void 0===t?void 0:t.is_inspirational,o=null==e||null===(n=e.inspirational_signal)||void 0===n?void 0:n.is_eligible_for_storefront_badges;return Boolean(i&&a&&o)}function _(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function g(e){return(null==e?void 0:e.profile_badges)||[]}function v(e,t,n){return t&&n?t.map((e=>n.find((t=>t.id===e.trim())))).filter(Boolean):[]}function y(e){const t=(0,i.oo)(e);if(!t)return"white";const[n,a,o]=t;return(0,i.DW)(n,a,o)<=i.I?"white":"black"}function f(e){const t=e||d[0];return{backgroundColor:t,color:y(t)}}},834911:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(835209),a=n(341732);function o({carouselData:e,images:t,richMetadata:n,richSummary:o,shouldUnifyImageSizes:r,additionalImages:s}){const l=(0,i.Z)({richPinData:n||o});return l&&s&&s.length>0?(0,a.Z)(null,s,e&&e.index,r,l.id):l&&l.additional_images&&l.additional_images.length>0?(0,a.Z)(t,l.additional_images,e&&e.index,r,l.id):e||void 0}},737022:(e,t,n)=>{function i(e){return e?e["564x"]&&e["564x"].url?e["564x"]:e["736x"]&&e["736x"].url?e["736x"]:e["474x"]&&e["474x"].url?e["474x"]:e["236x"]&&e["236x"].url?e["236x"]:null:null}n.d(t,{Z:()=>i})},687551:(e,t,n)=>{function i(e){return!!(e&&e.carousel_data&&e.carousel_data.id)}n.d(t,{Z:()=>i})},341732:(e,t,n)=>{n.d(t,{Z:()=>o});const i=["236x","474x","564x","736x"];function a(e){function t(e,{imageKey:t,height:n,width:i}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:n,width:i}}}),e}const n=i.map((function(t){const n=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].height||1/0))),i=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].width||1/0)));return{imageKey:t,height:n,width:i}}));return e.map((e=>n.reduce(t,e)))}function o(e,t,n,i,o){const r=(null==t?void 0:t.map((({canonical_images:e,image_signature:t})=>({images:e||void 0,image_signature:t||void 0}))))||[],s=e?[{images:e},...r]:r;return{carousel_slots:i?a(s):s,index:n||0,id:o}}},768559:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(826067);const a=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,o=/\/discover\/article\/[\w-]+\/(\d+)/,r=(e,t)=>t?e.substring(t.length).split("/")[0]:e,s=({boardUrl:e,callToCreateSourcePinId:t,path:n,pinId:s,pinnerUserName:l,query:c,search:d,storyPinDataId:u})=>{var p,h;if(!n)return"";let m="";switch(n){case"/":case"/homefeed/":return"UserHomefeedResource";case l&&`/${l}/pins/`:return"UserPinsResource";case l&&`/${l}/`:case/\/_activity\//.test(n)&&n:return"UserActivityPinsResource";case/\/_created\//.test(n)&&n:return u?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(n)&&n:return"UserDiscoveredPinsResource";case/\/_shop\//.test(n)&&n:return"StoreFrontFeedResource";case/\/_saved\//.test(n)&&n:return"BoardlessPinsResource";case l&&`/${l}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(n)&&n:return"VisualLiveSearchResource";case/\/pin\//.test(n)&&n:m="/pin/";const _=r(n,m);if(s!==_)return t?`ApiResource_callToCreatePins_${_}`:`RelatedPinFeedResource_${_}`;break;case/\/search\//.test(n)&&n:if(d){return`SearchResource_${((0,i.mB)(d,{shouldDecode:!1}).q||"").toLowerCase()}`}if(c)return`SearchResource_${encodeURIComponent(c.q||"").toLowerCase()}`;break;case o.test(n)&&n:return`ExploreArticleResource_${(null===(p=n.match(o))||void 0===p?void 0:p[2])||"unknown"}`;case/\/discover\/article\//.test(n)&&n:m="/discover/article/";return`ExploreArticleResource_${r(n,m)}`;case/\/categories\//.test(n)&&n:m="/categories/";return`CategoryFeedResource_${r(n,m)}`;case/\/discover\/topics\//.test(n)&&n:return"CategoryFeedResource";case/\/news_hub\//.test(n)&&n:m="/news_hub/";return`NewsHubDetailsResource_${r(n,m)}`;case/\/_tools\/more-ideas\//.test(n)&&n:return"BoardContentRecommendationResource";case/\/topics\//.test(n)&&n:m="/topics/";return`TopicFeedResource_${r(n,m)}`;case l&&`/${l}/products/`:return"StoreFrontFeedResource";case/\/source\//.test(n)&&n:m="/source/";return`DomainFeedResource_${r(n,m)}`;case/\/explore\//.test(n)&&n:m="/explore/";return`SearchResource_${r(n,m)}`;case e:case!!e&&/\/more_ideas\//.test(n)&&n:return"BoardFeedResource";case e&&n.indexOf(e)>-1&&n:return"BoardSectionPinsResource";case/\/following\//.test(n)&&n:return"FollowingFeedResource";case/\/brand_catalog\//.test(n)&&n:return"BrandCatalogFeedResource";case a.test(n)&&n:return`TodayArticleFeedResource_${(null===(h=n.match(a))||void 0===h?void 0:h[2])||"unknown"}`;case/\/today\//.test(n):return"TodayTabResource";case/\story_feed\//.test(n)&&n:if(d){const{feed_type:e,request_params:t}=(0,i.mB)(d);return`StoryFeedResource_${e}_${t}`}}return""},l=({boardUrl:e,callToCreateSourcePinId:t,location:n,pinId:i,pinnerUserName:a,previousHistory:o,storyPinDataId:r,trackingParams:l,trackingParamsMap:c={}})=>{if(!i||!l||!n)return;if(!c)return`${l}~0`;const{pathname:d,search:u,query:p}=n,h=s({boardUrl:e,callToCreateSourcePinId:t,path:d,pinId:i,pinnerUserName:a,query:p,search:u,storyPinDataId:r,trackingParams:l,trackingParamsMap:c}),m=Object.keys(c);let _;if((d||"").startsWith("/pin/")){const e=m.find((e=>"PinResource"!==e));_=e?c[e]:c.PinResource}else _=c[h];let g;if(!_&&o&&o.length){const n=(e=>{let t=null==e?void 0:e.pathname;return t?(t.match(/\/search\//)&&null!=e&&e.search&&(t+=e.search),t.toLowerCase()):""})(o[o.length-1].location);g=s({boardUrl:e,callToCreateSourcePinId:t,path:n,pinId:i,pinnerUserName:a,query:p,search:u,storyPinDataId:r,trackingParams:l,trackingParamsMap:c}),_=c[g]}return _||(_=`${l||""}~0`),_}},47170:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(768559),a=n(558068),o=n(276775);function r(e){var t,n;const r=(0,o.useLocation)(),{previous:s}=(0,a.Hv)();return(0,i.Z)({boardUrl:null===(t=e.board)||void 0===t?void 0:t.url,callToCreateSourcePinId:e.call_to_create_source_pin_id,location:r,pinId:e.id,pinnerUserName:null===(n=e.pinner)||void 0===n?void 0:n.username,previousHistory:s,storyPinDataId:e.story_pin_data_id,trackingParams:e.tracking_params,trackingParamsMap:e.tracking_params_map})}},827896:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(768559),a=n(350118),o=n(276775);function r(){const e=(0,a.S6)(),t=(0,o.useLocation)();return(n,a)=>{let o;const r=e(n);if(null!=a&&a.shouldTrackForPrevLocation){const e=(null==r?void 0:r.tracking_params_map)||{},t=Object.keys(e).find((e=>"PinResource"!==e));r&&(o=t?e[t]:e.PinResource)}else if(r){var s,l;o=(0,i.Z)({boardUrl:null===(s=r.board)||void 0===s?void 0:s.url,callToCreateSourcePinId:r.call_to_create_source_pin_id,location:t,pinId:r.id,pinnerUserName:null===(l=r.pinner)||void 0===l?void 0:l.username,storyPinDataId:r.story_pin_data_id,trackingParams:r.tracking_params,trackingParamsMap:r.tracking_params_map})}return o}}},642345:(e,t,n)=>{n.d(t,{DW:()=>s,I:()=>r,oo:()=>o,vq:()=>a});const i=e=>{const t=e.toString(16);return 1===t.length?"0"+t:t},a=(e,t,n)=>"#"+i(e)+i(t)+i(n),o=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},r=.18,s=(e,t,n)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(n/255)**2.2},81636:(e,t,n)=>{n.d(t,{Q:()=>c,Z:()=>d});var i=n(667294),a=n(682492),o=n.n(a),r=n(112690),s=n(780280),l=n(385740);function c(e,t){const{setViewContextData:n}=(0,l.sV)(),{requestIdentifier:a}=(0,s.B)(),c=(0,r.Z)(),{viewData:d}=(0,l.SU)();(0,i.useEffect)((()=>{var t;e&&(n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?o()(d,e.view_data):o()({},d),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c({...e,event_type:13,request_identifier:a}))}),[t])}function d(e){const{children:t,log:n}=e;return c(n),t||null}},407043:(e,t,n)=>{n.d(t,{B:()=>l,v:()=>s});var i=n(385740),a=n(425288),o=n(785893);const{Provider:r,useHook:s}=(0,a.Z)("ContextLogger");function l({children:e,value:t}){const{setViewContextData:n}=(0,i.sV)();return t.injectSetViewContextDataFromHook=n,(0,o.jsx)(r,{value:t,children:e})}},745760:(e,t,n)=>{n.d(t,{Ch:()=>p,nc:()=>x,a:()=>w,ZP:()=>S,cA:()=>f,li:()=>b,h1:()=>d});var i=n(682492),a=n.n(i),o=n(214494),r=n(594881),s=n(706922);var l=n(385740),c=n(172045);const d=()=>1e6*Date.now(),u=[6945,170],p={3829:"articleImpressions",18:"pinImpressions",3700:"boardImpressions",3803:"searchImpressions",170:"storyImpression",3704:"userImpressions"},h=[4700,4701,4702,4703,7042,7043],m=e=>function(e){let t=e.length;for(let n=e.length-1;n>=0;n-=1){const i=e.charCodeAt(n);i>127&&i<=2047?t+=1:i>2047&&i<=65535&&(t+=2),i>=56320&&i<=57343&&(n-=1)}return t}(JSON.stringify(e)),_=e=>u.includes(e);let g;function v(){const e=new Date;g?g&&g.getUTCDate()!==e.getUTCDate()&&(g=e,(0,r.Z)()):g=e}function y(e){return e.reduce(((e,t)=>{const n=e.find((i=t,e=>e.view_type===i.viewType&&e.view_parameter===i.viewParameter&&e.event_type===i.eventType&&e.object_id_str===i.objectIdStr&&(0,s.Z)(e.view_data,i.viewData)));var i;if(n&&!_(t.eventType))t.impressionType in n.event_data?n.event_data[t.impressionType].push(t.eventData):n.event_data[t.impressionType]=[t.eventData];else{const n={event_type:t.eventType,view_parameter:t.viewParameter,view_type:t.viewType,view_data:t.viewData,time:d(),component:t.component,clientUUID:(0,c.Z)(),aux_data:t.auxData||{},appState:t.appState,event_data:{[t.impressionType]:_(t.eventType)?{...t.eventData,...(t.eventData||{})[t.impressionType]}:[t.eventData]},object_id_str:t.objectIdStr||void 0};e.push(n)}return e}),[])}const f=e=>{const t=e.event_type,n=h.includes(t),i=(0,l.BE)();return!(!n&&13!==t&&!i)},b=(e,t)=>{const n=e.event_type,i=h.includes(n),o=(0,l.BE)();return i?e:13===n&&e.view_type?(null==t||t({viewType:e.view_type,viewParameter:e.view_parameter,viewData:null!=o&&o.viewData?a()(o.viewData,e.view_data):a()({},e.view_data)}),e):!o||e.view_type&&e.view_parameter?e:{...e,view_type:o.viewType,view_parameter:o.viewParameter,view_data:e.view_data?a()(e.view_data,o.viewData):a()({},o.viewData)}},x=(e,t)=>{var n,i;const a=e.component,o=e.object_id_str,r=e.view_type,s=e.event_type,l=e.appState;return null!==(n=((null===(i=e.event_data)||void 0===i?void 0:i[t])||[]).map((n=>({auxData:e.aux_data,...a?{component:a}:{},eventData:n,...s?{eventType:s}:{},...r?{viewType:r}:{},viewData:e.view_data,viewParameter:e.view_parameter,...o?{objectIdStr:o}:null,impressionType:t,appState:l}))))&&void 0!==n?n:[]},w=(e,t)=>({...e.component?{component:e.component}:{},...e.object_id_str?{objectIdStr:e.object_id_str}:null,...e.view_type?{viewType:e.view_type}:{},eventType:e.event_type,auxData:e.aux_data,impressionType:t,viewData:e.view_data,viewParameter:e.view_parameter,eventData:e.event_data});function S(){let e=[],t=[],n=0;function i(){return[...e,...y(t)]}function a(){e=[],t=[],n=0}function r(e=!1){const t=i();t.length&&(o.Z.create("ContextLogResource",{events:t,report_time:d()}).callCreate({async:!e,showError:!1}),a(),v())}return{flushContextEvents:r,getContextEvents:i,logContextEvent:function({object_id_str:t,...i}){const a={aux_data:{},event_data:{},view_data:{},...i,time:d(),clientUUID:(0,c.Z)(),...t?{object_id_str:t}:null};a.aux_data=function(e){if(!e)return e;const{element:t,eventData:n,component:i,objectId:a,view:o,viewParameter:r,viewData:s,durationNs:l,pairId:c,clientTrackingParams:d,...u}=e;return u}(a.aux_data),n+m(a)>20480&&r(!1),e.push(a),v()},logImpression:function(e){n+m(e)>20480&&r(!1),t.push(e)},resetEventsBuffer:a}}},112690:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(407043);const a=()=>(0,i.v)().logContextEvent},385740:(e,t,n)=>{n.d(t,{BE:()=>c,Ih:()=>d,SU:()=>u,sV:()=>s});var i=n(667294),a=n(425288),o=n(785893);const{Provider:r,useHook:s}=(0,a.Z)("View");let l;function c(){return l}function d({children:e,initialState:t={}}){const[n,a]=(0,i.useState)(t),s=(0,i.useCallback)((()=>{l={},a({})}),[]),c=(0,i.useCallback)((e=>{l={...l,...e},a((t=>({...t,...e})))}),[]),d=(0,i.useMemo)((()=>({viewContextData:n,clearViewContextData:s,setViewContextData:c})),[n,c,s]);return(0,o.jsx)(i.Fragment,{children:(0,o.jsx)(r,{value:d,children:e})})}function u(){const{viewContextData:e}=s();return e}},911691:(e,t,n)=>{n.d(t,{Z:()=>i});const i=["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GB","GR","HR","HU","IE","IS","IT","LI","LT","LU","LV","MT","NL","NO","PL","PT","RO","SE","SI","SK"]},798748:(e,t,n)=>{n.d(t,{sw:()=>c,tb:()=>p,jD:()=>u});var i=n(911691),a=n(226198);const o=[a.EI,a.SJ,a.KU,a.Ek,a.wV,a.ZQ,a.pI,a.pp,a.fs,a.GY,a.hx,a.tv,a.jh,a.x_,a.Ck,a.L9,a.fS,a.rc,a.e7,a.x2,a.nE,a.qN,a.ZO,a.B_,a.Mq,a.Z_,a.$E,a.Q1,a.x3,a.sy,a.It,a.IV,a.eB,a.Gl,a.oj,a.ls,a.hq,a.oC,/^offsite_\d+$/,/^SSESS[a-z0-9]+/],r={marketing:[a.WL,a.k5,a.BN,a.cb,a.We,a._E],analytic:[a.MO,a.tg,a.JD,a.Mw,a.uq,a.o7,a.su,a.eG,a.th,a.VL,a.aq,/^ajs_$/,/^pinAlert.*$/],personalization:[a.T7,a.t0]};function s(e,t){return t.some((t=>t instanceof RegExp?t.test(e):t.name===e))}function l(e,t,n=!1){return s(e,t)||n&&"unknown"===function(e){const t=["marketing","analytic","personalization"];for(const n of t)if(s(e,r[n]))return n;return s(e,o)?"essential":"unknown"}(e)}const c=new Set(i.Z);let d=()=>[];function u(e,t){d=()=>{const n=e(),i=t(),a=n.isAuth?n.country:"";if(!(c.has(a)||c.has(i.countryFromIp||"")||c.has(i.countryFromHostName||"")))return[];return["allow_marketing_cookies","allow_analytic_cookies","allow_personalization_cookies"].filter((e=>n.isAuth&&!0!==n[e])).map((e=>{switch(e){case"allow_marketing_cookies":return"marketing";case"allow_analytic_cookies":return"analytic";case"allow_personalization_cookies":return"personalization";default:throw new Error("Unexpected cookie category to block")}}))}}function p(e){return l(e,function(e=[]){return e.reduce(((e,t)=>e.concat(r[t])),[])}(d()))}},231486:(e,t,n)=>{n.d(t,{U2:()=>r,kZ:()=>s,t8:()=>d,zN:()=>u});var i=n(172071),a=n(798748);function o(e){if("undefined"==typeof document)return null;const t=document.cookie.match(new RegExp("\\b"+e+"=.+?($|;)","g"));return t&&t[0]&&unescape(t[0].substring(e.length+1,t[0].length).replace(";",""))||null}function r(e){return o(e.name)}function s(e){const t=1/60;switch(e.duration){case"session":return;case"30s":return.008333333333333333;case"1m":return 1*t;case"5m":return 5*t;case"12h":return 12;case"1d":return 24;case"30d":return 720;case"180d":return 4320;case"1y":return 8760;case"sessionCookie":throw new Error("Cannot set duration to sessionCookie in client");default:throw new Error(`Invalid cookie duration ${String(e.duration)}`)}}const l=e=>String(e).replace(/[^0-9a-zA-Z_-]+/g,"_");function c(e,t,n){if((0,a.tb)(e)){let t=!1;if(o(e)){const n=[`${e}=`,"path=/",`expires=${new Date(0).toUTCString()}`].join(";");document.cookie=n,t=!o(e)}return i.Z.increment("webapp.cookies.blocked.client",.01,{cookieName:l(e),deleted:t}),document.cookie}const r=[e+"="+escape(t),"path=/"],s=function(e){if(isNaN(parseInt(e,10)))return"";{const t=new Date;return t.setTime(Date.now()+60*parseInt(e,10)*60*1e3),t.toUTCString()}}(n);return s&&r.push("expires="+s),r.push("secure"),document.cookie=r.join("; "),i.Z.increment("webapp.cookies.set.client",1e-4,{cookieName:l(e)}),document.cookie}function d(e,t,n){return c(e.name,t,n)}const u=e=>{o(e)&&c(e,"",-100)}},226198:(e,t,n)=>{n.d(t,{$E:()=>A,BN:()=>H,B_:()=>T,Ck:()=>g,EI:()=>i,Ek:()=>R,GS:()=>se,GY:()=>u,Gl:()=>M,IV:()=>F,It:()=>L,JD:()=>E,KU:()=>o,L9:()=>v,MO:()=>K,Mq:()=>k,Mw:()=>G,Q1:()=>C,SJ:()=>a,T7:()=>ne,VL:()=>ee,WL:()=>B,We:()=>$,Xh:()=>ae,ZO:()=>P,ZQ:()=>s,Z_:()=>I,_E:()=>ce,aq:()=>te,cb:()=>V,e7:()=>W,eB:()=>N,eF:()=>re,eG:()=>X,fS:()=>y,fs:()=>d,hq:()=>D,hx:()=>p,jh:()=>m,k5:()=>U,lq:()=>oe,ls:()=>Z,nE:()=>w,o7:()=>Y,oC:()=>le,oj:()=>z,pI:()=>l,pp:()=>c,qN:()=>S,rc:()=>f,su:()=>J,sy:()=>O,t0:()=>ie,tg:()=>j,th:()=>Q,tv:()=>h,uq:()=>q,wV:()=>r,x2:()=>x,x3:()=>b,x_:()=>_});const i={name:"_auth",purpose:"essential",httpOnly:!0,provenance:"1p",duration:"sessionCookie"},a={name:"_b",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},o={name:"_pinterest_access_token",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},r={name:"_routing_id",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},s={name:"_ss_al",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},l={name:"_ss_at",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},c={name:"_ss_auth",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},d={name:"_ss_country_code",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},u={name:"_ss_la",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},p={name:"_ss_li",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},h={name:"_ss_lo",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},m={name:"_ss_na",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},_={name:"_ss_u",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},g={name:"AUTHSSL",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},v={name:"cm_sub",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"1y"},y={name:"csrftoken",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"1y"},f={name:"daa",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},b={name:"logged_out",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},x={name:"fbalae",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"12h"},w={name:"force_default_pinner_experience",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},S={name:"forced_experiments",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},P={name:"forced_no_experiments",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},T={name:"G_ENABLED_IDPS",purpose:"essential",httpOnly:!1,provenance:"3p",duration:"session"},k={name:"galae",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"12h"},I={name:"hasBeenShownLoginModalInOpen",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"12h"},A={name:"is_in_integration_tests",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},C={name:"languageIsDetected",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},E={name:"_pinterest_referral_source",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"5m"},j={name:"_pinterest_referrer",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"5m"},R={name:"_pinterest_sess",purpose:"essential",httpOnly:!0,provenance:"1p",duration:"sessionCookie"},D={name:"_pinterest_sos",purpose:"essential",httpOnly:!0,provenance:"1p",duration:"1d"},O={name:"ls",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},L={name:"r_r",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"180d"},F={name:"SimpleSAMLAuthToken",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},N={name:"SimpleSAMLSessionID",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},M={name:"ss",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},z={name:"tr_rdrct",purpose:"essential",httpOnly:!1,provenance:"unknown",duration:"1y"},Z={name:"unauthLocale",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},B={name:"_derived_epik",purpose:"marketing",httpOnly:!1,provenance:"1p",duration:"session"},U={name:"_epik",purpose:"marketing",httpOnly:!1,provenance:"1p",duration:"session"},H={name:"_pinterest_ct",purpose:"marketing",httpOnly:!1,provenance:"1p",duration:"session"},V={name:"_pinterest_ct_rt",purpose:"marketing",httpOnly:!1,provenance:"1p",duration:"session"},$={name:"_pinterest_ct_ua",purpose:"marketing",httpOnly:!1,provenance:"1p",duration:"session"},K={name:"_pinterest_cm",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"session"},G={name:"_sd_redirect",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"30s"},W={name:"fba",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"30d"},q={name:"ajs_anonymous_id",purpose:"analytic",httpOnly:!1,provenance:"3p",duration:"session"},Y={name:"ajs_group_id",purpose:"analytic",httpOnly:!1,provenance:"3p",duration:"session"},J={name:"ajs_user_id",purpose:"analytic",httpOnly:!1,provenance:"3p",duration:"session"},X={name:"amp-access",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"session"},Q={name:"amp-experiment",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"session"},ee={name:"sessionFunnelEventLogged",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"12h"},te={name:"session_internal",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"session"},ne={name:"attemptToClaimWebsite",purpose:"personalization",httpOnly:!1,provenance:"1p",duration:"1d"},ie={name:"bxn",purpose:"personalization",httpOnly:!1,provenance:"1p",duration:"session"},ae={name:"ujr",purpose:"unknown",httpOnly:!1,provenance:"1p",duration:"session"},oe={name:"BearerToken",purpose:"unknown",httpOnly:!1,provenance:"unknown",duration:"session"},re={name:"sterling_save_preferences",purpose:"unknown",httpOnly:!1,provenance:"1p",duration:"session"};function se(e){return{name:`offsite_${e}`,purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"}}const le={name:"__Secure-s_a",purpose:"essential",httpOnly:!0,provenance:"1p",duration:"sessionCookie"},ce={name:"l_o",purpose:"marketing",httpOnly:!0,provenance:"1p",duration:"1y"}},425288:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294);function a(e,t){return`\n  ${"consumer"===t?`${e}Consumer`:`use${e}`} must be used within a ${e}Provider.\n  Please see https://pdocs.pinadmin.com/docs/webapp/testing-jest#createhydra-errors for more information.\n  `}function o(e,t){const n=(0,i.createContext)(t),{messageDisplayName:o}=function(e,t){let n=e.slice(1);if(n=n.endsWith("Context")?n:`${n}Context`,t)return{hocDisplayName:`with${e[0].toUpperCase()}${n}(${t})`};return{propsDisplayName:`${e[0].toLowerCase()}${n}`,messageDisplayName:`${e[0].toUpperCase()}${n}`}}(e);n.displayName=o;const r=n.Provider,s=({children:e})=>{const t=(0,i.useContext)(n);if(void 0===t)throw new Error(a(o,"consumer"));return e(t)},l=()=>(0,i.useContext)(n);return r.displayName=`${o}Provider`,s.displayName=`${o}Consumer`,{Provider:r,Consumer:s,MaybeConsumer:({children:e})=>e((0,i.useContext)(n)),useMaybeHook:l,useHook:function(){const e=l();if(void 0===e)throw new Error(a(o,"hook"));return e}}}},643010:(e,t,n)=>{n.d(t,{F6:()=>u,Hs:()=>d,Yc:()=>l,vs:()=>c});var i=n(667294),a=n(867820),o=n(844974);const r="theme",s="dark"===(0,o.qn)(r),l=()=>s;function c(){const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{t(l())}),[t]),e}const d=()=>{(0,o.Nh)(r,"dark"),(0,a.My)("mweb.dark_mode.enable"),window.location.reload()},u=()=>{(0,o.L_)(r),(0,a.My)("mweb.dark_mode.disable"),window.location.reload()}},782534:(e,t,n)=>{n.d(t,{Z:()=>r,k:()=>a.k});var i=n(780280),a=n(451820),o=n(785893);const r=({dateFormatType:e,useUTC:t=!0,value:n})=>(0,o.jsx)(i.LC,{children:i=>(0,a.Z)(i.locale,n,e,t)})},202139:(e,t,n)=>{n.d(t,{DH:()=>i,F4:()=>r,FS:()=>a,N1:()=>d,N9:()=>l,UK:()=>o,VL:()=>s,v6:()=>c});const i=1e3,a=60*i,o=60*a,r=24*o,s=7*r,l=30*r,c=31*r,d=365*r},451820:(e,t,n)=>{n.d(t,{Z:()=>a,k:()=>i});const i={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit"};function a(e,t,n,a=!0){const o=function(e){switch(e){case i.YEAR:return{year:"numeric"};case i.LONG:return{year:"numeric",month:"long",day:"numeric"};case i.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case i.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case i.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case i.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case i.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.MONTH_DAY:return{month:"long",day:"numeric"};case i.SHORT_MONTH:return{month:"short"};case i.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case i.DAY:return{day:"numeric"};case i.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case i.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case i.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case i.TIME:return{hour:"numeric",minute:"2-digit"};case i.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.HOUR:return{hour:"numeric"};default:throw new Error('invalid dateFormatType "'+e+'"')}}(n);a&&(o.timeZone="UTC");return new Intl.DateTimeFormat(e,o).format(t)}},81226:(e,t,n)=>{function i(e){const t=Math.round(e/1e3),n=t%60;return Math.floor(t/60)+":"+(n<10?"0":"")+n}n.d(t,{Z:()=>i})},816068:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>Math.floor(new Date(e).getTime()/1e3)},766935:(e,t,n)=>{function i(e,t){let n;return(...i)=>{clearTimeout(n),n=setTimeout((()=>e(...i)),t)}}n.d(t,{Z:()=>i})},966476:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);const a=()=>{const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{t(!0)}),[]),e}},722767:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(973935);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r extends i.Component{constructor(...e){super(...e),o(this,"observer",null),o(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=a.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return i.Children.only(this.props.children)}}const s=r},903095:(e,t,n)=>{n.d(t,{Mi:()=>a,lO:()=>o});var i=n(425288);const{Provider:a,useMaybeHook:o}=(0,i.Z)("pageContext")},375571:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(172071),o=n(395164);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Component{constructor(...e){super(...e),r(this,"state",{error:null,info:null}),r(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,t){try{var n;const t=this.props.name,i=this.props.type||"secondary";(0,o.T)({extraData:null!==(n=e.extraData)&&void 0!==n?n:{},errorBoundary:t,errorBoundaryType:i,message:e.message,name:e.name,stack:e.stack}),a.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(i){a.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}render(){const{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},319915:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(375571).Z},124237:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(607187),a=n.n(i);const o={};o._showErrorCallback=o._showErrorCallback||null,o.setShowHtmlErrorCallback=function(e){o._showErrorCallback=e},o.showError=function(e,t,n){const i=a()(e);return o.showHtmlError(i,t,n)},o.showHtmlError=function(e,t,n){"function"==typeof o._showErrorCallback&&o._showErrorCallback(e,t,n)};const r=o},121093:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),a=n(702664),o=n(332611),r=n(242923),s=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),l(this,"state",{hasCompleted:[],hasDismissed:[]}),l(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:n,viewExperience:i,viewExperienceObject:a}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",a(e)):n?i(e.placement_id,e.experience_id,n):i(e.placement_id,e.experience_id))})),l(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:n,experience:i,isBackendExperience:a,preventRemoval:o,targeting:r}=this.props,s=e||1;if(i&&!this.state.hasCompleted.includes(i.experience_id)){const{placement_id:e,experience_id:l}=i||{},c=o||2===s;(1===s||c)&&e&&l&&(a?n(i,c):r?t(e,l,c,r):t(e,l,c),this.setState((e=>({hasCompleted:[...e.hasCompleted,l]}))))}})),l(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:n,isBackendExperience:i,preventRemoval:a,targeting:o}=this.props,{placement_id:r,experience_id:s}=n||{};n&&!this.state.hasDismissed.includes(s)&&(i?t(n):o?e(r,s,!!a,o):e(r,s,!!a),this.setState((e=>({hasDismissed:[...e.hasDismissed,s]}))))})),l(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:n,predicate:i,transitionType:a}=this.props,{experience_id:o,type:r}=e;if(t&&t.includes(o))return!0;if(null==t||!t.length){if(i&&i(e))return!0;if(n&&n.includes(r))return!0;if(a&&a===r)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,n=this.props.experience;n&&this.shouldRenderExperience()&&(t&&t.experience_id===n.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:n}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...n?{view:this.view}:Object.freeze({})}):i.Children.only(e):null}}function d(e){const t=(0,a.useSelector)((({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0))),n=(0,a.useDispatch)();return(0,s.jsx)(c,{...e,experience:t,completeExperience:(e,t,i,a)=>n((0,o.CK)(e,t,i,!1,{},a)),completeExperienceObject:(e,t)=>n((0,r.Tl)(e,t)),dismissExperience:(e,t,i,a)=>n((0,o.Qu)(e,t,i,void 0,a)),dismissExperienceObject:e=>n((0,r.CF)(e)),viewExperience:(e,t,i)=>n((0,o.UT)(e,t,!1,!1,void 0,i)),viewExperienceObject:e=>n((0,r.dy)(e))})}l(c,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},123159:(e,t,n)=>{n.d(t,{F:()=>p,M:()=>u});var i=n(667294),a=n(702664),o=n(14890),r=n(957191),s=n(425288),l=n(332611),c=n(785893);const{Provider:d,useHook:u}=(0,s.Z)("ExperienceContext");function p({children:e}){const[t,n]=(0,i.useReducer)(((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,[t.payload]:!0};if("UNMOUNT_PLACEMENT"===t.type){const n={...e};return delete n[t.payload],n}return e}),{}),s=(0,a.useDispatch)(),u=(0,a.useSelector)((e=>e.experiences)),p=(0,i.useMemo)((()=>{const e=(0,o.bindActionCreators)({completeExperience:l.CK,dismissExperience:l.Qu,fetchAllExperiences:l.fO,fetchAllExperiencesMulti:r.NW,fetchExperienceForPlacements:l.pz,mountPlacement:l.N,triggerExperimentsForPlacement:l.kd,viewExperience:l.UT},s);return{...e,mountPlacement:(t,...i)=>{e.mountPlacement(t,...i),n({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{n({type:"UNMOUNT_PLACEMENT",payload:e})}}}),[s,n]),h=(0,i.useMemo)((()=>({experiences:u,mountedPlacements:t,...p})),[u,t,p]);return(0,c.jsx)(d,{value:h,children:e})}},333312:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var i=n(667294),a=n(121093),o=n(570470),r=n(883119),s=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.PureComponent{constructor(...e){super(...e),l(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:i}=this.props,a=n.slice(-3);return(0,s.jsx)(r.J2,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,s.jsxs)(r.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,s.jsx)(r.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,s.jsx)(r.xv,{color:"default",weight:"bold",children:t})}),(0,s.jsx)(r.xu,{display:"flex",marginEnd:-2,paddingX:2,children:a.map((e=>(0,s.jsx)(r.xu,{height:60,width:50,paddingX:1,children:(0,s.jsx)(r.zd,{rounding:2,height:60,children:(0,s.jsx)(r.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"dismissRef",(0,i.createRef)()),d(this,"state",{paused:!1}),d(this,"dismissCb",(()=>{var e,t;null===(e=(t=this.dismissRef).current)||void 0===e||e.call(t)})),d(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){const{anchor:e}=this.props;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:l,flyoutSize:d,fontSize:u,hasFullWidthButton:p=!0,idealDirection:h,useMasonryFlyout:m,noClickToDismiss:_,onClickComplete:g,onClickDismiss:v,placementId:y,positionRelativeToAnchor:f,shouldTimeoutDismiss:b,showCaret:x,textAlign:w,textOverflow:S,textOverrideFn:P,textWeight:T,customizedComplete:k,pulsarZIndex:I,advertiserId:A}=this.props,C=t||(({children:e})=>m?(0,s.jsx)(r.mh,{children:e}):e),E="blue";return(0,s.jsx)(a.Z,{eligibleIds:n,placementId:y,eligibleTypes:[8],targeting:A?{advertiserId:parseInt(A,10)}:null,children:({complete:t,dismiss:n,experience:a})=>{const{display_data:{scroll_to_dismiss:y,scroll_to_dismiss_delay_in_seconds:A=0,...j}}=a,R=y&&e,D=()=>{O(),setTimeout(n,1e3*A)},O=()=>{R&&(window.removeEventListener("scroll",D),window.removeEventListener("touchmove",D))},L=()=>{O(),t()};if(R&&(window.addEventListener("scroll",D),window.addEventListener("touchmove",D)),this.setDefaultPulsarTooltip(j),!j.has_pulsar&&!j.has_tooltip)return L(),null;b&&j.disappearTime&&j.disappearTime>0&&(this.timer=setTimeout((()=>(D(),null)),j.disappearTime));const F=501041===a.experience_id||505086===a.experience_id;return j.has_tooltip&&!j.has_pulsar&&(this.dismissRef.current=D,null==e||e.addEventListener("click",this.dismissCb)),(0,s.jsxs)(i.Fragment,{children:[j.has_pulsar&&(0,s.jsx)(o.Z,{anchor:e,leftOverride:F?342:void 0,onTouch:()=>this.handlePulsarClick(j.has_tooltip,L),paused:this.state.paused,topOverride:F?-5:void 0,zIndex:I&&I.index()}),j.has_tooltip&&(!j.has_pulsar||this.state.paused)&&(j.thumbnail_urls?(0,s.jsx)(c,{anchor:e,dismiss:D,idealDirection:h||"down",text:j.text,thumbnails:j.thumbnail_urls}):(0,s.jsx)(C,{children:(0,s.jsx)(r.J2,{anchor:e,color:E,idealDirection:h||"down",onDismiss:_?()=>{}:D,positionRelativeToAnchor:!m&&f,shouldFocus:!1,showCaret:x,size:d,children:(0,s.jsxs)(r.xu,{column:12,padding:3,children:[(0,s.jsxs)(r.xv,{align:"right"===w?"end":w,color:"inverse",overflow:S,size:u,weight:T||"bold",children:[this.getText(j,l,P),j.secondary_cta_link&&(0,s.jsx)(r.xu,{display:"inlineBlock",marginStart:1,children:(0,s.jsx)(r.xv,{size:u,weight:"bold",color:"inverse",children:(0,s.jsx)(r.rU,{display:"inlineBlock",target:"blank",href:j.secondary_cta_link.url,underline:"hover",children:j.secondary_cta_link.text})})})]}),j.sub_text&&(0,s.jsx)(r.xu,{paddingY:2,children:(0,s.jsx)(r.xv,{color:"inverse",size:u,children:j.sub_text})}),(j.dismiss_button_text||j.complete_button_text)&&(0,s.jsxs)(r.xu,{display:"flex",alignItems:"center",marginTop:2,children:[j.dismiss_button_text&&(0,s.jsx)(r.xu,{marginEnd:1,column:6,children:(0,s.jsx)(r.zx,{fullWidth:p,color:E,onClick:()=>{v&&v(),D()},size:"md",text:j.dismiss_button_text})}),j.complete_button_text&&(0,s.jsx)(r.xu,{column:j.dismiss_button_text?6:12,children:k?(0,s.jsx)(r.iP,{fullHeight:!0,onTap:()=>{L(),g&&g()},rounding:2,children:(0,s.jsx)(r.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,s.jsx)(r.xv,{color:"shopping",weight:"bold",children:j.complete_button_text})})}):(0,s.jsx)(r.kC,{justifyContent:"center",children:(0,s.jsx)(r.zx,{fullWidth:p,color:"white",href:j.complete_button_cta_url,role:j.complete_button_cta_url?"link":"button",size:"md",target:j.complete_button_cta_url?"blank":null,text:j.complete_button_text,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),L(),g&&g()}})})})]})]})})}))]})}})}}d(u,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},332611:(e,t,n)=>{n.d(t,{CK:()=>p,N:()=>v,Qu:()=>h,UT:()=>u,YX:()=>g,d9:()=>m,fO:()=>l,kd:()=>_,pz:()=>c});var i=n(214494),a=n(764990),o=n(172071),r=n(957191);let s;const l=(e,t)=>n=>{const a=t?{extra_context:e,targeting:t}:{extra_context:e};return i.Z.create("UserExperiencePlatformResource",a).callGet().then((e=>e.resource_response?n((0,r.OD)(e.resource_response.data)):void 0))},c=(e,t,n,o)=>(l,c)=>{if(t)return Promise.resolve();if(o&&(s=o),1===e.length){const t=e[0],i=c().experiences[t],o=(null==i?void 0:i.extraContext)||null;if(JSON.stringify(o)===JSON.stringify(n)||(0,a.E3)(i)&&!(n&&Object.keys(n).length>0))return Promise.resolve()}return i.Z.create("UserExperienceResource",{placement_ids:e,extra_context:n||null,targeting:o}).callGet().then((e=>e.resource_response?l((0,r.cL)(e.resource_response.data)):void 0))},d=(e,t)=>(n,a,o,c=!1,d,u)=>(p,h)=>{const{experiences:m,experiencesMulti:_}=h();let g=null,v=!0;var y;c||(v=m[n]&&m[n].experience_id===a,g=v?m[n]:Array.isArray(_[n])&&(null===(y=_[n])||void 0===y?void 0:y.find((e=>e.experience_id===a))));if(g&&g.experience_id===a||c&&n&&a){const c=i.Z.create(e,{placed_experience_id:`${n}%3A${a}`,extra_context:null!=d?d:{},targeting:u}),h=v?r.Yb:r.xW;switch(t){case"dismissed":return c.callDelete().then((()=>{p(h(n,a,t)),p(l(void 0,s))}));case"completed":return c.callUpdate().then((()=>{o||(p(h(n,a,t)),p(l(void 0,s)))}));case"viewed":return p(h(n,a,t)),c.callUpdate().then((()=>{1000162===n&&p(l())}));case"completedWithoutHomefeed":return c.callUpdate().then((()=>{o||p(h(n,a,t))}));default:return Promise.resolve()}}return Promise.resolve()},u=d("UserExperienceViewedResource","viewed"),p=d("UserExperienceCompletedResource","completed"),h=d("UserExperienceResource","dismissed"),m=d("UserExperienceCompletedResource","completedWithoutHomefeed"),_=(e,t)=>(n,a)=>{const{experiences:r}=a(),s=r[e];s&&s.triggerable_placed_exps&&s.triggerable_placed_exps.length&&s.triggerable_placed_exps.forEach((n=>{const[,a]=n.split(":");let r=t;s.metadata&&s.metadata[a]&&(r={...t,...s.metadata[a]}),i.Z.create("UserExperienceTriggerResource",{placed_experience_id:n.replace(":","%3A"),extra_context:r}).callUpdate().then((()=>{((e,t,n={})=>{o.Z.increment(`${e}.${t}`,1,n)})("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:a})}))}))},g=e=>(t,n)=>{t(_(e));const{experiences:i}=n();return i[e]},v=(e,t,n)=>i=>{n&&(s=n),i(_(e,t)),t&&Object.keys(t).length>0&&i(c([e],!1,t,n))}},242923:(e,t,n)=>{n.d(t,{CF:()=>s,Tl:()=>r,dy:()=>l});var i=n(214494),a=n(332611);const o=(e,t)=>(n,o)=>r=>{if(n&&n.id){const s=i.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":s.callDelete().then((()=>{r((0,a.fO)())}));break;case"completed":s.callUpdate().then((()=>{o||r((0,a.fO)())}));break;case"viewed":s.callUpdate()}}},r=o("UserExperienceCompletedResource","completed"),s=o("UserExperienceResource","dismissed"),l=o("UserExperienceViewedResource","viewed")},764990:(e,t,n)=>{function i(e){return!!e&&0!==e.type}n.d(t,{A0:()=>o,E3:()=>i,MQ:()=>a});const a=(e,t,n)=>{const a=e[n];return t[n]&&i(a)?a:null};function o(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}},131108:(e,t,n)=>{n.d(t,{HI:()=>r,f8:()=>l,hm:()=>s,sH:()=>o});var i=n(883119),a=n(785893);const o=({children:e})=>(0,a.jsx)(i.xu,{padding:4,position:"absolute",bottom:!0,left:!0,right:!0,children:e}),r=({children:e})=>(0,a.jsx)(i.xu,{padding:2,children:e}),s=({children:e})=>(0,a.jsx)(i.xu,{display:"flex",position:"absolute",top:!0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center",children:e}),l=({children:e})=>(0,a.jsx)(i.xu,{padding:4,position:"absolute",top:!0,left:!0,right:!0,children:e})},599997:(e,t,n)=>{n.d(t,{Ec:()=>c,IA:()=>g,LX:()=>d,Mf:()=>_,SF:()=>s,_e:()=>l,l0:()=>r,ml:()=>o,q4:()=>a,zn:()=>i});const i=e=>["feed_card_default","feed_card_video"].includes(e),a=2/3,o=2/3,r=1/3,s="36px",l="28px",c=.4,d=.65,u={0:"start",1:"center",2:"end"},p={web:{0:"16",1:"20",2:"24"},mweb:{0:"12",1:"16",2:"18",3:"20"}},h={1:"italics",0:"normal"},m={1:"bold",0:"normal"},_=({color:e,font_style:t,font_weight:n,horizontal_alignment:i,size:a},o)=>({color:e,fontStyle:h[null!=t?t:0],fontWeight:m[null!=n?n:1],horizontalAlignment:u[null!=i?i:0],fontSize:p[o][null!=a?a:0]+"px"}),g=e=>e<=280?1.25:e>280&&e<=540?.75:e>540&&e<1024?d:c},207737:(e,t,n)=>{n.d(t,{$S:()=>i,V$:()=>a,_4:()=>r,iY:()=>s,mR:()=>o});const i="REFRESH_ALL_EXPERIENCES_MULTI",a="UPDATE_EXPERIENCE_MULTI",o="FETCH_EXPERIENCES",r="REFRESH_ALL_EXPERIENCES",s="UPDATE_EXPERIENCE"},957191:(e,t,n)=>{n.d(t,{NW:()=>r,OD:()=>l,Yb:()=>s,cL:()=>c,xW:()=>o});var i=n(214494),a=n(207737);const o=(e,t,n)=>({type:a.V$,payload:{placementId:e,experienceId:t,status:n}}),r=e=>t=>i.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((n=e.resource_response.data,{type:a.$S,payload:{experiencesMulti:n}})):void 0;var n})),s=(e,t,n)=>({type:a.iY,payload:{placementId:e,experienceId:t,status:n}}),l=e=>({type:a._4,payload:{experiences:e}}),c=e=>({type:a.mR,payload:{experiences:e}})},570470:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(883119),o=n(785893);function r({anchor:e,children:t,zIndex:n,leftOverride:r,topOverride:s}){const l=(0,i.useRef)(null),[c,d]=(0,i.useState)(0),[u,p]=(0,i.useState)(0),{height:h,width:m}=e.getBoundingClientRect();(0,i.useEffect)((()=>{const{current:t}=l;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:a}=((e,t,n,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(n/2-e/2)}))(h,m,e,n);d(i),p(a)}}));const _=r||c,g=s||u;return(0,o.jsx)(a.xu,{position:"absolute",zIndex:n?new a.Ry(n):void 0,dangerouslySetInlineStyle:{__style:{left:_,top:g}},ref:l,children:t})}const s=function(e){const{anchor:t,leftOverride:n,onTouch:i,onMouseEnter:s,paused:l,size:c,topOverride:d,zIndex:u}=e;return t?(0,o.jsx)(r,{anchor:t,leftOverride:n,topOverride:d,zIndex:u,children:(0,o.jsx)(a.iP,{fullWidth:!1,onTap:({event:e})=>i(e),onMouseEnter:s,rounding:"circle",children:(0,o.jsx)(a.o3,{paused:l,size:c})})}):null}},378518:(e,t,n)=>{n.d(t,{_:()=>c,a:()=>d});var i=n(667294),a=n(702664),o=n(618446),r=n.n(o),s=n(780280),l=n(332611);const c=({extraContext:e,id:t,shouldUsePlacedExperience:n=!0})=>{const o=(0,i.useRef)(),c=(0,a.useDispatch)(),{isBot:d}=(0,s.B)(),u=(0,a.useSelector)((e=>e.experiences[t]));return(0,i.useEffect)((()=>{c((0,l.kd)(t))}),[c,u,t]),(0,i.useEffect)((()=>{n||r()(o.current,e)||(c((0,l.pz)([t],d,e)),o.current=e)}),[c,e,d,t,n]),u},d=e=>(c(e),(0,a.useSelector)((t=>t.experiencesMulti[e.id])))},497529:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=(n(957191),n(764990)),o=n(123159),r=n(780280);n(332611);function s(e){const{mountedPlacements:t,completeExperience:n,dismissExperience:s,experiences:l,fetchAllExperiences:c,fetchAllExperiencesMulti:d,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:h}=(0,o.M)(),{isBot:m}=(0,r.B)(),_=e&&!m?(0,a.MQ)(l,t,e):null;return(0,i.useMemo)((()=>({completeExperience:n,dismissExperience:s,experienceForPlacement:_,fetchAllExperiences:c,fetchAllExperiencesMulti:d,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:h})),[n,s,_,c,d,u,p,h])}},116303:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),a=n(785893);const o=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function r({accessibilityLabel:e,name:t,outline:n,size:r,src:s,verified:l}){return(0,a.jsx)(i.qE,{accessibilityLabel:e,name:t,outline:n,size:r,src:o(s,t)?void 0:s,verified:l})}r.displayName="Avatar";const s=r},572551:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var i=n(667294),a=n(319915),o=n(757184),r=n(317254),s=n(463076);function l({isRTL:e,maxItemWidth:t=300,maxColumns:n=16,minColumns:i=2}){let a=`\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ${n*t}\n}\n\n.gridCentered .static {\n  position: absolute !important;\n  visibility: hidden !important;\n}\n\n@media (min-width: ${n*t}px) {\n  .gridCentered .static:nth-child(-n+${n}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n\n  .gridCentered .static:nth-child(-n+${n}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n\n  .gridCentered .static {\n    width: ${t}px !important;\n  }\n}\n`;for(let o=i;o<n+1;o+=1){a+=`\n@media (min-width: ${o===i?0:(o-1)*t}px) and (max-width: ${o*t-1}px) {\n  .gridCentered .static:nth-child(-n+${o}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n\n  .gridCentered .static {\n    width: calc(100% / ${o}) !important;\n  }\n}\n`}return a}var c,d,u,p=n(391254),h=n(773285),m=n(780280),_=n(444445),g=n(883119),v=n(785893);class y extends i.Component{getGutters(){const{gutterWidth:e,paddingStyle:t}=this.props,n="simplified"===t,i=n?_.oX:e,a=n?16:6;return{gutterWidth:null!=i?i:_.ZZ,paddingBottom:a}}render(){const{columnWidth:e,flexible:t,isGridCentered:n,isInitialRender:i,isRTL:a,items:o,layout:r,loadItems:c,masonryRef:d,measurementStore:u,minCols:h,renderItem:m,scrollContainerRef:y,serverRender:f,virtualize:b,virtualBufferFactor:x}=this.props,{gutterWidth:w,paddingBottom:S}=this.getGutters(),P=f?"serverRenderedFlexible":"flexible";let T;n&&i&&(T="gridCentered");const k=()=>(null==y?void 0:y.current)||window;return(0,v.jsxs)("div",{className:T,children:[f&&i&&(0,v.jsx)(p.Z,{unsafeCSS:t?l({isRTL:a,maxItemWidth:(e||_.yF)+w,maxColumns:o.length||_.g5,minColumns:h||_.yc}):(0,s.Z)({isRTL:a,itemWidth:(e||_.yF)+w,maxColumns:o.length||_.g5,minColumns:h||_.yc})}),(0,v.jsx)(g.Rk,{columnWidth:(null!=e?e:_.yF)+w,gutterWidth:0,renderItem:e=>(0,v.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:S,paddingLeft:w/2,paddingRight:w/2}},children:m(e)}),items:o,layout:t?P:null!=r?r:"basic",loadItems:c,measurementStore:u,minCols:h,ref:e=>{d&&(d.current=e)},scrollContainer:k,virtualize:b,virtualBufferFactor:x})]})}}function f(e){var t;const{isRTL:n}=(0,m.B)(),{checkExperiment:a}=(0,h.F)(),o=null!==(t={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[a("web_masonry_virtual_buffer_factor").group])&&void 0!==t?t:.7,r=(0,i.useRef)(!0);return(0,i.useEffect)((()=>{r.current&&(r.current=!1)}),[]),(0,v.jsx)(y,{...e,isInitialRender:r.current,isRTL:n,virtualBufferFactor:o})}c=y,d="defaultProps",u={gutterWidth:_.ZZ,isGridCentered:!0,minCols:_.yc,paddingStyle:"simplified",virtualize:!0},d in c?Object.defineProperty(c,d,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[d]=u;class b extends i.Component{constructor(...e){super(...e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"loadItems",(()=>{const{isFetching:e,loadItems:t}=this.props;!e&&t&&t()}))}render(){const{cacheKey:e,columnWidth:t,flexible:n,gutterWidth:i,isGridCentered:r,items:s,layout:l,masonryRef:c,minCols:d,paddingStyle:u,renderItem:p,scrollContainerRef:h,serverRender:m,virtualize:_}=this.props;return(0,v.jsx)(f,{columnWidth:t,flexible:n,gutterWidth:i,isGridCentered:r,renderItem:e=>(0,v.jsx)(a.Z,{name:"MasonryPerfTimingItem",children:p(e)}),items:s,layout:l,loadItems:this.loadItems,masonryRef:c,measurementStore:(0,o.Z)(e),minCols:d,paddingStyle:u,scrollContainerRef:h,serverRender:m,virtualize:_})}}function x({cacheKey:e,columnWidth:t,flexible:n,gutterWidth:i,isAtEnd:a,isFetching:o,isGridCentered:s=!0,renderItem:l,items:c,pinData:d,layout:u,loadItems:p,masonryRef:h,minCols:m,paddingStyle:_,scrollContainerRef:g,serverRender:y=!0,virtualize:f=!0,includeBackgroundImages:x,includeVideos:w}){return(0,v.jsx)(r.Z,{isAtEndOfFeed:a,pinData:d,itemCount:c.length,includeBackgroundImages:x,includeVideos:w,children:(0,v.jsx)(b,{cacheKey:e,columnWidth:t,flexible:n,gutterWidth:i,isFetching:o,isGridCentered:s,items:c,layout:u,loadItems:p,masonryRef:h,minCols:m,paddingStyle:_,renderItem:l,scrollContainerRef:g,serverRender:y,virtualize:f})})}},920231:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),a=n(319915);function o({flexible:e,gutterWidth:t,id:n,isRTL:i,itemWidth:a,maxColumns:o,minColumns:r}){const s=n.replace(/\:/g,"\\:"),l=a+t;return`\n    .gridCentered {\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    .gridCentered .static {\n      position: absolute !important;\n      visibility: hidden !important;\n    }\n\n    ${Array.from({length:o+1-r},((e,t)=>t+r)).map((n=>{const c=n===o?null:(n+1)*l-1;return`\n      @media (min-width: ${n===r?0:n*l}px) ${c?`and (max-width: ${c}px)`:""} {\n        #${s} .static:nth-child(-n+${n}) {\n          position: static !important;\n          visibility: visible !important;\n          float: ${i?"right":"left"};\n          display: block;\n        }\n\n        ${e?`\n      #${s} .static {\n        width: calc(100% / ${n}) !important;\n      }\n    `:`\n      #${s} {\n        width: ${n*l}px;\n      }\n\n      #${s} .static {\n        padding: 0 ${t/2}px;\n        width: ${a}px !important;\n      }\n    `}\n      }\n    `})).join("")}\n  `}var r=n(757184),s=n(391254),l=n(50286),c=n(883119),d=n(773285),u=n(780280),p=n(444445),h=n(785893);function m({cacheKey:e,columnWidth:t,gutterWidth:n,id:m,renderItem:_,items:g,layout:v,loadItems:y,masonryRef:f,minCols:b,scrollContainerRef:x,serverRender:w,resetPositions:S,virtualize:P=!0}){var T;const{isRTL:k}=(0,u.B)(),I="desktop"!==(0,l.ZP)(),A=w?"serverRenderedFlexible":"flexible",C=(0,i.useCallback)((()=>(null==x?void 0:x.current)||window),[x]),E=(0,r.Z)(e),[j,R]=(0,i.useState)(!1);(0,i.useEffect)((()=>{S&&!j&&(null==E||E.reset(),R(!0))}),[E,S,j]);const{checkExperiment:D}=(0,d.F)(),O=null!==(T={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[D("duplo_masonry_virtual_buffer_factor").group])&&void 0!==T?T:.7;return(0,h.jsxs)("div",{id:m,className:"gridCentered","data-test-id":"masonry-container",children:[w&&m&&(0,h.jsx)(s.Z,{"data-test-id":"mobile-grid-styles",unsafeCSS:o({flexible:I,gutterWidth:n||0,id:m,isRTL:k,itemWidth:t||p.yF,maxColumns:g.length||p.g5,minColumns:b||p.yc})}),(0,h.jsx)(c.Rk,{columnWidth:t,renderItem:e=>(0,h.jsx)(a.Z,{name:"MobileGridItem",children:_(e)}),gutterWidth:n||1,layout:I?A:null!=v?v:"basic",items:g,loadItems:y,measurementStore:(0,r.Z)(e),minCols:b||p.yc,ref:e=>{f&&(f.current=e)},scrollContainer:C,virtualize:P,virtualBufferFactor:O})]})}},757184:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119);const a={};function o(e){if(null!=e)return a[e]&&a[e].screenWidth===window.innerWidth||(a[e]={screenWidth:window.innerWidth,cache:i.Rk.createMeasurementStore()}),a[e].cache}},463076:(e,t,n)=>{function i({isRTL:e,itemWidth:t=236,maxColumns:n=16,minColumns:i=2}){let a="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static {\n  position: absolute;\n  visibility: hidden;\n}\n";for(let o=i;o<n+1;o+=1){a+=`\n@media (min-width: ${o===i?0:o*t}px) and (max-width: ${(o+1)*t-1}px) {\n  .gridCentered {\n    width: ${o*t}px;\n  }\n  .gridCentered .static:nth-child(-n+${o}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n}\n`}return a}n.d(t,{Z:()=>i})},121151:(e,t,n)=>{n.d(t,{ZP:()=>d,b7:()=>s.b7,bN:()=>l,p4:()=>c});var i=n(50286),a=n(883119),o=n(240684),r=n(785893),s=n(968121);const l=(0,o.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(51879).then(n.bind(n,373420)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 373420}}),c=(0,o.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(72430).then(n.bind(n,430322)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 430322}});function d(e){const t=(0,i.ZP)(),n=void 0===e.isOpen||e.isOpen;if("desktop"===t&&n){const{isOpen:t,mobileAccessibilityCloseIconLabel:n,mobileAllowScroll:i,mobileHideCloseIcon:a,mobileIsFullscreen:o,mobileIsSlideUp:s,type:c,...d}=e;return(0,r.jsx)(l,{...d})}const{allowClickAndDrag:a,allowMediaPlay:o,allowScroll:s,role:d,size:u,...p}=e;return(0,r.jsx)(c,{...p,isOpen:n})}},373420:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var i=n(667294),a=n(124580),o=n(223815),r=n(968121),s=n(883119),l=n(785893);function c({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,allowClickAndDrag:c,allowMediaPlay:d,allowScroll:u,children:p,closeOnOutsideClick:h,footer:m,heading:_,onDismiss:g,role:v,size:y,subHeading:f}){(0,i.useEffect)((()=>(a.Z.pause(),function(){a.Z.resume()})),[]);return(0,l.jsx)(s.mh,{zIndex:r.b7,children:(0,l.jsx)(o.Z,{allowClickAndDrag:c,allowEsc:!0,allowMediaPlay:d,allowScroll:u,children:(0,l.jsx)(s.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,closeOnOutsideClick:h,heading:_,footer:m,onDismiss:()=>{a.Z.resume(),g()},role:v,size:y,subHeading:f,padding:"none",children:p})})})}},430322:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var i=n(667294),a=n(124580),o=n(283698),r=n(223815),s=n(50286),l=n(898781),c=n(965900),d=n(780280),u=n(883119),p=n(968121),h=n(867820),m=n(785893);function _({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n="center",allowScroll:_=!1,children:g,closeOnOutsideClick:v=!0,footer:y,heading:f,mobileAccessibilityCloseIconLabel:b,mobileHideCloseIcon:x,mobileIsFullscreen:w,isOpen:S,mobileIsSlideUp:P,modalStyle:T,onDismiss:k,overrideZDepth:I,subHeading:A,type:C}){const E=(0,l.ZP)(),{isRTL:j}=(0,d.B)(),R=(0,i.useRef)(!1),[D,O]=(0,i.useState)(!1),{setAppFocusState:L}=(0,c.I)(),F=(0,s.ZP)();(0,i.useEffect)((()=>{(0,h.My)(`mweb_unauth.mobile_modal.${C||"unknown_type"}.did_mount.is_open.${String(!!S)}`)}),[S,C]),(0,i.useEffect)((()=>(R.current=(0,o.Z)((()=>{R.current&&O(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&R.current&&(window.cancelAnimationFrame(R.current),R.current=null)})),[]),(0,i.useEffect)((()=>(S?(a.Z.pause(),L(!1)):(a.Z.resume(),L(!0)),()=>{S&&(a.Z.resume(),L(!0))})),[L,S]);const N=S&&!_;(0,i.useEffect)((()=>(N&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{N&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()})),[N]);const M=(0,p.bf)();if(!S)return null;const z=P?(0,p.Vf)({isFullscreen:w,isTablet:"tablet"===F,isShowing:D,type:C}):(0,p.JN)({isFullscreen:w,isTablet:"tablet"===F,modalStyle:T,type:C});return(0,m.jsx)(r.Z,{children:(0,m.jsx)(u.mh,{children:(0,m.jsxs)(u.xu,{"aria-label":t,display:"inlineBlock",zIndex:I?new u.Ry(I):p.ZM,position:"relative",role:"dialog",children:[(0,m.jsx)(u.iP,{accessibilityLabel:E._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The acessibility label for the mask of mobile signup modal'),onTap:({event:e})=>{const t=e,n=k?"with":"without",i=C||"unknown_type";(0,h.tj)(`mweb_unauth.mobile_modal.wash_tap.${i}.${n}_dismissal`,{x:t.clientX,y:t.clientY}),v&&k&&k()},tapStyle:"none",children:(0,m.jsx)(u.xu,{position:"fixed",top:!0,left:!0,dangerouslySetInlineStyle:M})}),(0,m.jsxs)(u.xu,{position:"fixed",color:"default",dangerouslySetInlineStyle:z,children:[(0,m.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",width:"100%",gap:{row:2,column:0},children:[b&&!x?(0,m.jsx)(u.xu,{padding:2,"data-test-id":"mobile-modal-cancel-button",children:(0,m.jsx)(u.hU,{accessibilityLabel:b,iconColor:"darkGray",icon:"cancel",onClick:k,padding:4,size:"sm"})}):null,f?(0,m.jsx)(u.kC.Item,{flex:"grow",children:(0,m.jsx)(u.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,m.jsxs)(u.xu,{dangerouslySetInlineStyle:b&&!x?(0,p.ju)(j):{__style:{}},children:[w?f:(0,m.jsx)(u.xv,{align:n,weight:"bold",size:"400",children:f}),A?(0,m.jsx)(u.xv,{align:n,children:A}):null]})})}):null]}),(0,m.jsxs)(u.xu,{overflow:e?"visible":"auto",children:[g,y]})]})]})})})}},968121:(e,t,n)=>{n.d(t,{JN:()=>u,Vf:()=>p,ZM:()=>s,b7:()=>r,bf:()=>d,i_:()=>l,ju:()=>h});var i=n(379764),a=n(643010),o=n(883119);const r=new o.Ry(1e3),s=new o.H3([i.Z]),l=12,c={headingOffset:{__style:{marginLeft:-10,marginRight:50}},RTLheadingOffset:{__style:{marginRight:-10,marginLeft:50}},mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out",width:"100%",zIndex:1}},modal:{baseStyles:{border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden"},tabletStyles:{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1},nonTabletSignUpStyles:{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"},baseStylesSliding:{border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},fullscreenStyles:{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"},tabletNarrowStyle:{width:425,left:"50%",transform:"translateX(-50%)"}}},d=()=>({__style:c.mask.baseStyles}),u=({isFullscreen:e,isTablet:t,modalStyle:n,type:i})=>{const a=c.modal.fullscreenStyles;let o;return o=e?a:t?c.modal.tabletStyles:"signup"===i?c.modal.nonTabletSignUpStyles:{...c.modal.baseStyles,borderRadius:"32px 32px 0 0"},{__style:n||o}},p=({isFullscreen:e,isTablet:t,isShowing:n,type:i})=>{let a=c.modal.baseStylesSliding,o=n?"translateY(0)":"translateY(100vh)";return a.height=e?"100vh":"",t&&"related_interests_modal"===i&&(a={...a,...c.modal.tabletNarrowStyle},o=n?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...a,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:o}}},h=e=>e?c.RTLheadingOffset:c.headingOffset},934494:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(995228),a=n(785893);function o({useGraphQLAdapter:e,useLegacyAdapter:t}){const n=({children:t,data:n})=>t({enabled:!0,data:e(n)}),o=({children:e,data:n})=>e({enabled:!1,data:t(n)});return function({children:e,input:t}){const r=t.enabled?(0,a.jsx)(n,{data:t.data,children:e}):(0,a.jsx)(o,{data:t.data,children:e});return t.suspense?(0,a.jsx)(i.Z,{fallback:t.suspense.fallback,children:r}):r}}},444445:(e,t,n)=>{n.d(t,{$H:()=>r,$q:()=>v,D6:()=>l,KN:()=>y,Lo:()=>a,P2:()=>m,ZZ:()=>d,g5:()=>u,jC:()=>s,lX:()=>h,nW:()=>p,oX:()=>_,qG:()=>g,tG:()=>o,yF:()=>i,yc:()=>c});const i=236,a=2*i/3,o=175,r=24,s=4,l=2,c=2,d=14,u=16,p=12,h=16,m=24,_=16,g=-1,v=(e=!1,t=!1)=>e?t?h:p:m,y=(e,t,n,i,a=d)=>{const o=e+a;return`\n@media (min-width: ${t*o}px) and (max-width: ${(n+1)*o-1}px) {\n  ${i}\n}\n`}},694379:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(892819),a=n(780280),o=n(785893);const r=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:r,shortformMaximumFractionDigits:s,formatStyle:l,uplimit:c,value:d})=>{const u=(0,i.Z)();return(0,o.jsx)(a.LC,{children:i=>u(i.locale||"en-US",d,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:r,shortform_maximum_fraction_digits:s,style:l,uplimit:c})})}},898781:(e,t,n)=>{n.d(t,{ZP:()=>s,oz:()=>o,q6:()=>a});var i=n(425288);const{Provider:a,Consumer:o,useHook:r}=(0,i.Z)("i18n"),s=r},12610:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z3:()=>p,LU:()=>h,ZP:()=>m});const a=1e6,o=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,r={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},s={},l={background:"#FF8A8A",transform:"scale(.98)"},c={init:e=>({transform:`scale(${s[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[r.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[r.exit]:l,[r.stopped]:l,[r.paused]:l,[r.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){i(this,"setMutationObserver",(e=>(this.mutationObserver=e,this))),i(this,"startMutationObserver",(e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)})),i(this,"stopMutationObserver",(()=>{this.mutationObserver&&this.mutationObserver.disconnect()})),i(this,"handleIntersectionChange",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){const e=Date.now();this.startTime=e,this._debug(r.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach((e=>e()))}else!t&&this.inViewport&&(this._debug(r.exit,!0),this.exitCallbacks.forEach((e=>e(this.toJSON()))));this.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,o&&Object.assign(this.node.style,c.init(e)),this}pause(){return this.inViewport&&(this._debug(r.paused,!0),this.exitCallbacks.forEach((e=>e(this.toJSON())))),this}resume(){if(this.inViewport){const e=Date.now();this._debug(r.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(r.stopped,!0),this.exitCallbacks.forEach((t=>t(this.toJSON(e))))),this}toJSON(e=""){return{startTime:this.startTime*a,endTime:Date.now()*a,forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:(Date.now()-this.startTime)/1e3+" seconds"}}_debug(e,t){if(o)switch(window.console.log(` ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),c[e]&&Object.assign(this.node.style,c[e]),e){case r.flushed:case r.paused:case r.exit:s[this.debugId]=!0}}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=!0,h=!1;class m{constructor(){u(this,"_delegateChange",(e=>{e.forEach((e=>{const t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)}))})),u(this,"_handleMutations",((e,t)=>{const n=this.mutationObservers.get(t);n&&n.offsetHeight<1&&n&&this.stop(n,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=h,this.observer=new window.IntersectionObserver(this._delegateChange),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){const n=this.activeImpressions.get(e);n&&(n.stop(t),this.mutationObservers.delete(n.mutationObserver),n.stopMutationObserver(),this.activeImpressions.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new d(e),this.activeImpressions.set(e,t),this.observer.observe(e);const n=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(n)),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=p){this.paused||(Array.from(this.activeImpressions.values()).forEach((e=>e.pause())),this.paused=!0,this.pausePriority===h&&(this.pausePriority=e))}resume(e=p){e===h&&this.pausePriority===p||this.paused&&(Array.from(this.activeImpressions.values()).forEach((e=>e.resume())),this.paused=!1,this.pausePriority=h)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){const e=Array.from(this.topObstructions).reduce(((e,t)=>{const{bottom:n}=t.getBoundingClientRect();return n>e?n:e}),0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce(((e,t)=>{const{top:n}=t.getBoundingClientRect();return n<e?n:e}),window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){const n={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,n),Array.from(this.activeImpressions.values()).forEach((e=>this.observer.observe(e.node))),this.topHeight=e,this.bottomHeight=t}}}},564194:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(973935),o=n(124580),r=n(407043),s=n(773285),l=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class u extends i.Component{constructor(e){super(e),c(this,"trackImpression",(()=>{try{this.node=(0,a.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),c(this,"logImpression",(e=>{const{carouselData:t,closeupImpressionType:n,closeupNavigationType:i,componentType:a,contextLogData:o,elementType:r,impressionAuxFields:s,impressionType:l,loggingId:c,objectIdStr:u,slotIndex:p,trackCarousel:h,viewData:m,viewParameter:_,viewType:g,logContextEvent:v,logImpDimensions:y}=this.props,f=d[l],b=f.idType,x=e.forcedExit&&"removed"===e.forcedExit?0:void 0;let w={endTime:e.endTime,[b]:c,slotIndex:p,time:e.startTime,renderDuration:e.endTime-e.startTime,type:n,...s,forcedExit:x};var S,P;"Pin"===l&&y&&(w={...w,pinCellWidth:this.node.offsetWidth,pinCellHeight:this.node.offsetHeight,windowWidth:null===(S=window)||void 0===S?void 0:S.innerWidth,windowHeight:null===(P=window)||void 0===P?void 0:P.innerHeight});if(h||v({event_type:f.eventType,component:a,element:r,event_data:{[f.impressionType]:"Story"===l?w:[w]},object_id_str:u,view_type:g,view_data:m||{},view_parameter:_,aux_data:{...o,closeup_navigation_type:i}}),t&&h){const{carousel_slots:e,index:n=0,id:i}=t;v({event_type:7352,component:a,event_data:{pinCarouselSlotImpressions:[{...w,carouselDataId:Number(i),carouselSlotId:(null==e?void 0:e[n])&&Number(e[n].id),slotIndex:n}]},object_id_str:u,view_type:g,view_data:m||{},view_parameter:_,aux_data:{...o}})}})),this.impressionsFramework=e.impressionsFramework||o.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return i.Children.only(this.props.children)}}function p(e){const{logContextEvent:t}=(0,r.v)(),{checkExperiment:n}=(0,s.F)(),i=n("web_mweb_pin_impression_add_width_height").anyEnabled;return(0,l.jsx)(u,{...e,logContextEvent:t,logImpDimensions:i})}},124580:(e,t,n)=>{n.d(t,{Z:()=>i});const i=new(n(12610).ZP)},349700:(e,t,n)=>{function i(e,t,n){return e.split(n).map((e=>{if(e.match(n)){const n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e}))}n.d(t,{Wc:()=>r,bF:()=>l,nk:()=>o});const a=/(\{\{\s*\w+\s*\}\})/g;function o(e,t){return i(e,t,a)}function r(e,t){return i(e,t,a).join("")}const s=/(\{\s*\w+\s*\})/g;function l(e,t){return i(e,t,s)}},995081:(e,t,n)=>{n.d(t,{Rq:()=>i,Vf:()=>a,jd:()=>o,oy:()=>r});const i=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,a=28,o=e=>window.innerHeight>=748&&i(e),r=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)}},251819:(e,t,n)=>{function i(e){return null==e||(Array.isArray(e)||"string"==typeof e?0===e.length:"function"==typeof e||("symbol"==typeof e||("object"==typeof e?function(e){const t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Object.prototype)}(e)?0===Object.keys(e).reduce(((t,n)=>Object.prototype.hasOwnProperty.call(e,n)&&"constructor"!==n?[...t,n]:t),[]).length:e instanceof Map||e instanceof Set?0===e.size:!Object.keys(e).length:"boolean"==typeof e||"number"==typeof e)))}n.d(t,{Z:()=>i})},329734:(e,t,n)=>{n.d(t,{P:()=>o,Z:()=>a});var i=n(702664);function a(e){return e&&e[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function o(){const e=(0,i.useSelector)((({experiences:e})=>e));return!!e&&a(e)}},926275:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){if(!e)return!1;const t=new Date(e);return t.setDate(t.getDate()+28),(new Date).getTime()<t.getTime()}},411938:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e,t,n=28){if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;let i;i=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const a=new Date,o=i?new Date(i):a;return o.setDate(o.getDate()+n),(new Date).getTime()<o.getTime()}},755742:(e,t,n)=>{n.d(t,{Z:()=>i});const i={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},313047:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_HEIGHT:()=>u,DEFAULT_PADDING_Y:()=>p,FixedFooter:()=>_,FixedHeader:()=>m});var i=n(667294),a=n(124580),o=n(53987),r=n(773285),s=n(834256),l=n(883119),c=n(643010),d=n(785893);const u=64,p=3;function h({children:e,footerConfig:t,headerConfig:n,height:o,hideOnScroll:s,hideOnScrollState:{isHidden:h,updateHiddenState:m},showDockedNavBar:_,dockNavBarForAuthTablet:g,isTablet:v,noPadding:y,paddingY:f=p,type:b,zIndex:x}){const{headerLimitedOverflow:w,ignoreObstructions:S,zIndexForGestaltBug:P}=n||{},{appUpsellFooterConfig:T,footerInLego:k,footerWidth:I}=t||{},A=!!T,C="header"===b?"top":"bottom",{anyEnabled:E}=(0,r.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),j=(0,c.vs)(),R=E?j:(0,c.Yc)(),D=(0,i.useRef)(null),O=(0,i.useRef)(null);(0,i.useEffect)((()=>{try{if(!S){const e=D.current;O.current=w&&e&&Array.isArray(e.children)?e.children[0]:e,O.current instanceof HTMLElement&&a.Z.addObstruction(C,O.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{S||O.current instanceof HTMLElement&&a.Z.removeObstruction(C,O.current)}}),[S,w,C,R]);const L="top"===C?"relative":"fixed",F=y?0:f,N=(null!=o?o:u)+((null==n?void 0:n.overrideTop)||0),M=s||_||g?{transition:k?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...h?{transform:`translateY(${"top"===C?-N:N}px)`,opacity:k?0:1}:Object.freeze({})}:{},z="relative"!==L||null!=n&&n.noGutter?0:2,Z=z?-z:0,B=R?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";let U,H;return R&&("header"===b?U=-1:H=-1),(0,d.jsx)(l.xu,{ref:D,dangerouslySetInlineStyle:{__style:{top:U,bottomStyle:H,...!x||P?{zIndex:P||1}:Object.freeze({}),...w?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...null!=n&&n.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...M}},zIndex:P?void 0:x,"data-test-id":b,display:A?"flex":void 0,height:o&&!k?o:void 0,position:L,bottom:"footer"===b,top:"header"===b,left:!0,right:!0,marginStart:k?"auto":Z,marginEnd:k?"auto":Z,onTransitionEnd:()=>{(s||_||g)&&O.current&&(h?a.Z.removeObstruction(C,O.current):a.Z.addObstruction(C,O.current))},width:k||"fixed"!==L?void 0:"100%",children:(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(null==n?void 0:n.isTranslucent)&&B||(null==n?void 0:n.isTransparentBackground)&&"transparent"||"var(--color-background-default)",height:k?A?void 0:null!=o?o:u:"100%",boxShadow:k?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:!k||_&&!v?void 0:16,...w?{pointerEvents:"auto"}:Object.freeze({}),...null!=n&&n.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==b||y?0:4)+z,paddingY:F,position:"relative",width:k&&I?I:A?void 0:"100%",rounding:!k||_&&!v?void 0:"pill",display:k||null!=t&&t.alignCenter?"flex":void 0,marginStart:k?"auto":void 0,marginEnd:k?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:m}):e})})}function m({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:i,isTransparentBackground:a,noGutter:o,overrideTop:r,useRoundedCorners:c,zIndexForGestaltBug:u,...m}){const{noPadding:_,paddingY:g=p,zIndex:v}=m,y=_?0:g;return(0,d.jsx)(l.Le,{top:r||0,height:t?44+2*y*4:void 0,zIndex:v||void 0,children:(0,d.jsx)(s.Z,{hideOnScroll:m.hideOnScroll,children:s=>(0,d.jsx)(h,{...m,hideOnScrollState:s,type:"header",headerConfig:{isTranslucent:i,isTransparentBackground:a,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:o,overrideTop:r,zIndexForGestaltBug:u,useRoundedCorners:c}})})})}function _({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,footerWidth:i,forceShow:a,hasTopShadow:r,location:l,showDockedNavBar:c,dockNavBarForAuthTablet:u,isTablet:p,isModal:m,onScroll:_,...g}){const v=!!l&&(0,o.uM)(l)&&(!!c||!!u);return(0,d.jsx)(s.Z,{appUpsellFooterConfig:t,forceShow:a,hideOnScroll:g.hideOnScroll,location:l,isDockedNavOnPlp:v,isModal:m,onScroll:_,children:a=>(0,d.jsx)(h,{...g,hideOnScrollState:a,showDockedNavBar:c,dockNavBarForAuthTablet:u,isTablet:p,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,footerWidth:i,hasTopShadow:r}})})}},834256:(e,t,n)=>{n.d(t,{Z:()=>s,m:()=>r});var i=n(667294),a=n(700380);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r=20;class s extends i.Component{constructor(...e){super(...e),o(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.isDockedNavOnPlp}),o(this,"lastScrollPos",0),o(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),o(this,"handleScroll",(0,a.Z)((()=>{const{appUpsellFooterConfig:e,isModal:t,onScroll:n,isDockedNavOnPlp:i}=this.props,{isHidden:a}=this.state,o=window.scrollY,s=o-this.lastScrollPos;let l="none";const{scrollHeight:c,clientHeight:d}=document.documentElement||{};if(!Number.isNaN(c)&&!Number.isNaN(d))if(s<0){const e=window.scrollMinY||0;l=o<=Math.abs(e+Math.max(s,r))?"start":"none"}else{l=o>=(window.scrollMaxY||c-d)-Math.max(s,r)?"end":"none"}const u=t?0:55;if(e)if(s>r&&a&&o>=500){e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),n&&n(!1))}else(s<-r&&!a||o<=u)&&(this.updateHiddenState(!0),n&&n(!0));else!this.props.hideOnScroll&&i?"start"===l&&!a||o<=u?(this.updateHiddenState(!0),n&&n(!0)):(o>u||"end"===l)&&a&&(this.updateHiddenState(!1),n&&n(!1)):(s<-r||"start"===l)&&a||o<=u?(this.updateHiddenState(!1),n&&n(!1)):(s>r||"end"===l)&&!a&&(this.updateHiddenState(!0),n&&n(!0));this.lastScrollPos=o}),30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.isDockedNavOnPlp&&this.props.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.isDockedNavOnPlp&&!this.props.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){const{children:e,forceShow:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!t&&n,updateHiddenState:this.updateHiddenState})}}},166300:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(50286),a=n(883119),o=n(444445),r=n(134879),s=n(785893);const l=({children:e,roundedForLargeDevice:t})=>{const n="phone"!==(0,i.ZP)()&&t;return(0,r.V)()?(0,s.jsx)(a.xu,{marginStart:-o.D6,marginEnd:-o.D6,rounding:n?6:void 0,overflow:n?"hidden":void 0,children:(0,s.jsx)(r.C,{value:!1,children:e})}):e}},542554:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var i=n(883119),a=n(134879),o=n(444445),r=n(780280),s=n(995081),l=n(785893);const c=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:c=!0,height:d,showKeychainError:u=!1,useViewport:p=!1})=>{const h=(0,r.B)(),m=(0,s.jd)(h.userAgent.platform)?s.Vf:0;return(0,l.jsx)(i.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:p?`calc(100vh - ${m}px)`:d,paddingX:c?o.D6:void 0,paddingY:n||u?void 0:3,children:(0,l.jsx)(a.C,{value:!!c,children:e})})}},134879:(e,t,n)=>{n.d(t,{C:()=>o,V:()=>r});var i=n(667294);const a=(0,i.createContext)(!1),o=a.Provider,r=()=>(0,i.useContext)(a)},48714:(e,t,n)=>{n.d(t,{nS:()=>x,iw:()=>S,gV:()=>f,G3:()=>P,lI:()=>T,Gj:()=>w,Jd:()=>y,$3:()=>b});var i=n(231486),a=n(56641),o=n(768559),r=n(250059);const s=e=>"string"!=typeof e&&e?e.state:null;var l=n(643913),c=n(547239),d=n(508847),u=n(102500),p=n(43760),h=n(579164),m=n(333155),_=n(397066),g=n(623568),v=n(226198);const y=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},f=({isOffsiteUrl:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),b=({location:e,pin:{id:t,is_downstream_promotion:n,promoter:i},surface:a})=>!(0,g.jL)(n,!!i)&&(({location:e,pinId:t,surface:n})=>{const i=Boolean(n),a=m.ZF.includes(n),o=e.pathname.includes(t);return i&&!a||o})({location:e,pinId:t,surface:a}),x=e=>{const t=Math.round(1e3*Math.random())+"",n=Math.round(1e3*Math.random())+"";i.t8((0,v.GS)(t),n);const a=`${t}-${n}`,{queryParams:o,url:r}=e;let s={token:a,url:r};if(!o){const{pinId:t,csrId:n,clientTrackingParams:i,auxData:a}=e;s={...s,pin:null!=t?t:void 0,csr:n&&!t?n:void 0,client_tracking_params:i,aux_data:a?JSON.stringify(a):void 0}}o&&(s={...s,...o});return`/offsite/?${(0,l.Z)(s)}`},w=e=>{(0,a.Z)(x(e),!0)},S=async({isMounted:e,pin:t,location:n,spamCheckCallback:i,href:a})=>{var r,s;const l=await(0,u.Z)({check_only:!0,client_tracking_params:(0,o.Z)({boardUrl:null==t||null===(r=t.board)||void 0===r?void 0:r.url,callToCreateSourcePinId:null==t?void 0:t.call_to_create_source_pin_id,location:n,pinId:null==t?void 0:t.id,pinnerUserName:null==t||null===(s=t.pinner)||void 0===s?void 0:s.username,storyPinDataId:null==t?void 0:t.story_pin_data_id,trackingParams:null==t?void 0:t.tracking_params,trackingParamsMap:null==t?void 0:t.tracking_params_map}),pin_id:null==t?void 0:t.id,url:a}).callGet({showError:!1});if(!l.resource_response.error&&e){const e=l.resource_response.data||{},{message:t,redirect_status:n,url:a}=e;i({blocked:["blocked","suspicious","porn"].includes(n),message:t,redirectStatus:n,sanitized_url:a})}},P=({event:e,onHistoryChange:t,href:n,history:i,target:o})=>{const l=(0,r.Z)(n),u=s(n),p=(0,c.Z)(l);p===h.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===o?(0,a.Z)(l,"blank"===o):i&&p===h.Z.SAME_ORIGIN&&(i.push((0,d.Z)({url:l}),null!=u?u:{}),t&&t({event:e}))},T=({href:e,pinId:t,pin:n,location:i,auxData:a,spamCheck:r,queryParams:s},l,c)=>{"undefined"!=typeof window&&window.Windows?(0,p.Z)({url:e,pinId:t,pin:n,location:i,auxData:a}):n?(({spamCheck:e,auxData:t,location:n,pin:i,pinId:a,href:r},s,l)=>{if(null!=e&&e.blocked)null==l||l(e);else{var c,d;if((0,_.b)({href:r,pinId:a,pin:i,location:n,auxData:t},s))return;w({url:r,pinId:a,csrId:null,clientTrackingParams:(0,o.Z)({boardUrl:null===(c=i.board)||void 0===c?void 0:c.url,callToCreateSourcePinId:i.call_to_create_source_pin_id,location:n,pinId:i.id,pinnerUserName:null===(d=i.pinner)||void 0===d?void 0:d.username,storyPinDataId:i.story_pin_data_id,trackingParams:i.tracking_params,trackingParamsMap:i.tracking_params_map}),auxData:t})}})({spamCheck:r,auxData:a,location:i,pin:n,pinId:t,href:e},l,c):w({url:e,pinId:t,queryParams:s})}},102500:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(214494);function a(e){return i.Z.create("ApiResource",{url:"/v3/offsite/",data:e})}},287072:(e,t,n)=>{n.d(t,{Z:()=>d,p:()=>u});var i=n(667294),a=n(250059),o=n(149230),r=n(407043),s=n(108234),l=n(48714),c=n(276775);function d(e){var t;const{externalData:n,href:d,onHistoryChange:u,target:p}=e,{logContextEvent:h}=(0,r.v)(),[m,_]=(0,i.useState)(null),[g,v]=(0,i.useState)(!1),y=(0,c.useHistory)(),f=(0,c.useLocation)(),b=(0,o.Z)({url:(0,a.Z)(d)}),{showWarning:x}=null!==(t=(0,s.s)())&&void 0!==t?t:{};return(0,i.useEffect)((()=>(v(!0),()=>{v(!1)})),[]),(0,i.useEffect)((()=>{b&&null!=n&&n.pin&&null===m&&g&&(0,l.$3)({location:f,pin:n.pin,surface:n.surface})&&(0,l.iw)({isMounted:g,pin:n.pin,location:f,spamCheckCallback:e=>_(e),href:(0,a.Z)(d)})}),[null==n?void 0:n.pin,null==n?void 0:n.surface,d,b,g,f,m]),({event:e})=>{var t;(0,l.gV)({isOffsiteUrl:b,event:e})||(e.preventDefault(),d&&(b||null!=n&&n.dangerouslyForceOffsiteUrl?(0,l.lI)({auxData:null==n?void 0:n.auxData,href:(0,a.Z)(d),pinId:null==n||null===(t=n.pin)||void 0===t?void 0:t.id,pin:null==n?void 0:n.pin,queryParams:null==n?void 0:n.queryParams,location:f,spamCheck:m},h,x):(0,l.G3)({event:e,href:d,history:y,onHistoryChange:u,target:"blank"===p?"blank":null})))}}const u=({children:e,...t})=>e({handleClick:d(t)})},713930:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(172071);function a(e,t){return new Promise(((n,a)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)n();else{const t=setInterval((()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`mweb.loadScript.facebook.tries_${e}`,.01))}),100)}else if("GSI"===t)if(window.google)n();else{const t=setInterval((()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`mweb.loadScript.gsi.tries_${e}`,.01))}),100)}else n()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",(()=>n())),t.addEventListener("error",a),document.getElementsByTagName("head")[0].appendChild(t)}}))}},53987:(e,t,n)=>{n.d(t,{wy:()=>L,Fw:()=>ne,ey:()=>ee,dt:()=>y,bo:()=>G,oF:()=>re,bW:()=>v,AX:()=>p,Fy:()=>u,XE:()=>d,am:()=>r,pD:()=>h,OJ:()=>l,LO:()=>_e,Gl:()=>le,Y8:()=>w,lY:()=>b,dK:()=>x,PY:()=>P,ah:()=>S,Ni:()=>f,pV:()=>F,L6:()=>O,bb:()=>ye,b0:()=>g,jC:()=>q,O7:()=>ce,LM:()=>W,OK:()=>R,mP:()=>T,C$:()=>k,dr:()=>z,gT:()=>M,Fr:()=>Q,Xn:()=>I,l4:()=>D,b_:()=>oe,J:()=>s,dZ:()=>c,FO:()=>E,re:()=>C,RU:()=>de,Ui:()=>m,KY:()=>_,fY:()=>te,uM:()=>X,x7:()=>ie,rk:()=>ge,cD:()=>Y,dW:()=>ve,Pu:()=>se,En:()=>N,ej:()=>he,OX:()=>H,f1:()=>U,E0:()=>K,gf:()=>j,mY:()=>ue,kY:()=>me,cY:()=>ae,$Y:()=>$,Zz:()=>A,$V:()=>V,j8:()=>J,Q0:()=>Z,tZ:()=>B,YW:()=>pe});const i=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today|tv))[\w\d\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\-]+(?=\/|$)/),a=["/BingSiteAuth.xml","/about","/add-account","/ads","/age_verification","/all","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/careers","/categories","/close-account","/content-claiming","/convert-business","/convert-personal","/create-business","/create-linked-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/homefeed","/idea-pin-builder","/idea-pin-invite","/ideas","/inbox","/install-shuffles","/invited","/jobs","/live-session","/login","/login_redirect","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/pin-builder","/pin-creation-tool","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/public-beta","/recently-viewed","/report","/reports-and-violations","/robots.txt","/safe-redirect","/search","/settings","/shopping","/signup","/socialmanager","/story-pin-builder","/story-pin-invite","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/tv","/unauth-profile","/unlink","/upload-image","/upload-profile-image","/verified","/verify","/videos","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];var o=n(276775);const r=e=>i.test(e.pathname),s=(e,t)=>{const{pathname:n}=e;return r(e)&&n.match(t||"?")},l=e=>{const{pathname:t}=e;return!!(0,o.matchPath)(t,{path:"/:username/:boardId/:boardSectionId",exact:!0})&&!t.match(/^\/.+\/.+\/(_tools)/i)},c=(e,t)=>{const{pathname:n}=e;return l(e)&&n.match(t||"?")},d=e=>!!(0,o.matchPath)(e.pathname,{path:"/board/:id/edit",exact:!0}),u=e=>!!(0,o.matchPath)(e.pathname,{path:"/board/:id/edit/collaborators",exact:!0}),p=e=>!!(0,o.matchPath)(e.pathname,{path:"/board/:id/edit/add_collaborators",exact:!0}),h=e=>!!(0,o.matchPath)(e.pathname,{path:"/boardsection/:id/edit",exact:!0}),m=e=>!!(0,o.matchPath)(e.pathname,{path:"/pin/:id/comments",exact:!0}),_=e=>!!(0,o.matchPath)(e.pathname,{path:"/pin/:id/edit",exact:!0}),g=e=>!!(0,o.matchPath)(e.pathname,{path:"/conversation/:id",exact:!0}),v=e=>!!(0,o.matchPath)(e.pathname,{path:"/appealed-pin/",exact:!0}),y=e=>e.pathname.startsWith("/age-appeal"),f=e=>e.pathname.startsWith("/business/"),b=e=>!!(0,o.matchPath)(e.pathname,{path:"/business/business-access/:userBizId/dashboard",exact:!0}),x=e=>!!(0,o.matchPath)(e.pathname,{path:"/business/business-access/:userBizId/hierarchy",exact:!0}),w=e=>!!(0,o.matchPath)(e.pathname,{path:"/business/business-access/:userBizId/asset-groups",exact:!0}),S=e=>!!(0,o.matchPath)(e.pathname,{path:"/business/business-access/:userBizId/members",exact:!0}),P=e=>e.pathname.startsWith("/business/invite/"),T=e=>!!(0,o.matchPath)(e.pathname,{path:"/pin/:id/visual-search/",exact:!0}),k=e=>"/"===e.pathname,I=e=>e.pathname.startsWith("/login"),A=e=>!!(0,o.matchPath)(e.pathname,{path:"/today",exact:!0}),C=e=>e.pathname.startsWith("/password/reset")||!!(0,o.matchPath)(e.pathname,{path:"/pw/:username",exact:!0}),E=e=>e.pathname.startsWith("/secure/panic"),j=e=>e.pathname.startsWith("/signup"),R=e=>e.pathname.startsWith("/email/subscription"),D=e=>e.pathname.startsWith("/notifications/"),O=e=>!!(0,o.matchPath)(e.pathname,{path:"/pin/:id",exact:!0}),L=e=>O(e)&&void 0===e.state,F=e=>e.pathname.startsWith("/pin_redirect"),N=e=>e.pathname.startsWith("/search"),M=e=>!!(0,o.matchPath)(e.pathname,{path:"/ideas",exact:!0}),z=e=>!!(0,o.matchPath)(e.pathname,{path:"/ideas/:interest/:id",exact:!0}),Z=e=>!!(0,o.matchPath)(e.pathname,{path:"/videos/:category/:id",exact:!0}),B=e=>e.pathname.startsWith("/videos"),U=e=>!!(0,o.matchPath)(e.pathname,{path:"/shopping/",exact:!0}),H=e=>!!(0,o.matchPath)(e.pathname,{path:"/shopping/:category/:id",exact:!0}),V=e=>e.pathname.startsWith("/topics"),$=e=>e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/"),K=e=>e.pathname.startsWith("/today/shop/"),G=e=>A(e)||$(e)||e.pathname.startsWith("/today/popular/"),W=e=>/^\/discover\/article\/\S+\/?/i.test(e.pathname),q=e=>e.pathname.startsWith("/pin/create/"),Y=e=>!!(0,o.matchPath)(e.pathname,{path:"/:username/",exact:!0})&&!a.includes(e.pathname.replace(/\/$/,"")),J=e=>e.pathname.startsWith("/unauth-profile"),X=e=>e.pathname.startsWith("/pin/"),Q=e=>"#imgViewer"===e.hash,ee=e=>new RegExp("invite_code").test(e.search),te=e=>!!(0,o.matchPath)(e.pathname,{path:"/pin/:id",exact:!1})&&(e.pathname.includes("/sent/")||e.pathname.includes("/feedback/")),ne=e=>ee(e)&&((te(e)?"pin":r(e)&&"board")||Y(e)&&"profile")||null,ie=e=>e.pathname.includes("/repin/x"),ae=e=>e.pathname.startsWith("/_/storyboard"),oe=e=>e.pathname.startsWith("/oauth"),re=e=>e.pathname.startsWith("/app-factory-oauth"),se=e=>e.pathname.includes("/scheduled-pin/"),le=e=>e.pathname.startsWith("/business/convert"),ce=e=>e.pathname.startsWith("/pin-editor"),de=e=>e.pathname.startsWith("/pin-builder"),ue=e=>e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder")||e.pathname.startsWith("/pin-creation-tool"),pe=e=>e.pathname.startsWith("/advertiser/quick-promote"),he=e=>e.pathname.startsWith("/settings"),me=e=>e.pathname.startsWith("/story-pin-invite")||e.pathname.startsWith("/idea-pin-invite"),_e=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/business-access/")&&e.pathname.includes("/dashboard/"),ge=e=>void 0!==e.pathname&&e.pathname.startsWith("/tv/studio"),ve=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/schedule_call/"),ye=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/commerce-integrations/")},620707:(e,t,n)=>{function i(e,t){if("object"==typeof e&&"object"==typeof t){const n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every((n=>e[n]===t[n]))}return e===t}n.d(t,{Ak:()=>i,_Y:()=>a,qe:()=>s,xZ:()=>r});const a=(e,t)=>e.length===t.length&&e.every(((e,n)=>i(e,t[n]))),o=(e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n])),r=(e,t=o)=>n=>{const i=[];return function(...a){const o=this,r=i.find((e=>e.context===o&&t(e.args,a)));if(r)return r.result;const s={context:o,args:a,result:n.apply(this,a)};return i.push(s),e&&i.length>e&&i.shift(),s.result}},s=r(1);r()},914671:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(594881);const a={windowIsInFocus:!0,initFocus(){const e=function(){this.windowIsInFocus=!1},t=function(){this.windowIsInFocus=!0,(0,i.Z)()};"undefined"!=typeof window&&(window.addEventListener("focus",t),window.addEventListener("blur",e))}}},567450:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r});const a=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1),i(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter((t=>t!==e))}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter((t=>t!==e))}getAppState(){return this.windowInFocus?0:void 0}},o=e=>{if(e.isHidden){const{reason:t}=e;a.windowInFocus=!1,a.onPauseListeners.forEach((e=>e(t)))}else a.windowInFocus=!0,a.onResumeListeners.forEach((e=>e()))};setTimeout((()=>{window.addEventListener("beforeunload",(()=>o({isHidden:!0,reason:"beforeunload"}))),window.addEventListener("focus",(()=>o({isHidden:!1}))),window.addEventListener("blur",(()=>o({isHidden:!0,reason:"blur"}))),window.addEventListener("pageshow",(()=>o({isHidden:!1}))),window.addEventListener("pagehide",(()=>o({isHidden:!0,reason:"pagehide"}))),void 0!==document.hidden?document.addEventListener("visibilitychange",(()=>o(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(()=>o(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1)}),0);const r=a},539002:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(773285);const a=Object.freeze({analytics:{organic:"web_sce_organic_analytics",monetized:"web_sce_monetized_analytics"},pinStats:{organic:"web_sce_organic_pin_stats",monetized:"web_sce_monetized_pin_stats"}});function o(e){const{checkExperiment:t}=(0,i.F)();t("sce_lightswitch_organic"),t("sce_lightswitch_monetized");const n=a[e];return()=>t(n.organic).anyEnabled||t(n.monetized).anyEnabled}},627995:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(927104),a=n(898781),o=n(903095),r=n(112690),s=n(883119),l=n(785893);const c=(e,t)=>{let n={};if(e){const{pinData:i,viewData:a}=e;n={unauth_click_pin_id:i.id,unauth_click_pin_image_signature:i.imageSignature},3===t?n={...n,unauth_page_pin_id:a.id,unauth_page_pin_image_signature:a.imageSignature}:5===t&&(n={...n,unauth_page_board_id:a.id})}return n},d=({clickLoggingOptions:e,domain:t,link:n,onClick:d})=>{var u;const p=null===(u=(0,o.lO)())||void 0===u?void 0:u.logging,h=(0,a.ZP)(),m=(0,r.Z)(),_=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:c(e.unauthRankingLoggingData,null==p?void 0:p.viewType)}].map((t=>({component:0,element:162,view_type:null==p?void 0:p.viewType,view_parameter:null==p?void 0:p.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...t})));return(0,l.jsx)(s.iP,{onTap:({event:e})=>{e.stopPropagation(),_().forEach((e=>m(e))),d(e)},children:(0,l.jsxs)(s.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,l.jsx)(s.xu,{marginEnd:1,children:(0,l.jsx)(s.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:h._('Link', 'unauth.pin.domain.link', 'Link to take them to the source of the iamge')})}),(0,l.jsx)("a",{href:n,onClick:e=>{e.stopPropagation(),_().forEach((e=>m(e))),d(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,l.jsx)(s.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,i.Z)(t,27)})})]})})}},64446:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(605028);var a=n(341732),o=n(81226),r=n(898781),s=n(237056),l=n(19121),c=n(623568),d=n(773285),u=n(883119),p=n(785893);const h={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"},m={borderRadius:"18px",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"4px 8px"};function _({backgroundColor:e,identifier:t,size:n="sm"}){const i="pine"===e?"#0FA573":"#fff",a="sm"===n?h:m;return(0,p.jsx)(u.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{...a,backgroundColor:e?i:"rgba(255, 255, 255, 0.8)",color:"pine"===e?"#fff":"#111"}},"data-test-id":"PinTypeIdentifier",children:t})}function g({pin:e,size:t="sm",allowProductCarousel:n,allowShoppingPriceIndicator:h,shoppingLabelColor:m}){const g=(0,r.ZP)(),v=(0,s.Z)(),y=(0,i.Z)(e),{checkExperiment:f}=(0,d.F)(),b=(0,l.Z)(),x=!!e.story_pin_data_id&&!1===e.should_open_in_stream&&["enabled","enabled_rollout","employees"].includes(f(b.isAuth?"closeup_auth_dweb_static_image_idea_pin":"closeup_unauth_dweb_static_image_idea_pin",{dangerouslySkipActivation:!0}).group);if(y.isGif)return _({identifier:"GIF",size:t});if(y.isStoryPin&&!x){const{page_count:n=0,static_page_count:i=0,total_video_duration:a=0}=e.story_pin_data||{};let r=n.toString();if(a>0){const e=a+i*c.oN;return r=(0,o.Z)(e),_({identifier:r,size:t})}return _({identifier:(0,p.jsxs)(u.kC,{alignItems:"center",justifyContent:"between",children:[(0,p.jsx)(u.xu,{marginEnd:1,display:"flex",alignItems:"center",children:(0,p.jsx)(u.JO,{accessibilityLabel:v?g._('Pin', 'pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel.sce', 'identifier that shows the pin type'):g._('Idea Pin', 'pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel', 'identifier that shows the pin type'),inline:!0,icon:"idea-pin",color:"default",size:"sm"===t?12:16})}),(0,p.jsx)(u.xv,{inline:!0,size:"100",weight:"bold",children:r})]}),size:t})}if(y.isVideo){const n=e.videos,{duration:i=0}=n&&n.video_list&&n.video_list[Object.keys(n.video_list)[0]]||{};return _({identifier:(0,o.Z)(i),size:t})}if(y.isProduct){const n=e.rich_summary&&e.rich_summary.products&&e.rich_summary.products[0]&&e.rich_summary.products[0].offer_summary;if(h){const e=n&&(n.price||n.max_price);return e?_({identifier:e,size:t}):null}if(m){const n=function(e){var t;return((((null===(t=e.rich_summary)||void 0===t?void 0:t.products)||[])[0]||{}).label_info||{}).labels||[]}(e)[0];return n?_({identifier:n,backgroundColor:m,size:t}):null}return null}if(n){const n=e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0],i=n&&(0,a.Z)(e.images,n.additional_images,e.carousel_data&&e.carousel_data.index)||{},{carousel_slots:o=[],index:r=0}=i;return _({identifier:`${r+1}/${o.length}`,size:t})}if(y.isCarousel){const n=e.carousel_data||{},{carousel_slots:i=[],index:a=0}=n;return _({identifier:`${a+1}/${i.length}`,size:t})}return null}},153209:(e,t,n)=>{function i(e,t,n){return!(!(e&&e.trim().length>0&&t)||n)}n.d(t,{r:()=>i})},55275:(e,t,n)=>{n.d(t,{P:()=>r,t:()=>s});var i=n(214494);const a=()=>{};const o={complaint:function(e,t){i.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},followBoard:function(e,t){i.Z.create("BoardFollowResource",e).callCreate().then((()=>t()))},followPinner:function(e,t){i.Z.create("UserFollowResource",e).callCreate().then((()=>t()))},followTopic:function(e,t){i.Z.create("InterestFollowResource",e).callCreate().then((()=>t()))},newsHubPinHide:function(e,t){i.Z.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>t()))},promotedComplaint:function(e,t){i.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},relatedPinHide:function(e,t){i.Z.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>t()))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){i.Z.create("BoardFollowResource",e).callDelete().then((()=>t()))},unfollowPinner:function(e,t){i.Z.create("UserFollowResource",e).callDelete().then((()=>t()))},unfollowTopic:function(e,t){i.Z.create("InterestFollowResource",e).callDelete().then((()=>t()))},unrelatedSearchPin:function(e,t){i.Z.create("SearchPinFeedbackResource",e).callUpdate().then((()=>t()))}},r=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,t,n=a){const i=e?o[e]:null;return i?i(t,n):n()}},680046:(e,t,n)=>{n.d(t,{EF:()=>_,Iv:()=>d,Ud:()=>c,XZ:()=>h,fJ:()=>l,hP:()=>s,nb:()=>m,oK:()=>u,yl:()=>p});var i=n(55275),a=n(760372),o=n(349700);const r=e=>e.length>32?`${e.substring(0,32).trim()}...`:e;function s({boardFollowedByMe:e,feedbackType:t,viewParameter:n,promotion:i,recommendationReason:a,pinnerFollowedByMe:o}){if(i&&!i.isDownstreamPromotion)return"promoted";if(t)return t;if(a){if("FOLLOWED_INTEREST"===a.reason)return"topic";if("FOLLOWING_FEED"!==a.reason&&"RECENT_FOLLOWED_BOARD"!==a.reason)return a.hasBoard?"pfyBoard":"pfy"}if(e||o)return"followed";switch(n){case 140:case 144:case 141:case 145:case 139:case 3173:return"related";case 3082:return"newsHub";case 92:default:return"default"}}function l({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:i,pinFeedbackType:a,complaintReason:o,throughId:r,throughProperties:s,clientTrackingParams:l}){switch(t){case"search":return{action:"unrelatedSearchPin",actionOptions:{query:null==e?void 0:e.query,pin_id:n}};case"related":return{action:"relatedPinHide",actionOptions:{pin:n}};case"newsHub":return{action:"newsHubPinHide",actionOptions:{pinId:n,newsId:null==e?void 0:e.newsId}};default:const c="promoted"===t;return{action:c?"promotedComplaint":"complaint",actionOptions:{complaint_reason:o||0,pin_id:n,...i?{recommendation_reason_id:i}:{},feedback_type:a||1,promoted:c,...r?{through_id:r}:{},...s?{through_properties:s}:{},...l?{client_tracking_params:l}:{}}}}}function c({feedback:e,i18n:t,makeNavigateLink:n}){var i,a,s,l,c,d,u,p;switch(e.type){case"pfy":return t._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":const{recommendationReasonBoard:h}=e;return h?(0,o.nk)(t._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:n("navigation",h.url,h.name)}):null;case"topic":const{sourceInterest:m}=e;return m?(0,o.nk)(t._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:n("topicUrl",`/topics/${m.url_name}`,m.name)}):null;case"followed":const{followed:_}=e;return"pinner"===_.type?(0,o.nk)(t._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:n("pinnerUrl",`/${null!==(i=null===(a=_.pinner)||void 0===a?void 0:a.username)&&void 0!==i?i:""}`,r(null!==(s=null===(l=_.pinner)||void 0===l?void 0:l.full_name)&&void 0!==s?s:""))}):(0,o.nk)(t._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:n("boardUrl",null!==(c=null===(d=_.board)||void 0===d?void 0:d.url)&&void 0!==c?c:"",r(null!==(u=null===(p=_.board)||void 0===p?void 0:p.name)&&void 0!==u?u:""))});case"promoted":if(e.promoter){const{full_name:i,username:a}=e.promoter,r=n("promotedLink",a?"/"+a+"/":"/",i);return(0,o.nk)(t._('{{ promoterLink }} paid to have this Pin show up where\n          you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:r})}return t._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');default:return null}}function d({sourceInterest:e,i18n:t,makeNavigateLink:n}){var i,r;return{action:"unfollowTopic",actionOptions:{interest_id:e.id,interest_list:a.X},title:"",subTitle:(0,o.nk)(t._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:n("topicUrl",`/topics/${null!==(i=e.url_name)&&void 0!==i?i:""}`,null!==(r=e.name)&&void 0!==r?r:"",!0)})}}function u({boardId:e,display:t,i18n:n,makeNavigateLink:i}){var a,r,s,l;return{action:"unfollowBoard",actionOptions:{board_id:e},title:"",subTitle:"pinner"===t.type?(0,o.nk)(n._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:i("pinnerUrl",`/${null!==(a=t.data.username)&&void 0!==a?a:""}`,null!==(r=t.data.full_name)&&void 0!==r?r:"",!0)}):(0,o.nk)(n._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:i("boardUrl",null!==(s=t.data.url)&&void 0!==s?s:"",null!==(l=t.data.name)&&void 0!==l?l:"",!0)})}}function p(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function h(e){return null==e?void 0:e.through_properties}function m(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function _(e,t,n,a,o,r,s){return()=>{const l={...e,undo:!0};let c=t;"unfollowPinner"===t?c="followPinner":"unfollowBoard"===t?c="followBoard":"unfollowTopic"===t&&(c="followTopic"),(0,i.t)(c,l),r(n),s({event_type:101,component:0,element:11181,view_type:a,view_parameter:o})}}},205202:(e,t,n)=>{function i(e,t){return e&&e[t]&&e[t].url}n.d(t,{Z:()=>i})},752802:(e,t,n)=>{n.d(t,{Z:()=>a});const i=["564x","736x","orig","474x","236x"],a=({images:e={},resolutionPreferences:t=i})=>{for(const n of t)if(e[n]&&e[n].url)return e[n];return null}},743217:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(752802),a=n(622305),o=n(802933);function r(e){const{images:t={}}=(0,a.Z)((0,o.Z)({pin:e}))||{},n=(0,i.Z)({images:t});return{url:(null==n?void 0:n.url)||"",height:(null==n?void 0:n.height)||1,width:(null==n?void 0:n.width)||1}}},305791:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(752802),a=n(743217);function o(e,t,n=564){return e>n&&(t*=n/e,e=n),{width:e,height:t}}var r=n(835209);const s=({pin:e,maxWidth:t,imageSignature:n})=>{var s,l;const{image_signature:c}=e;if(!n||""===n||c===n){const{width:n,height:i,url:r}=(0,a.Z)(e);return{...o(n,i,t),url:r}}const d=(0,r.Z)({richPinData:e.rich_metadata||e.rich_summary}),u=[...(null==d||null===(s=d.variant_set)||void 0===s||null===(l=s.variants)||void 0===l?void 0:l.flatMap((e=>e.additional_images||[])))||[],...(null==d?void 0:d.additional_images)||[]],{canonical_images:p}=u.find((({image_signature:e})=>n===e))||{},{height:h=1,width:m=1,url:_=""}=(0,i.Z)({images:p||{}})||{};return{...o(m,h,t),url:_}}},248975:(e,t,n)=>{function i({embedSrc:e,embedType:t,images:n,preferredResolution:i}){if(!e&&!t&&!n)return"";if("gif"===t)return e||"";const a=n;if(!a)return"";if(i){const e="474x"===i&&a["474x"]||"236x"===i&&a["236x"]||a["736x"];if(e&&e.url)return e.url}const o=Object.keys(a).map((e=>{try{const t=e.split("x")[0];return Number.isNaN(Number(t))?(a[t]=a[e],t):e}catch(t){return""}}));o.sort();const r=o.pop();return a[r]&&a[r].url||""}n.d(t,{Z:()=>i})},605028:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(687551),a=n(623568);function o(e){const{access:t,attribution:n,embed:o,is_eligible_for_web_closeup:r,promoted_is_lead_ad:s,rich_summary:l,sponsorship:c,story_pin_data_id:d,videos:u}=e,p={isLeadPin:!1,isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isSponsored:!1,isStoryPin:!1,isVideo:!1};s&&(p.isLeadPin=!0),(0,i.Z)(e)&&(p.isCarousel=!0),r&&(p.isOneTap=!0),(0,a.iR)(u)&&(p.isVideo=!0);const h=o||n&&n.embed||null;return h&&"gif"===h.type&&(p.isGif=!0),l&&"product"===l.type_name&&(p.isProduct=!0),l&&"recipe"===l.type_name&&(p.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(p.isPromoted=!0),(t||[]).includes("write")&&(p.isOwnPin=!0),d&&(p.isStoryPin=!0),c&&(p.isSponsored=!0),p}},958007:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(992750);const a=e=>(e||"").trim().replace(/\s+/g," "),o=({storyPinDataId:e,pinDescription:t,richMetadataDescription:n,richSummaryDisplayName:o,closeupDescription:r,closeupUnifiedDescription:s})=>!!e?a(t):a((0,i.eK)({richMetadataDescription:n,richSummaryDisplayName:o,closeupUnifiedDescription:s}).description)||a(s||"")||a(r)||a(t)||a(n)||""},307061:(e,t,n)=>{n.d(t,{Z:()=>i});const i=function(e){return function(t){return null!=t?e(t):null}}},674915:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(307061),a=n(736688);const o=(0,i.Z)((e=>{const{videos:t}=e.pin,{id:n,video_list:i={}}=t||{},{V_720P:o,V_HLSV4:r,V_HLSV3_MOBILE:s}=i,l=(0,a.V3)(r),c=(0,a.V3)(s),d=(0,a.V3)(o),u=d||l||c;return n&&u?{...e,video:{id:n,hasVideo:u,mp4:d||void 0,hls:l||void 0,hlsv3:c||void 0}}:null}))},976071:(e,t,n)=>{function i(e){return Boolean(e.promoted_is_removable)}n.d(t,{Z:()=>i})},873441:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(985913);const a=(e,t)=>{const n=e.link_domain||{},a=e.tracked_link||e.link||e.images&&e.images.orig&&e.images.orig.url,o=e.rich_metadata,r=e.domain,s=e.closeup_attribution||e.native_creator||n.official_user||e.pinner||e.origin_pinner,l=!(!(o&&o.recipe&&o.recipe.name&&o.recipe.categorized_ingredients)||o.recipe.from_aggregated_data);let c,d;o&&o.products&&o.products[0]&&(c=!!(o&&o.products[0].name&&o.products[0].offer_summary));const u=c,p=!(!o||!o.article),h=!(!o||!o.tutorial),m=!(!s||!s.username);let _=t._('Saved from ', 'Closeup pin annotation', 'Closeup pin annotation'),g=m?t._('Saved by', ' - ', ' -- '):t._('Saved from', ' - ', ' -- '),v=t._('Visit', ' - ', ' -- ');o&&o.products&&o.products[0]&&o&&o.products[0].name&&o.products[0].offer_summary&&(_=t._('Product sold by ', 'pin annotation', 'pin annotation'),d=o.products[0].offer_summary),u?(g=t._('Sold by', ' - ', ' -- '),v=t._('Visit', ' - ', ' -- ')):h?(_=t._('Saved from ', 'pin annotation', 'pin annotation'),g=m?t._('Saved by', ' - ', ' -- '):t._('Saved from', ' - ', ' -- '),v=t._('Visit', ' - ', ' -- ')):l?(_=t._('Recipe from ', 'pin annotation', 'pin annotation'),g=m?t._('Recipe by', ' - ', ' -- '):t._('Recipe from', ' - ', ' -- '),v=t._('Make it', ' - ', ' -- ')):p&&(_=t._('Article from ', 'pin annotation', 'pin annotation'),g=m?t._('Article by', ' - ', ' -- '):t._('Article from', ' - ', ' -- '),v=t._('Read it', ' - ', ' -- '));const y=e.rich_summary;if(!d&&y){let e;y&&y.products&&y.products[0]&&(e=!!(y&&y.products[0].name&&y.products[0].offer_summary),e&&(_=t._('Product sold by ', 'pin annotation', 'pin annotation')))}let f,b;m?(f="/"+s.username+"/",b=s.full_name):(f="/source/"+r,b=o&&o.site_name||r);return{actionButtonText:v,image:s&&(s.image_medium_url||s.image_small_url)||e.board&&e.board.image_thumbnail_url,link:f,pinLink:a,pin:e,pinCreditPrefix:_,prefixText:g,subtitle:b,title:(0,i.Z)(t._('More from {{ subtitle }}', ' - ', ' -- '),{subtitle:b}),pinTitle:e.closeup_unified_title,pinDescription:e.closeup_unified_description,pinCategory:e.category}}},623568:(e,t,n)=>{n.d(t,{Js:()=>r,NK:()=>y,Nc:()=>f,VX:()=>s,ZE:()=>_,Zt:()=>g,_J:()=>d,_S:()=>b,cL:()=>h,dZ:()=>S,hb:()=>v,hy:()=>c,iR:()=>o,jL:()=>l,o:()=>x,oN:()=>i,pU:()=>w,rM:()=>m,sV:()=>u,sY:()=>p});const i=5e3,a=["Uploaded by user"],o=e=>!!e&&!!e.video_list,r=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},s=(e,t)=>t&&t.products&&t.products.length>0||(null==e?void 0:e.products)&&e.products.length>0||!1,l=(e,t)=>!!t&&!e,c=e=>!!e,d=e=>!!e.video_status&&5!==e.video_status,u=e=>["email","messages","deep_linking"].includes(e),p=e=>!!e&&"gif"===e,h=({embedSrc:e,embedSubtype:t,embedType:n})=>!!e&&!p(n)&&!(e=>"pinstory"===e)(t),m=({link:e,mobileLink:t,trackedLink:n})=>!t&&!n&&!e,_=e=>/pin.it/gim.test(e||""),g=({link:e,mobileLink:t,origImageUrl:n,trackedLink:i})=>t||i||e||n||"",v=({isStoryPin:e,isVideoPin:t})=>e?"storyPin":t?"video":"image",y=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function f(e){var t;return 0!==Object.keys((null==e||null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function b(e){for(const t of a)if(e===t)return!1;return!0}function x(e){return 0!==Object.keys((null==e?void 0:e["30d_realtime"])||{}).length}function w(e){return 0!==Object.keys((null==e?void 0:e.all_time_realtime)||{}).length}function S(e){var t;return!(null==e||null===(t=e["30d_realtime"])||void 0===t||!t.is_realtime)}},992750:(e,t,n)=>{n.d(t,{hP:()=>u,fs:()=>l,eK:()=>c,Ly:()=>d,BY:()=>p,bN:()=>h,RC:()=>r,EU:()=>s});const i=/\s\s+/g,a=e=>e.replace(i," ");var o=n(883561);const r=({storyPinDataMetadataPinTitle:e,pinTitle:t})=>e||t,s=(e,t)=>e?e.trim().length>t?(0,o.ZP)(e.trim(),t).trim():e.trim():"",l=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:o})=>{const r=o||e,l=s(t,200);return l||(n||(i||(a&&r?r:null)))},c=e=>{const{richSummaryDisplayName:t}=e,n=e.pinJoinVisualAnnotation||[],i=e.pinJoinAnnotationsWithLinks||{},r=e.richMetadataDescription||"",s=e.closeupUnifiedDescription||"",l=n.map((e=>(i||{})[e]||{name:e,url:""}));let c="";const d=(t||"").toLocaleLowerCase().trim(),u=r.toLocaleLowerCase().trim(),p=s.toLocaleLowerCase().trim();return s&&s.length>3&&p!==d?c=s:r&&r.length>3&&u!==d&&(c=r),c&&(c=a((0,o.ZP)(c,496)).trim()),{description:c,annotationsWithLinks:l}},d=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:o,pinJoinVisualAnnotation:r,pinJoinAnnotationsWithLinks:s})=>{const{annotationsWithLinks:d}=c({pinJoinVisualAnnotation:r,pinJoinAnnotationsWithLinks:s}),u=(d||[]).map((e=>e.name)),p=e=>(e||[])[0]||null;return l({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:o})||p(r)||p(u)||e},u=(e,t,n,i)=>{var a;let o=(a=e,"string"==typeof a?a:"").trim();return n?(i&&i.trim().length&&(o=i),n.length>0&&(o&&(o+=" "),o+=n.join(", ")),o):i&&i.trim().length?i:o},p=e=>`/pin/${e}/`,h=({pinId:e,seoUrl:t})=>t&&"string"==typeof t?t:p(e)},18857:(e,t,n)=>{n.d(t,{G7:()=>c,WE:()=>l,l6:()=>d,rh:()=>s});var i=n(27255),a=n(605028),o=n(66699),r=n(623568);function s(e,t,n,o){var s,l,c;if(!t.isAuth)return!1;const{aggregated_pin_data:d,creator_analytics:u,public_creator_analytics:p}=e,h=(0,r.Nc)(d)||(0,r.o)(u),m=(null===(s=e.board)||void 0===s?void 0:s.privacy)===i.Z.BoardPrivacy.PUBLIC,_=((null===(l=e.board)||void 0===l?void 0:l.privacy)===i.Z.BoardPrivacy.PROTECTED||m)&&!e.is_repin&&[t.id,o].includes(null===(c=e.pinner)||void 0===c?void 0:c.id),{isStoryPin:g}=(0,a.Z)(e);return h||t.isPartner&&_||(e=>e.checkExperiment("web_ps4p").anyEnabled)(n)&&g&&_||(0,r.pU)(p)}function l(e,t,n,i,a,o){return e.isAuth&&t&&(n||i)&&!(null==a||!a.isLoaded)&&!o}function c(e,t){return(0,o.Z)(t.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function d(e,t){return(0,o.Z)(t.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}},622305:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(307061).Z)((e=>{const{pin:t}=e,{images:n}=t,i=Object.keys(n||{}).reduce(((e,t)=>{const i=n[t],{url:a,width:o,height:r}=i;return e&&a&&o&&r?{...e,[t]:{url:a,width:o,height:r}}:null}),{});return i&&Object.keys(i).length>0?{...e,images:i}:null}))},802933:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(307061).Z)((e=>e.pin&&e.pin.id?{...e,id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}:null))},692627:(e,t,n)=>{function i({hasPin:e,hasPinRichMetadata:t,hasPinRichMetadataProducts:n,hasPinRichMetadataArticle:i,hasPinRichMetadataRecipe:a,hasPinStoryPinData:o}){if(e){if(t)return n?144:i?141:a?145:139;if(o)return 157}return 140}n.d(t,{Z:()=>i})},432300:(e,t,n)=>{n.d(t,{Z:()=>i});const i={DEFAULT:1,LIMITED:2}},584595:(e,t,n)=>{n.d(t,{$j:()=>R,Cx:()=>Z,D4:()=>C,E:()=>c,E6:()=>k,H9:()=>M,Jt:()=>L,Jw:()=>r,LJ:()=>N,NF:()=>l,OW:()=>u,Pv:()=>D,RL:()=>w,ZP:()=>H,Zn:()=>P,_K:()=>_,aG:()=>m,an:()=>I,at:()=>O,bd:()=>d,cZ:()=>p,dO:()=>h,hE:()=>z,hU:()=>v,iK:()=>b,iZ:()=>j,ik:()=>B,ky:()=>F,lg:()=>g,nY:()=>f,nf:()=>x,oP:()=>y,pH:()=>a,qF:()=>U,rM:()=>E,rm:()=>A,tL:()=>s,tz:()=>o,xN:()=>T,yV:()=>S});var i=n(817656);const a=101,o=93,r=117,s=116,l=111,c=118,d=9,u=8,p=16,h=12,m=3,_=18,g=105,v=79,y=78,f=77,b=76,x=1402,w=85,S=88,P=1201,T=30,k=84,I=83,A=2901,C=2904,E=2905,j=95,R=19,D=113,O=91,L=2501,F=2915,N=2986,M=3050,z=2,Z=[u,d],B=[u,d,i.Ej],U=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[g,"FACEBOOK_ACCOUNT_NOT_LINKED"],[h,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[p,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[f,"INVALID_PASSWORD_FB_USER"],[y,"INVALID_PASSWORD_ERROR_CODE"],[v,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[82,"LOGIN_DEACTIVATED_USER"],[I,"LOGIN_POLICY_VIOLATION_USER"],[w,"AUTO_PASSWORD_RESET_ERROR_CODE"],[86,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[o,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[s,"API_ERROR_OVERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[u,"API_LIMIT_EXCEEDED_ERROR"],[d,"API_EVENT_BLOCKED_ERROR"],[R,"USER_IN_SAFE_MODE"],[k,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[w,"LOGIN_BAD_PASSWORD_ASK_RESET"],[P,"LOGIN_MFA_REQUIRED"],[T,"LOGIN_USER_NOT_FOUND"],[S,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"],[A,"SAR_DOWNLOAD_LIMIT"],[C,"SAR_EMAIL_UNVERIFIED"],[E,"SAR_EMAIL_MISSING"]]),H=[u,d,R,I,w,S]},467570:(e,t,n)=>{n.d(t,{$:()=>c,GH:()=>l,JF:()=>g,Jb:()=>h,MI:()=>_,sl:()=>u,we:()=>p});var i=n(935879),a=n(713930),o=n(816068),r=n(214494),s=n(867820);const l="274266067164",c=["public_profile","email","user_birthday","user_friends"],d=["picture.type(large)","id","first_name","last_name","email","gender","birthday"],u=e=>{e&&(0,s.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,s.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:l,status:!0,xfbml:!0,version:"v2.7"})):e&&(0,s.dy)({event:"global_object_not_found",provider:"facebook"})},p=(e,t)=>{t&&(0,s.dy)({event:"load_script_start",provider:"facebook"});return(0,a.Z)((0,i.Z)(e),"FACEBOOK").then((()=>u(t)))},h=()=>new Promise((e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)})),m=({userID:e,accessToken:t,data:{birthday:n,email:i,first_name:a,gender:r,last_name:s,picture:l}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:n?(0,o.Z)(n):void 0,email:i,first_name:a,gender:r,image_url:l&&!l.data.is_silhouette?l.data.url:void 0,last_name:s});async function _(e){var t;const n=(null===(t=(await r.Z.create("ApiResource",{url:"/v3/facebook/profile_data/",data:{access_token:e,pii_safe_birthday:!0,fields:d.join(",")}}).callCreate()).resource_response)||void 0===t?void 0:t.data)||{};return{access_token:e,birthday:n.birthday,email:n.email,first_name:n.first_name,gender:n.gender,id:n.id,last_name:n.last_name,picture:n.picture}}const g=()=>new Promise((e=>{window.FB.login(e,{scope:c.join(",")})})).then((e=>((e,t)=>new Promise(((n,i)=>{if("connected"!==e.status)return void i({status:e.status||"unknown"});const{userID:a,accessToken:o}=e.authResponse;_(o).then((e=>{n({creds:{facebook_id:a,facebook_token:o,facebook_autologin:(null==t?void 0:t.autologin)||!1},signupOptions:m({userID:a,accessToken:o,data:e})})}),i)})))(e)))},935879:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},760372:(e,t,n)=>{n.d(t,{X:()=>i});const i="favorited"},773285:(e,t,n)=>{n.d(t,{F:()=>o,a:()=>a});var i=n(425288);const{Provider:a,useHook:o}=(0,i.Z)("ExperimentContext")},869503:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(939106),a=n(898781),o=n(349700),r=n(883119),s=n(785893);function l(){const e=(0,a.ZP)();return e._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function c({freeShippingPrice:e}){const t=(0,a.ZP)();return(0,o.nk)(t._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:e}).join("")}function d({customStyles:e,showPrevDot:t,freeShippingPrice:n,freeShippingValue:a}){const o=t?[""]:[],{color:d="subtle",size:u="200"}=e||{};return Number.isFinite(a)?(0===a?o.push((0,s.jsx)(l,{})):n&&o.push((0,s.jsx)(c,{freeShippingPrice:n})),0===o.length?null:(0,s.jsx)(r.xv,{color:d,size:u,children:(0,s.jsx)(i.Z,{color:d,items:o})})):null}},30287:(e,t,n)=>{n.d(t,{AJ:()=>b,FB:()=>_,FP:()=>m,Kj:()=>v,Rx:()=>h,So:()=>g,kM:()=>y});var i=n(231486),a=n(567831),o=n(794230),r=n(957161),s=n(826067),l=n(226198);const c="android-app://com.pinterest.twa",d="pwa_hostname",u="pwa_redirected",p="homescreen_icon",h=e=>["twa","cct","browser","webview"].includes(e),m=e=>{var t,n;return!!e&&((i.U2(l.tg)||"").startsWith(c)||(e.document&&e.document.referrer||"").startsWith(c)||!(!(n=null===(t=e.location)||void 0===t?void 0:t.search)||!h((0,s.mB)(n).twa_type)))},_=e=>{var t,n;if(!e)return null;if(e.Windows)return"windows";if((e=>!!e&&(e.document&&e.document.referrer||"").startsWith("app-info://platform/microsoft-store"))(e))return"msft-store";if(m(e))return"android-twa";if(e.matchMedia&&(null!==(t=e.matchMedia("(display-mode: standalone)"))&&void 0!==t&&t.matches||null!==(n=e.matchMedia("(display-mode: minimal-ui)"))&&void 0!==n&&n.matches)&&e.navigator&&e.navigator.userAgent){const t=e.navigator.userAgent;if(t.includes("Chrome"))return"chrome";if(t.includes("Safari"))return"safari"}return"unknown"},g=e=>{const t=_(e);return!(!t||"unknown"===t)},v=(e,t)=>{if("unknown"!==t)switch(t){case"twa":return 3354;case"cct":return 3355;case"browser":return 3356;default:return null}else switch(e){case"chrome":return 3351;case"safari":return 3352;default:return null}};function y(e,t){if(void 0===e)return"notEligible";if(!g(e)&&e.navigator&&e.navigator.userAgent){if(e.navigator.userAgent.includes("Windows NT 10.0"))return"windows";if(t&&t())return"chrome"}return"notEligible"}const f=e=>{if(!e)return;const t=r.Z.getItem(d)||"";if(t!==e.location.hostname&&!(()=>{const e=Number(r.Z.getItem(u));return Date.now()-e<6e4})()){const{pathname:n}=e.location,i=(0,o.Z)(n,{utm_source:p}),s=(0,a.Z)(i,void 0,t);r.Z.setItem(u,Date.now()),e.location.href=s}},b=e=>{if(e)if((e=>{var t;return(0,s.mB)(null===(t=e.location)||void 0===t?void 0:t.search).utm_source===p})(e)){const{hostname:t}=e.location;r.Z.setItem(d,t)}else e.navigator.userAgent&&e.navigator.userAgent.includes("CrOS")&&f(e)}},813401:(e,t,n)=>{n.d(t,{kf:()=>g,l5:()=>m,of:()=>p,xC:()=>_,yz:()=>h});var i=n(667294),a=n(172071),o=n(829407),r=n(807609),s=n(30287),l=n(425288),c=n(785893);const{Provider:d,useMaybeHook:u}=(0,l.Z)("PwaContext"),p=({children:e,initialContext:t})=>{const[n,r]=(0,i.useState)(null),l=t||{pwaType:"unknown",twaType:null},u=l.pwaType;(0,o.Z)((()=>{const e=(0,s.FB)(window)||"unknown";r(e),u!==e&&a.Z.increment("pwa.type_mismatch",1,{serverPwaType:u,clientPwaType:e,conflict:"unknown"!==u&&"unknown"!==e})}));const p="unknown"===u&&n?n:u,h=l.twaType,m=(0,i.useMemo)((()=>({pwaType:p,twaType:h})),[p,h]);return(0,c.jsx)(d,{value:m,children:e})},h=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.pwaType)&&void 0!==e?e:"unknown"},m=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.twaType)&&void 0!==e?e:null},_=()=>"android-twa"===h(),g=()=>{const e=h(),t=(0,r.Z)();return"unknown"===e&&t?null:"windows"===e}},523657:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(883119),o=n(785893);const r=(e,t,n)=>{const a=(0,i.useRef)(null),o=(0,i.useRef)(null);(0,i.useEffect)((()=>{if(e!==a.current||n&&n!==o.current){a.current=e;const n=(i=e,document.querySelector(`img[src="${i}"]`)||null);null!=n&&n.complete&&t()}var i;o.current=n}),[e,t,n])};function s({alt:e,children:t,color:n,elementTiming:i,isActive:s=!1,naturalHeight:l,naturalWidth:c,onLoad:d,src:u}){return r(u,d,s),(0,o.jsx)(a.Ee,{alt:e,color:n,elementTiming:i,naturalHeight:l,naturalWidth:c,onLoad:d,src:u,children:t})}},198462:(e,t,n)=>{n.d(t,{cA:()=>O,fM:()=>L,N5:()=>F});var i=n(667294),a=n(991067),o=n(435851),r=n(172071),s=n(31062),l=n(383434),c=n(938085);const d=(0,l.X)("LayoutShiftDebugger"),u=e=>e instanceof HTMLElement&&e.dataset&&(e.dataset.layoutShiftBoundaryId||e.dataset.testId)||e.parentNode&&u(e.parentNode)||null,p=e=>Math.round(1e3*e);let h=[];const m=({staticContext:e,getCurrentRoute:t,getLastNavigationTime:n})=>{const i=(0,s.Jx)({annotateMarks:["initialAppLoad","RenderReactContainer"],name:"cumulative_layout_shift",pwtStaticContext:e});let a=0;const l=e=>{a=e.timeStamp};window.addEventListener("scroll",l),window.addEventListener("beforeunload",(()=>{window.removeEventListener("scroll",l)}));const m=`${(0,o.Z)(e)}.CLS`,_=()=>(e=>{let t=Object.freeze({}),n=0;h.forEach((({value:e,shift:{sources:i},route:a,hadRecentNavigation:o,hadRecentScroll:r,isAuth:s})=>{if(n+=e,!i||!i.length)return;const l=e/i.length;i.forEach((({node:e})=>{const n=e?u(e)||"ROOT":"NODE_REMOVED",i={route:a,boundaryId:n,hadRecentNavigation:o,hadRecentScroll:r,isAuth:s},c=JSON.stringify(i);t={...t,[c]:{score:((t[c]||{}).score||0)+l,tags:i}}}))})),Object.keys(t).forEach((n=>{const{score:i,tags:a}=t[n];r.Z.count(`${e}.shifts`,p(i),1,{...a})})),d("Debug CLS boundaries",n,t,h),h=[]})(m);let g,v,y=0,f=0,b=0;(0,c.kz)((({entries:i,value:o})=>{if(b=o||0,i.length){g=t(),v=n();const r=i[0].startTime,s=y!==r,l=s?i:i.slice(f);s&&(y=r),h=h.concat(l.map((t=>({value:o,shift:t,route:g,hadRecentNavigation:v>0&&v+500>t.startTime,hadRecentScroll:a>0&&a+500>t.startTime,isAuth:e.isAuthenticated})))),f=i.length}}),!0);const x=setInterval((()=>{if(h.length){_();const t=(e=b)<=.1?"good":e<=.25?"adequate":"poor";r.Z.count(`${m}.${t}`,1,1),i.stop(p(b))}var e}),1e3);window.addEventListener("beforeunload",(()=>{clearInterval(x),0===b&&i.abort("no_shifts_detected")}))};var _=n(311560),g=n(69028);var v=n(156381);const y=e=>Number(e.toFixed(2)),f={pin_closeup:{LCP:"pin_closeup_lcp",FID:"pin_closeup_fid"},board:{LCP:"board_lcp",FID:"board_fid"},other_profile:{LCP:"other_profile_lcp",FID:"other_profile_fid"},topic:{LCP:"topic_lcp",FID:"topic_fid"}},b=["CA","GB","DE","FR","AU","JP","BR","MX"],x=({surface:e,isAuthenticated:t})=>{if(t)return[];switch(e){case"pin_closeup":return["mweb_pin_page_ssr_lite"];default:return[]}},w=({pwtStaticContext:e,surface:t})=>{const n="pin_closeup"===t||"board"===t||"other_profile"===t||"topic"===t?(({pwtStaticContext:e,surface:t})=>{const n=(0,s.Jx)({annotateExperiments:x({surface:t,isAuthenticated:e.isAuthenticated}),annotateResourceTimingForSurface:t,annotateMarks:["initialAppLoad","RenderReactContainer",...e.isAuthenticated?[]:["firstClientRenderUnauthPageWrapper","mountUnauthPageWrapper"],..."pin_closeup"===t?["firstClientRenderCloseupPage","firstClientRenderCloseupImage"]:[]],name:f[t].LCP,pwtStaticContext:e}),i=(0,s.Jx)({name:f[t].FID,pwtStaticContext:e});return(e,t)=>{"LCP"===e?n.stop(t):"FID"===e&&i.stop(t)}})({pwtStaticContext:e,surface:t}):null,{isAuthenticated:i,isBot:a,isSocialBot:l,deviceType:d,country:u,fullPath:p,browserName:h,osName:m}=e,w={},S=(s,c,v)=>{if(!w[s]){w[s]=!0;const y=(0,o.Z)(e),f=`${y}.${t}.${s}`,x=`${y}.tags.${t}.${s}`;let S;if(S="iOS"===m&&"Chrome"===h?"iOS_Chrome":"CrUX","LCPCount"===s)r.Z.count(`${f}.sum`,c,1),r.Z.increment(`${f}.size`,1);else{const e=(0,_.Z)(u),o=(0,g.Z)(p);"FID"===s||"FIDStartTime"===s?(r.Z.timing(`${f}`,c,1),r.Z.timing(`${x}`,c,1,{timingBucket:null==v?void 0:v.timingBucket,isAuth:i,CrUXSegment:S,region:e,..."pin_closeup"===t&&("feedback"===o||"sent"===o||"default"===o)&&{pinType:o}})):(r.Z.timing(`${f}`,c,1),r.Z.timing(`${x}`,c,1,{isAuth:i,CrUXSegment:S,region:e,..."pin_closeup"===t&&("feedback"===o||"sent"===o||"default"===o)&&{pinType:o}})),!i&&b.includes(u)&&(({botType:e,deviceType:t,isChrome:n,region:i})=>{const a=`pwtlogger.${e}.${t}`,o=["all",...i?[i.toLowerCase()]:[]],r=["all",...n?["chrome"]:[]],s=[];return o.forEach((e=>{r.forEach((t=>{s.push(`${a}.region_${e}.browser_${t}`)}))})),s})({botType:(l?"socialBot":a&&"bot")||"nonbot",deviceType:d,isChrome:!0,region:e}).forEach((e=>{r.Z.timing(`${e}.tags.growthSEO.${t}_${s}`,c,1,{country:u})})),n&&n(s,c)}}};(0,c.Tx)((({value:e})=>{const t=(0,v.Af)();let n;n=e<=100?"Good":e>100&&e<=300?"Needs Improvement":"Poor",S("FID",y(e),{timingBucket:n}),t&&S("FIDStartTime",y(t),{timingBucket:n})})),(0,c.Tb)((({value:e})=>{S("LCPCount",(0,v.Kj)()),S("LCP",(e=>10*Math.round(e/10))(e))})),(0,c.Y)((({value:e})=>S("FCP",e)))};var S=n(790348);let P=null;const T=e=>{switch(e){case"/":return"homefeed";case"/pin/:id":return"pin_closeup";case"/pin/:id/visual-search":return"flashlight";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/search/:scope":return"search";case"/ideas/:interest/:id":return"topic";default:return null}};var k=n(969853),I=n(543059),A=n(7789),C=n(22773),E=n(276775),j=n(785893);const R=(0,i.createContext)(null),D=(0,i.createContext)(null);function O({children:e,immutableLocation:t,resourceTimingCacheSize:n,routerHistoryAction:o,staticContext:r}){const l=(0,i.useRef)(null),c=(0,i.useRef)(null),d=(0,i.useRef)(t),u=(0,i.useRef)(!0),{path:p}=(0,E.useRouteMatch)(),h=(0,i.useRef)(p),_=!r.isCachedRender&&(0,a.Z)(r.deviceType);(0,i.useEffect)((()=>{h.current=p}),[p]),(0,i.useEffect)((()=>{if((0,C.X_)({size:n||1e3}),(0,v.UQ)(),(0,S.A9)("totalSessionVolume"),window.performance?["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize"].forEach((e=>{window.performance[e]||(0,S.A9)(`not_supported.window.performance.${e}`)})):(0,S.A9)("not_supported.window.performance"),window.PerformanceObserver||(0,S.A9)("not_supported.window.PerformanceObserer"),(0,k.v)()||(0,S.A9)("not_supported.grid_profiler"),u.current=!1,_&&!A.is){if(((e,t)=>{let n,i=0,a=0,o=null,r=null,l=null,c=null,d=[];const u=()=>{a+=1,l=window.requestAnimationFrame(u)},p=()=>{if(c){const n=d.some((e=>null!==o&&o-e>0&&o-e<=500)),a=t(),{isAuthenticated:l}=e;if(n){const t=(0,s.Jx)({name:"scroll_session",pwtStaticContext:e});if(!t)return;const n={surface:a,isAuthenticated:l};if(null===o||null===r||0===i)if(null===o&&null===r)t.error("no_duration",n);else if(null==o)P=r,t.error("no_start",n);else if(null==r){let e;e=P&&o-P<750?"no_end.outside_window":"no_end.single_event",t.error(e,n)}else t.error("no_frames",n);else{P=r;const e=r-o,s=e/i;0===s?t.error("zero_value",n):s<0?t.error("negative_value",n):(t.addBinaryAnnotation("surface",a,"STRING"),t.addBinaryAnnotation("isAuthenticated",l,"BOOL"),t.addBinaryAnnotation("duration_ms",e,"I32"),t.addBinaryAnnotation("total_frames_rendered",i,"I16"),t.stop(s))}}else(0,S.A9)("WARN.scroll_session.not_user",{tags:{isAuthenticated:l,surface:a}})}window.cancelAnimationFrame(l),i=0,a=0,d=[],r=null,o=null,c=null},h=({timeStamp:e})=>{n&&clearTimeout(n),n=setTimeout(p,500),null===c?(c=100*Math.random()<10,c&&(l=window.requestAnimationFrame(u),o=e)):c&&(r=e,i+=a,a=0)},m=({timeStamp:e})=>{d.push(e)};["wheel","pointerdown","keydown"].forEach((e=>{window.addEventListener(e,m,{passive:!0,capture:!0})})),window.addEventListener("scroll",h,{passive:!0}),window.addEventListener("pagehide",(()=>{window.removeEventListener("scroll",h),["wheel","pointerdown","keydown"].forEach((e=>{window.removeEventListener(e,m)}))}))})(r,(()=>T(h.current)?T(h.current)||"UNKNOWN_SURFACE":h.current||"UNKNOWN_SURFACE")),"Chrome"===r.browserName){m({staticContext:r,getCurrentRoute:()=>h.current,getLastNavigationTime:()=>c.current||0});const e=T(h.current);e&&w({pwtStaticContext:r,surface:e})}}}),[]);var g,y;if(g=t.pathname,["/advertiser/"].reduce(((e,t)=>g.includes(t)||e),!1)?d.current.pathname!==t.pathname:d.current!==t){d.current=t,c.current=null!==(y=window.performance)&&void 0!==y&&y.now?window.performance.now():null;const{current:e}=c;if(!u.current){const t=!l.current;(0,S.A9)("routeStart",{tags:{action:o}}),(0,C.Eg)(t),(0,v.Ux)(t),(0,v.on)(),(0,I.tl)();const{customBufferSize:n,defaultBufferSize:i}=(0,C.LH)();e&&((0,S.A9)("routeStart.customBufferSize",{count:n}),(0,S.A9)("routeStart.defaultBufferSize",{count:i}),l.current={time:e,action:o})}}return(0,j.jsx)(R.Provider,{value:_?r:null,children:(0,j.jsx)(D.Provider,{value:l.current,children:e})})}const L=()=>(0,i.useContext)(D),F=()=>(0,i.useContext)(R)},42447:(e,t,n)=>{n.d(t,{Z:()=>U});var i=n(667294),a=n(317672),o=n(790348);const r=e=>{const t=performance.getEntriesByType("resource").filter((e=>e.name.includes("i.pinimg"))).reduce(((e,t)=>{const n=t.name.replace(".jpg","").split("/");return{[n[n.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}}),{});[...Array.from(document.getElementsByTagName("img")).map((e=>{const n=e.src.replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]){var o;const n=(null===(o=(0,a.rZ)(e))||void 0===o?void 0:o.width)||1,r=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:r,ratio:r/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}})),...Array.from(document.querySelectorAll('div[role="img"]')).map((e=>{const n=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]&&e instanceof HTMLDivElement){var o;const n=(null===(o=(0,a.rZ)(e))||void 0===o?void 0:o.width)||1,r=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:r,ratio:r/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}}))].forEach((t=>{const{ratio:n,fileName:i,downloadedSize:a}=t;t.ratio>1.05&&(0,o.A9)(`checkImageRatio.${e}`,{count:Math.round(10*n)/10,tags:{fileName:`${a}_${i}`}})}))};var s=n(860273),l=n(543059),c=n(607150);const d=({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...(0,c.jh)("constraint_",e),...(0,c.jh)("mark_",(0,l.gQ)()),...(0,c.jh)("browser_",{...t?(0,c.D3)(t):{},...(0,c.rX)()})});var u=n(358864),p=n(505771),h=n(156381);const m=(e,t)=>{const{firstInputDelay:n}=(0,h.v2)();return[...e.map((e=>(0,p.Z)(e,t))).filter(Boolean),...n?[{name:"fid",id:(0,u.Z)(),parentId:t,startTime:n.startTime,endTime:n.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]};var _=n(435851),g=n(172071);const v=({eventPrefix:e,endTime:t,tags:n,resourceArr:i,resourceType:a="allResources"})=>{const o=i.length;if(o>0&&"object"==typeof i[0]&&!Array.isArray(i[0])){const r=[...i].sort(((e,t)=>e.fetchStart-t.fetchStart)),s=[...i].sort(((e,t)=>e.responseEnd-t.responseEnd));let l=1;const c=t/5;let d=0;for(;l<=5;){let t=0;for(;d<=o-1&&r[d].fetchStart<=c*l;)d+=1,t+=1;g.Z.gauge(`${e}.tags.${a}.fetchStartInterval${l}of5`,t,.2,n),g.Z.gauge(`${e}.${a}.fetchStartInterval${l}of5`,t,.2),l+=1}const u={zeroPercentInFlight:r[0].fetchStart,twentyFivePercentInFlight:r[Math.floor(o/4)].fetchStart,fiftyPercentInFlight:r[2*Math.floor(o/4)].fetchStart,seventyFivePercentInFlight:r[3*Math.floor(o/4)].fetchStart,hundredPercentInFlight:r[o-1].fetchStart,twentyFivePercentComplete:s[Math.floor(o/4)].responseEnd,fiftyPercentComplete:s[2*Math.floor(o/4)].responseEnd,seventyFivePercentComplete:s[3*Math.floor(o/4)].responseEnd,hundredPercentComplete:s[o-1].responseEnd};for(const t in u)u[t]&&(g.Z.timing(`${e}.tags.${a}.${t}`,u[t],.2,n),g.Z.timing(`${e}.${a}.${t}`,u[t],.2))}},y=({annotateExperiments:e,endTime:t,entries:n,metricId:i,pwtStaticContext:a})=>{const o=`${(0,_.Z)(a)}.${i.surface}`,r=[o];e&&e.forEach((e=>{const t=a.getExperimentGroup(e)||"null";r.push(`${o}.${e}.${t}`)}));const s={lcpTimingBucket:(e=>{let t;return t=e<=2500?"Good":e>2500&&e<=4e3?"Needs Improvement":"Poor",t})((0,h.Bn)())||"unknown",isAuthenticated:a.isAuthenticated,navigationType:i.navigationType},l=Array.from(n.filter((e=>"number"==typeof e.encodedBodySize&&e.encodedBodySize>=1e4&&e.responseEnd<=t))),c=[],d=[],u=[],p=[],m=[];l.forEach((e=>{"img"===e.initiatorType?c.push(e):"css"===e.initiatorType?d.push(e):"script"===e.initiatorType?u.push(e):"xmlhttprequest"===e.initiatorType?p.push(e):"link"===e.initiatorType&&e.name.includes("i.pinimg.com")&&m.push(e)})),r.forEach((e=>{v({eventPrefix:e,endTime:t,tags:s,resourceArr:l}),v({eventPrefix:e,endTime:t,tags:s,resourceArr:c,resourceType:"image"}),v({eventPrefix:e,endTime:t,tags:s,resourceArr:d,resourceType:"css"}),v({eventPrefix:e,endTime:t,tags:s,resourceArr:u,resourceType:"scripts"}),v({eventPrefix:e,endTime:t,tags:s,resourceArr:p,resourceType:"xhr"}),v({eventPrefix:e,endTime:t,tags:s,resourceArr:m,resourceType:"preloadedImage"})}))};var f=n(22773),b=n(453821),x=n(638089);const w=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:i,endTime:a,imageTimings:o,metricId:r,pwtStaticContext:l,startTime:c,traceId:u,spans:p})=>{const h=(0,f.Cg)();let _;"initial_app_load"===r.navigationType&&(_=(0,s.Z)());const g=o.map((({name:e})=>e)),v=h.map((e=>(0,b.p)(e,g))).filter((({timing:e})=>!(({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime||e<n.startTime-100)(e,{startTime:c,endTime:a})));return"board"!==r.surface&&"pin_closeup"!==r.surface||y({annotateExperiments:e,endTime:a,entries:h,metricId:r,pwtStaticContext:l}),{type:"COMPLETE",traceId:u,startTime:c,endTime:a,spans:m(v,u).concat(p),annotationMap:d({constraintMap:i,initialNavTiming:_,annotations:t}),binaryAnnotationMap:(0,x.rA)({annotateExperiments:e,binaryAnnotations:n,entries:h,metricId:r,performanceResources:v,pwtEndTime:a,pwtStaticContext:l})}};let S=!1;const P=(e,t)=>e&&t?S?((0,o.H)("duplicated_initial_app_load_surface_pwt"),(0,u.Z)()):(S=!0,t):(0,u.Z)();var T=n(558775);const k=(e,t)=>{const n=(0,i.useRef)(t);return{getState:()=>n.current,dispatch:t=>{n.current=e(n.current,t)}}};var I=n(985271),A=n(383434),C=n(226464),E=n(567450),j=n(276602),R=n(198462),D=n(785893);const O=["initial_app_load","client_route_push"],L=(0,A.X)("PwtSurface"),F="NavigationComplete",N="VisuallyComplete",M=(e,t)=>{e.isSampled&&(0,T.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},z=e=>{if(e.metricConfig.constraints.every((t=>e.constraintMap[t]))){const t=Math.max(...e.metricConfig.constraints.map((t=>e.constraintMap[t])));return((e,t)=>{var n;const{metricConfig:{metricId:i,pwtStaticContext:a,annotateExperiments:s},annotations:c,binaryAnnotations:d,constraintMap:u,startTime:p,imageTimings:h,isSampled:m,spans:_}=e;(0,l.L8)(`PWT_Complete_${(0,C.KJ)(i)}`);const g=P("initial_app_load"===i.navigationType,null===(n=a.serverData)||void 0===n?void 0:n.trace_id),v=w({annotateExperiments:s,annotations:c,binaryAnnotations:d,constraintMap:u,endTime:t,imageTimings:h,metricId:i,pwtStaticContext:a,startTime:p,traceId:g,spans:_});m&&(0,T.Z)({metricId:i,pwtStaticContext:a,result:v});try{r(String(v.binaryAnnotationMap["metricId.surface"].value))}catch(y){(0,o.H)("image_ratio_check_error",{error:y})}return{...e,result:v,status:"DONE"}})(e,t)}return e},Z=(e,t)=>{const{constraint:n,time:i}=t,a=(0,C.KJ)(e.metricConfig.metricId);return I.Z?e.metricConfig.constraints.find((e=>e===n))?e.constraintMap[n]?(L(`constraint "${n}" is already complete.`),(0,o.H)("duplicated_constraint_complete",{constraint:n,action:a}),e):(L(`marking constraint "${n}" as complete`),(0,l.ZP)(`constraint_${n}_is_complete`),z({...e,constraintMap:{...e.constraintMap,[n]:i||I.Z.now()}})):(L(`marked constraint "${n}" is not a required constraint.`),e):((0,o.H)("missing_window_performance",{action:a}),e)},B=(e,t)=>{if(L("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{const{metricConfig:n,startTime:i,isSampled:a}=t;if("TIMING"===e.status&&i!==e.startTime&&M(e,"routeUpdatedOnSameSurface"),!n)return{status:"DISABLED",metricConfig:null};const r=(0,C.KJ)(n.metricId);return"TIMING"===e.status&&e.startTime===i&&e.constraintMap.NavigationComplete?((0,o.H)("duplicated_init_route_action",{action:r}),e):("Other"===n.pwtStaticContext.browserName&&!1===n.metricId.isAuthenticated&&"initial_app_load"===n.metricId.navigationType?((0,o.A9)(`TIMING.${r}`,{tags:{userAgent:null===(s=window)||void 0===s||null===(l=s.navigator)||void 0===l?void 0:l.userAgent}}),(0,o.A9)(`TIMING.sampled.${r}`,{tags:{userAgent:null===(c=window)||void 0===c||null===(d=c.navigator)||void 0===d?void 0:d.userAgent},sampleRate:.5})):((0,o.A9)(`TIMING.${r}`),(0,o.A9)(`TIMING.sampled.${r}`,{sampleRate:.5})),Z({status:"TIMING",metricConfig:n,startTime:i,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:a,spans:[]},{constraint:F}));var s,l,c,d})(e,t.payload);if("TIMING"!==e.status)return L(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":M(e,t.reason);const n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":const{name:i}=t.payload;if(!I.Z)return e;const a=I.Z.now();return L(`adding annotation {${i}: ${a}}`),{...e,annotations:{...e.annotations,[i]:a}};case"BINARY_ANNOTATE":const{name:r,value:s,annotationType:l}=t.payload;return L(`adding binary annotation {${r}: ${s}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[r]:{value:s,type:l}}};case"MARK_CONSTRAINT_COMPLETE":return Z(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!I.Z){const t=(0,C.KJ)(e.metricConfig.metricId);(0,o.H)("missing_window_performance",{action:t})}L(`removing constraint "${t}"`);const n=e.metricConfig.constraints.filter((e=>e!==t)),{[t]:i,...a}=e.constraintMap;return z({...e,constraintMap:a,metricConfig:{...e.metricConfig,constraints:n}})})(e,t.payload);case"SET_SEGMENT":return((e,t)=>{if(!I.Z){const t=(0,C.KJ)(e.metricConfig.metricId);(0,o.H)("missing_window_performance",{action:t})}L(`updating pwt segment to "${t}"`);const n={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:n}}})(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:n}}=t;if(0===n.length){M(e,"visuallyComplete_noImages");const t={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:t}}const i=Math.max(...n.map((e=>e.responseEnd||0)));return Z({...e,imageTimings:n},{constraint:N,time:i})}case"ADD_SUBSPAN":const{startTime:c}=e,{payload:{name:d,startTime:p,endTime:h,annotations:m,binaryAnnotations:_,parentId:g}}=t;return{...e,spans:[...e.spans,{name:d,id:(0,u.Z)(),startTime:p||c,endTime:h,annotationMap:{...m},binaryAnnotationMap:{..._},parentId:g}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,u.Z)(),startTime:I.Z?I.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":const v=e.spans.findIndex((e=>e.name===t.payload.name));return v>-1?(e.spans[v].endTime=I.Z?I.Z.now():0,t.payload.annotations&&(e.spans[v].annotationMap={...e.spans[v].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[v].binaryAnnotationMap={...e.spans[v].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,o.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:const y=(0,C.KJ)(e.metricConfig.metricId);return(0,o.H)("invalid_pwt_surface_action",{action:y}),e}};function U({children:e,...t}){var n;const a=(0,R.fM)(),r=(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(a),s=["seo_web_react18_render","web_react18_render_auth","web_react18_render_unauth","web_duplo_default",...null!==(n=t.annotateExperiments)&&void 0!==n?n:[]],l={...t,annotateExperiments:s,navigationInfo:{navigationType:r,clientNavigation:a}},{context:c}=(({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:a,annotateExperiments:o,customEnabledNavigationTypes:r,navigationInfo:{clientNavigation:s,navigationType:l},sampleRate:c})=>{const d=(0,i.useRef)("NOT_SET"),u=(0,R.N5)(),{getState:p,dispatch:h}=k(B,{status:"DISABLED",metricConfig:null});if(d.current!==s&&(d.current=s,u)){const{isAuthenticated:i}=u,d=r||O,p=e&&l&&d.includes(l)?{metricId:{type:"surface",surface:e,navigationType:l,isAuthenticated:i,segment:n},annotateExperiments:o,constraints:[F,...t||[],...a?[N]:[]],pwtStaticContext:u}:null;h({type:"INIT_ROUTE",payload:{metricConfig:p,startTime:s?s.time:0,isSampled:!c||Math.random()<c}})}const m=p();if((0,i.useEffect)((()=>{const e=e=>{h({type:"ABORT",reason:e})};E.Z.onSessionPause(e);const t=()=>{window.removeEventListener("resize",t),h({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",t),()=>{const n=p();L("handling unmount",n),"TIMING"===n.status&&M(n,"unmount"),E.Z.removePauseListener(e),window.removeEventListener("resize",t)}}),[]),"TIMING"!==m.status||!m.constraintMap.NavigationComplete)return{state:m,context:null};const{startTime:_,metricConfig:g}=m;return{state:m,context:{abort:e=>h({type:"ABORT",reason:e}),addAnnotation:e=>h({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>h({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),addSubspan:(e,t,n,i={},a={},o=null)=>h({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:o}}),getId:()=>_,getMetricId:()=>g.metricId,markConstraintComplete:e=>h({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:I.Z?I.Z.now():0}}),removeConstraint:e=>h({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>h({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:g.constraints.includes(N)?e=>h({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},n={},i=null)=>h({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}}),stopSubspan:(e,t={},n={},i=null)=>h({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}})}}})(l);return(()=>{const e=(0,j.E)(),t=!!e;(0,i.useEffect)((()=>{if(t){const t=null==e?void 0:e.getMetricId(),n=t?(0,C.KJ)(t):null;(0,o.H)("nested_pwt_surface",{action:n})}}),[t])})(),(0,D.jsx)(j.S,{value:c,children:e})}},276602:(e,t,n)=>{n.d(t,{E:()=>o,S:()=>a});var i=n(425288);const{Provider:a,useMaybeHook:o}=(0,i.Z)("pwtSurfaceContext")},991067:(e,t,n)=>{n.d(t,{Z:()=>r});const i=()=>{var e;return!(null===(e=window.performance)||void 0===e||!e.timing)};var a=n(985271),o=n(969853);function r(e){return!("desktop"===e&&!i())&&(!!a.Z&&(0,o.v)())}},7789:(e,t,n)=>{n.d(t,{DQ:()=>o,eD:()=>i,is:()=>a});const i=window.location.search.includes("debug_tracing"),a=window.location.search.includes("debug_lab_tracing"),o=i||a},226464:(e,t,n)=>{n.d(t,{KJ:()=>d,Rp:()=>c});const i={id:14,name:"own_profile"},a={id:15,name:"other_profile"},o={initial_app_load:{unauth:{board:{id:114,name:"board_page_interactive"},pin_closeup:{id:113,name:"pin_page_interactive"},other_profile:{id:115,name:"user_page_interactive"},topic:{id:119,name:"topic_page_interactive"},sterling_signup:{id:201,name:"sterling_signup_main_pageload"},sterling_login:{id:202,name:"sterling_login_main_pageload"}},auth:{bizhub:{id:607,name:"bizhub_pinteractive"},homefeed:{id:19,name:"home_feed_pinteractive"},sterling_reporting_overview:{id:219,name:"sterling_reporting_overview_pageload"},sterling_ads_create:{id:221,name:"sterling_adscreate_main_pageload"},sterling_ads_duplicate:{id:206,name:"sterling_adsduplication_main_pageload"},sterling_ads_edit:{id:204,name:"sterling_adsedit_main_pageload"},sterling_billing_profile:{id:203,name:"sterling_billingprofile_main_pageload"},sterling_bulk_editor:{id:205,name:"sterling_bulkeditor_main_pageload"},sterling_pin_builder:{id:222,name:"sterling_adscreate_pinbuilder_pageload"},sterling_recommendations:{id:223,name:"sterling_recommendations_pageload"},sterling_reporting_details:{id:218,name:"sterling_reporting_details_pageload"}}},client_route_push:{unauth:{},auth:{bizhub:{id:608,name:"bizhub_page_render"},homefeed:{id:2,name:"home_feed_render"},search:{id:3,name:"search_feed_render"},search_tab:{id:25,name:"search_tab_render"},pin_closeup:{id:13,name:"pin_closeup_details"},sterling_audiences:{id:224,name:"sterling_audiences_page_user_nav"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"},sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"},sterling_reporting_details:{id:227,name:"sterling_reporting_details_user_nav"},own_profile:i,other_profile:a}},client_route_replace:{unauth:{},auth:{own_profile:i,other_profile:a,sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"}}}},r={initial_app_load:{auth:{pin_closeup:{product_detail_page:{id:120,name:"product_details_interactive"},product_detail_page_plus:{id:121,name:"product_details_plus_interactive"}}}},client_route_push:{auth:{pin_closeup:{story_pin:{id:700,name:"story_pin_closeup"},product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}},client_route_replace:{auth:{pin_closeup:{product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}}},s={board_picker:16,grid_bottom_spinner:12,facebook_autologin:500,google_autologin:501,story_pin_step:701},l=e=>{var t,n;const{navigationType:i,isAuthenticated:a,segment:s,surface:l}=e,c=a?"auth":"unauth",d=null===(t=r[i])||void 0===t||null===(n=t[c])||void 0===n?void 0:n[l];return s&&d&&d[s]||o[i][c][l]},c=e=>{if("stopwatch"===e.type)return s[e.name]||null;const t=l(e);return t?t.id:null},d=e=>{if("stopwatch"===e.type)return e.name;const{navigationType:t,isAuthenticated:n,segment:i,surface:a}=e,o=n?"auth":"unauth",r=l(e);return r?r.name:`${t}_${o}_${a}${i?"_"+i:""}`}},383434:(e,t,n)=>{n.d(t,{X:()=>o,v:()=>a});var i=n(7789);const a=(e,t)=>{i.DQ&&(e.style.outline=`10px solid ${t}`,e.style.outlineOffset="-30px")},o=e=>(t,...n)=>{i.DQ&&console.log("string"==typeof t?`[PWT:${e}] ${t}`:t,...n)}},317254:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(969853),a=n(667294),o=n(276602),r=n(543059);var s=n(198462);function l({children:e,isAtEndOfFeed:t,pinData:n,itemCount:l,includeBackgroundImages:c=!1,includeVideos:d=!1,includeSections:u=!1}){var p;return(null===(p=(0,s.N5)())||void 0===p?void 0:p.isAuthenticated)||(u=!0),(0,i.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:c,includeVideos:d,includeSections:u}),function(e){const t=(0,o.E)(),n=(0,a.useRef)(null);(0,a.useEffect)((()=>{e!==n.current&&(n.current=e,t&&(0,r.ZP)(r.at))}),[!!t,e])}(l),e}},317672:(e,t,n)=>{n.d(t,{F9:()=>d,LM:()=>l,VZ:()=>o,cQ:()=>u,rZ:()=>r});var i=n(790348),a=n(91885);const o=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,r=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,s=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;const t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},l=()=>document.querySelector?document.querySelectorAll(a.wc).length:((0,i.H)("missing_document_query_selector"),0),c=(e,t)=>{const n=r(e);if(!n)return(0,i.H)("missing_client_rect"),!1;if(n.width<100&&n.height<100){if(e instanceof HTMLImageElement)return!1;const t=s(e);if(null!=t&&t.endsWith("svg"))return!1}return(({top:e,height:t},{foldY:n,pageYOffset:i})=>{const a=e+i;if(a>=n)return!1;const o=Math.min(t,n-a);return o>.5*t||o>.2*n})(n,t)},d=()=>{const e=(()=>{if(!document.querySelector)return(0,i.H)("missing_document_query_selector"),null;const e=document.querySelectorAll(a.wc);return e[e.length-1]||null})();if(!e)return!1;const t=window.innerHeight||0,n=window.pageYOffset||0;return e.getBoundingClientRect().top+n>=t},u=(e,t,n)=>{if(!document.querySelector)return(0,i.H)("missing_document_query_selector"),[];const o={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},r=[a.Wf,...e?[a.fF]:[],...t?[a.$N]:[]].join(","),l=[...document.querySelectorAll(r)];if(n){const e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{const n=[...e.children];!n.length&&e.style.backgroundImage?l.push(e):n.length&&n.forEach((e=>{t(e)}))};e.forEach((e=>{t(e)}))}return l.reduce(((e,n)=>{if((n instanceof HTMLImageElement||n instanceof HTMLDivElement||n instanceof HTMLVideoElement&&t)&&c(n,o)){const t=s(n);if(t){const i=(t||"").replace(/.*\//,"");return e.concat([{element:n,fileName:i}])}}return e}),[])}},91885:(e,t,n)=>{n.d(t,{$N:()=>l,Kb:()=>i,Wf:()=>r,fF:()=>s,wc:()=>o});const i="pwt-grid-item",a=['div[data-grid-item="true"]',"div.Grid__Item",`div[data-test-id="${i}"]`],o=a.join(","),r=a.map((e=>`${e} img`)).join(","),s=a.map((e=>`${e} div[style*=background-image]`)).join(","),l=a.map((e=>`${e} video`)).join(",")},969853:(e,t,n)=>{n.d(t,{Z:()=>m,v:()=>h});var i=n(667294),a=n(543059),o=n(35954),r=n(226464),s=n(22773),l=n(790348),c=n(276602),d=n(317672),u=n(383434);const p=(0,u.X)("GridProfiler"),h=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,d.VZ)();function m({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:h=!1,includeSections:m}){const _=(0,c.E)(),g=null==_?void 0:_.getId(),v=null==_?void 0:_.setVisuallyCompleteResult,[y,f]=(0,i.useState)({status:"DISABLED"});(0,i.useEffect)((()=>{f(v?{status:"LAYOUT",failedCount:0,numOfItemsChecked:0}:{status:"DISABLED"})}),[g,v]),(0,i.useEffect)((()=>{if("DISABLED"!==y.status&&(0,a.ZP)(`GridVisuallyCompleteProfiler_${y.status}`),p("new status",y),"LAYOUT"===y.status){const e=((e,t)=>{const n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)})("scroll",(()=>{(0,a.ZP)("scrollDuringLayout")}));return()=>{e()}}return()=>{}}),[y.status]),(0,o.Z)((()=>{if(!_||!v)return;const{abort:i,getMetricId:a}=_,o=a();switch(y.status){case"LAYOUT":{const t=((e,t)=>{if(!t){const t=(0,d.LM)();if(t===e)return p("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,d.F9)())return p("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}})(y.numOfItemsChecked,e);t.complete?f({status:"TIMING",failedCount:0,pinElements:(0,d.cQ)(n,h,m)}):500*y.failedCount>6e4?((0,l.A9)(`images.${(0,r.KJ)(o)}.visuallyComplete.maxLayoutAttempt`),i("visuallyComplete_layoutTimeout"),f({status:"DISABLED"})):f({...y,failedCount:y.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{const e=(0,s.Cg)(),n=y.pinElements.length,a=[];let c=0,d=0,h=0;if(y.pinElements.forEach((({element:t,fileName:n})=>{const i=e.find((e=>e.name.endsWith(n)));i?i.responseEnd?(a.push(i),(0,u.v)(t,"green")):(h+=1,(0,u.v)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(d+=1,(0,u.v)(t,"red")):(c+=1,(0,u.v)(t,"greenyellow"))})),c||h)100*y.failedCount>6e4?((0,l.A9)(`images.${(0,r.KJ)(o)}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:c,noTimingCount:d,noTimingResponseEndCount:h}}),i("visuallyComplete_timingTimeout"),f({status:"DISABLED"})):f({...y,failedCount:y.failedCount+1});else{if(p(`All ${a.length} images are fetched`),t&&t.length){const e=((e,t)=>{let n=0,i=0,a=0,o=0,r=0;return e=e.filter((e=>"pin"===e.type)),t.forEach(((t,s)=>{var l,c,d,u,p,h;const m=t.fileName.split(".")[0];let _;_=e[s],m!==(null===(l=_)||void 0===l?void 0:l.image_signature)&&(_=e.find((e=>m===(null==e?void 0:e.image_signature)))),void 0===_?r+=1:_.is_promoted||"PROMOTED_PIN"===(null===(c=_.recommendation_reason)||void 0===c?void 0:c.reason)||null!==(d=_)&&void 0!==d&&null!==(u=d.promoter)&&void 0!==u&&u.length?a+=1:null!==_.story_pin_data_id&&void 0!==_.story_pin_data_id?n+=1:null!==(p=_)&&void 0!==p&&null!==(h=p.videos)&&void 0!==h&&h.video_list?i+=1:o+=1})),{storyPinCount:n,videoCount:i,adCount:a,imageCount:o,unknownCount:r}})(t,y.pinElements);Object.entries(e).forEach((([e,t])=>{_.addBinaryAnnotation(e,t,"I16")})),(0,l.A9)(`${(0,r.KJ)(o)}.pinTypes`,{tags:e})}v({imageTimings:a}),f({status:"DISABLED"}),(0,l.A9)(`images.${(0,r.KJ)(o)}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:d}})}break}}}),(e=>("LAYOUT"===e.status?500:"TIMING"===e.status&&100)||null)(y))}},790348:(e,t,n)=>{n.d(t,{A9:()=>p,DG:()=>d,H:()=>h,S$:()=>m,iF:()=>u});var i=n(172071),a=n(383434),o=n(50286),r=n(7789);const s=(0,a.X)("logPwtStats");let l=null,c=!0;function d(e){l={browserName:e.userAgent.browserName,browserVersion:e.userAgent.browserVersion,deviceType:(0,o.Mq)(e),isAuthenticated:e.isAuthenticated,isBot:e.isBot,isSocialBot:e.isSocialBot}}const u=e=>{l&&(l.historyAction=e)},p=(e,t={sampleRate:1},n=!0)=>{const a=r.DQ?1:t.sampleRate;if(!l)return s("pwt.metrics_quality.no_context"),void i.Z.increment("pwt.metrics_quality.no_context",a,{eventName:e});const{browserName:o,browserVersion:c,deviceType:d,isBot:u,isSocialBot:p}=l,h=`pwt.${(p?"socialBot":u&&"bot")||"nonbot"}.metrics_quality.${d}.${e}`,m={...t.tags||{},browserName:o,browserVersion:(null==c?void 0:c.split(".")[0])||"0"},_=t.count;n&&(s(`${h}: ${"number"==typeof _?_:1}`),t.tags&&s(Object.entries(t.tags))),r.is||i.Z.count(h,"number"==typeof _?_:1,a,m)},h=(e,t)=>p(`ERROR.${null!=t&&t.action?t.action+".":""}${e}`,{tags:t}),m=({appLoadName:e,clientNavName:t},n)=>{if(l){const i="APP_VOLUME.";c?(p(i.concat(e),{tags:{browserSupportsPwtProfiler:!!n}}),c=!1):"PUSH"===l.historyAction&&p(i.concat(t),{tags:{browserSupportsPwtProfiler:!!n}})}else i.Z.increment("pwt.metrics_quality.no_context",1,{eventName:e.concat(`.${t}`)})}},543059:(e,t,n)=>{n.d(t,{Ao:()=>l,BA:()=>c,L8:()=>u,ZP:()=>p,at:()=>a,gQ:()=>s,tl:()=>d});var i=n(985271);const a="masonryPagination";let o={};const r=e=>` ${e}`,s=()=>{const e={};return Object.keys(o).forEach((t=>{(o[t]||[]).slice(0,3).forEach(((n,i)=>{e[i?`${t}_${i+1}`:t]=n}))})),e},l=(e,t)=>(o[e]||[]).filter((e=>e<t)).length,c=(e,t)=>l(e,t)>0,d=()=>{i.Z&&Object.keys(o).forEach((e=>((e,t)=>{const n=r(t);e.clearMarks(n),e.clearMeasures(n)})(i.Z,e))),o={}},u=e=>{i.Z&&(o[e]=(o[e]||[]).concat([i.Z.now()]),((e,t,n,i)=>{const a=r(t);e.measure(a,n,i)})(i.Z,e))},p=e=>{i.Z&&(o[e]=(o[e]||[]).concat([i.Z.now()]),((e,t)=>{const n=r(t);e.mark(n)})(i.Z,e))}},528961:(e,t,n)=>{n.d(t,{cC:()=>o,jy:()=>a,qr:()=>s,sk:()=>r});const i=e=>"number"==typeof e?Math.round(e):e,a=e=>({type:"I16",value:i(e)}),o=e=>({type:"I32",value:i(e)}),r=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},607150:(e,t,n)=>{n.d(t,{D3:()=>o,Hd:()=>l,jh:()=>s,rX:()=>r});var i=n(672115),a=n(156381);const o=e=>({...(0,i.Z)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),r=()=>{const{firstInputDelay:e,largestContentfulPaint:t}=(0,a.v2)();return{firstInputDelayStart:(null==e?void 0:e.startTime)||0,firstInputDelayEnd:(null==e?void 0:e.endTime)||0,largestContentfulPaint:t||0}},s=(e,t)=>Object.keys(t).reduce(((n,i)=>({...n,[`${e}${i}`]:t[i]})),{}),l=(e,t)=>Object.keys(e).reduce(((n,i)=>t.includes(i)?{...n,[i]:e[i]}:n),Object.freeze({}))},638089:(e,t,n)=>{n.d(t,{ng:()=>v,rA:()=>f});var i=n(602738),a=n(226464),o=n(22773),r=n(156381),s=n(543059),l=n(528961);const c=(e,t)=>(e||[]).reduce(((e,n)=>({...e,[`experiment.${n}`]:(0,l.sk)(t(n))})),{}),d=(e,t)=>"number"==typeof t?e(t):null,u=e=>e.reduce(((e,t)=>e+t),0),p=(e,t)=>Object.keys(t).reduce(((n,i)=>({...n,[`${e}${i}`]:t[i]})),{}),h=e=>{if(!e.length)return{};const t=e.map((({startTime:e,requestStart:t,responseStart:n,responseEnd:i})=>{const a=t||e;return{startTime:e,requestStart:a,responseStart:n||a,responseEnd:i}})),n=u(t.map((e=>e.requestStart-e.startTime))),i=u(t.map((e=>e.responseStart-e.requestStart))),a=u(t.map((e=>e.responseEnd-e.responseStart))),o=n+i+a,r=u(e.map((e=>e.decodedBodySize||0)));return{decodedBodySize:(0,l.cC)((s=r,Number(Number(s/1024).toFixed(3)))),"duration.all":(0,l.cC)(o),"duration.requestStartToResponseStart":(0,l.cC)(i),"duration.responseStartToResponseEnd":(0,l.cC)(a),"duration.startToRequestStart":(0,l.cC)(n)};var s},m=e=>{const t=e.filter((e=>!!e.responseEnd));return{...e.length?{...h(t),"count.completed":(0,l.cC)(t.length)}:{},"count.all":(0,l.cC)(e.length)}},_=e=>{const t=["timeSecond1","timeSecond2","timeSecond3"],n={timeSecond1:{start:0,end:0,count:0},timeSecond2:{start:0,end:0,count:0},timeSecond3:{start:0,end:0,count:0}},i={script_deferred:[],external:[],visually_complete:[],script:[],css:[],video:[],image:[],xmlhttprequest:[],other:[]};if(e.length){const{requestStart:a,startTime:o}=e[0].timing,r=a||o;n.timeSecond1.start=r,n.timeSecond1.end=r+1e3,n.timeSecond2.start=r+1e3,n.timeSecond2.end=r+2e3,n.timeSecond3.start=r+2e3,n.timeSecond3.end=r+3e3,e.forEach((e=>{const{timing:a}=e;i[e.category]=i[e.category].concat([a]),e.isDeferred&&(i.script_deferred=i.script_deferred.concat([a])),e.isExternal&&(i.external=i.external.concat([a])),e.isVisuallyCompleteRequired&&(i.visually_complete=i.visually_complete.concat([a]));const{requestStart:o,startTime:r,responseEnd:s}=a,l=o||r;t.forEach((e=>{const{start:t,end:i}=n[e];(l>=t&&l<i||l<t&&s>t)&&(n[e].count+=1)}))}))}const a={...p("concurrentRequests.",Object.keys(n).reduce(((e,t)=>e={...e,[t]:(0,l.cC)(n[t].count)}),{}))};return{...Object.keys(i).reduce(((e,t)=>({...e,...p(`resource.${t}.`,m(i[t]))})),a)}},g=(e,t,n)=>{var r;const{devicePixelRatio:s,navigator:c,innerWidth:u,innerHeight:p,performance:h}=window,{deviceMemory:m,hardwareConcurrency:_,platform:g,userAgent:v,connection:y}=c,{memory:f}=h,{appType:b,appVersion:x,browserName:w,browserVersion:S,deviceType:P,isAppShell:T,isAuthenticated:k,isBot:I,isSocialBot:A,locale:C,osName:E,stageName:j}=t,R="desktop"===P?b||5:b||6;let D;const{navigationType:O}=e;let L=null;if("initial_app_load"===O){var F;D=1;const e=null===(F=(0,i.Z)("navigation")[0])||void 0===F?void 0:F.transferSize;L=e?parseFloat((.001*e).toFixed(1)):null}else D=4;return{"app.type":(0,l.jy)(R),"app.version":(0,l.sk)(x),"browser.name":(0,l.sk)(w),"browser.version":(0,l.sk)(S),"cpu.speed":(0,l.jy)(_),"device.memory":(0,l.jy)(m),"device.type":(0,l.jy)(0),"device.typeName":(0,l.sk)(P),"device.version":(0,l.sk)("unknown"),"pwt.cause":(0,l.jy)(D),"net.effectiveType":(0,l.sk)((null==y?void 0:y.effectiveType)||null),"net.downlink":(0,l.cC)(d((e=>10*Math.round(e/10)),null==y?void 0:y.downlink)),"net.downlinkMax":(0,l.cC)(d((e=>10*Math.round(e/10)),null==y?void 0:y.downlinkMax)),"net.rtt":(0,l.cC)(d((e=>10*Math.round(e/10)),null==y?void 0:y.rtt)),"net.speed":(0,l.cC)((0,o.Hv)(n,!1)),"pwt.result":(0,l.jy)(1),"view.type":(0,l.cC)(0),"viewport.height":(0,l.cC)(p||0),"viewport.width":(0,l.cC)(u||0),devicePixelRatio:(0,l.cC)(s||0),isAppShell:(0,l.qr)(T),isAuthenticated:(0,l.qr)(k),isBot:(0,l.qr)(I),isSocialBot:(0,l.qr)(A),locale:(0,l.sk)(C),osName:(0,l.sk)(E),...null!==L&&{htmlResponseSize:(0,l.cC)(L)},nextHopProtocol:(0,l.sk)((null===(r=(0,i.Z)("navigation")[0])||void 0===r?void 0:r.nextHopProtocol)||null),platform:(0,l.sk)(g||null),profilerVersion:(0,l.sk)("3"),pwtActionName:(0,l.jy)((0,a.Rp)(e)),stageName:(0,l.sk)(j),userAgent:(0,l.sk)(v),usedJSHeapSize:(0,l.cC)((null==f?void 0:f.usedJSHeapSize)||0),totalJSHeapSize:(0,l.cC)((null==f?void 0:f.totalJSHeapSize)||0),jsHeapSizeLimit:(0,l.cC)((null==f?void 0:f.jsHeapSizeLimit)||0)}},v=({annotateExperiments:e,metricId:t,pwtStaticContext:n,binaryAnnotations:i={},performanceResourceTimings:a=[]})=>({...c(e,n.getExperimentGroup),...g(t,n,a),...i,stopwatchVersion:(0,l.jy)(1)}),y=(e,t)=>{var n;const{navigator:i}=window,{serviceWorker:a}=i,{surface:o,navigationType:c,isAuthenticated:d}=e,{cumulativeLayoutShiftScore:p,longTaskDurations:h}=(0,r.v2)();return{...h.length?{"longTask.count":(0,l.cC)(h.length),"longTask.maxDuration":(0,l.cC)(Math.max(...h)),"longTask.totalDuration":(0,l.cC)(u(h))}:{},cumulativeLayoutShiftScore:(0,l.cC)(100*p),"masonry.paginationMarkCount":(0,l.cC)((0,s.Ao)(s.at,t)),"metricId.isAuthenticated":(0,l.qr)(d),"metricId.navigationType":(0,l.sk)(c),"metricId.surface":(0,l.sk)(o),resourceBufferClearedCount:(0,l.jy)((0,s.Ao)("resourceBufferCleared",t)),scrollDuringLayout:(0,l.qr)((0,s.BA)("scrollDuringLayout",t)),serviceWorker:(0,l.qr)(a?!!a.controller:null),serviceWorkerState:(0,l.sk)((null==a||null===(n=a.controller)||void 0===n?void 0:n.state)||null)}},f=({annotateExperiments:e,binaryAnnotations:t={},entries:n,metricId:i,performanceResources:a,pwtEndTime:o,pwtStaticContext:r})=>({...t,..._(a),...c(e,r.getExperimentGroup),...g(i,r,n),...y(i,o)})},860273:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(985271);const a=()=>{const[e]=i.Z?i.Z.getEntriesByType("navigation"):[];return e}},453821:(e,t,n)=>{n.d(t,{i:()=>i,p:()=>r});const i=({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{const t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();return["js","mjs"].includes(n)?"script":"css"===n?"css":["mp4","m4v","mov","ts","m3u8"].includes(n)?"video":["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(n)?"image":"other"}}},a=e=>{const t=e.replace(new RegExp(`^${window.location.origin||""}`),""),n=document&&document.querySelector(`head > script[src='${t}']`);return!!n&&n.hasAttribute("defer")},o=e=>["pinimg","pinterest","pinterdev"].every((t=>!e.includes(`${t}`))),r=(e,t)=>{const n=i(e),{name:r}=e;return{category:n,isDeferred:"script"===n&&a(r),isExternal:o(r),isVisuallyCompleteRequired:"image"===n&&t.includes(r),timing:e}}},558775:(e,t,n)=>{n.d(t,{Z:()=>x});let i=null;const a=(e,t)=>(i=i||{results:[],context:t},i.results.push(e),i);var o=n(176532),r=n(7789),s=n(383434),l=n(226464),c=n(790348),d=n(860273),u=n(358864),p=n(602738),h=n(528961);const m=(e,t)=>Object.keys(e).reduce(((n,i)=>{const a=e[i];return a?{...n,[i]:{timestamp:t+a}}:n}),{}),_=({span:e,timeOrigin:t})=>{return{id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:m(e.annotationMap,t),binary_annotations:(n=e.binaryAnnotationMap,Object.keys(n).reduce(((e,t)=>{const i=n[t];if(!i)return e;const{value:a,type:o}=i;return null==a?e:e.concat({name:t,value:a,annotation_type:o})}),[]))};var n},g=(e,{startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:a,parentId:o,traceId:r})=>({name:`pwt/${e}`,startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:a,parentId:o,id:r}),v=({annotations:e})=>e.reduce(((e,{key:t,timestamp:n})=>({...e,[`server_${t}`]:{timestamp:n}})),{}),y=(e,t)=>({...e,annotations:{...v(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),f=({traceId:e,actionName:t,result:n,timeOrigin:i,serverDataToJoin:a})=>{let o=_({span:g(t,n),timeOrigin:i}),r=null;return a&&(o=y(o,a),r=((e,t,n)=>{var i;const a=(0,d.Z)();return(null==a?void 0:a.responseEnd)?y(_({span:{name:"html",startTime:0,endTime:(null==a?void 0:a.responseEnd)||1,annotationMap:{},binaryAnnotationMap:{nextHopProtocol:(0,h.sk)((null===(i=(0,p.Z)("navigation")[0])||void 0===i?void 0:i.nextHopProtocol)||null)},id:e.server_span_id||(0,u.Z)(),parentId:t},timeOrigin:n}),e):null})(a,e,i)),{trace_id:e,spans:[o,...r?[r]:[],...n.spans.map((e=>_({span:e,timeOrigin:i})))]}},b=(0,s.X)("reportResult");function x({metricId:e,pwtStaticContext:t,result:n,isAuth:i}){const{serverData:s}=t,d=(0,l.KJ)(e),u=`${n.type}.${d}`,p=`${n.type}.sampled.${d}`,h=void 0!==i&&{tags:{isAuth:i}}||void 0;if((0,c.A9)(n.reason?u.concat(`.${n.reason}`):u,h),(0,c.A9)(n.reason?p.concat(`.${n.reason}`):p,{...h,sampleRate:.5}),"COMPLETE"!==n.type)return void b(`Abort metric ${d}`,n);const m=null!==(_=window.performance)&&void 0!==_&&_.now?Date.now()-window.performance.now():"unknown";var _,g;if("unknown"===m)return b(`Unable to convert to absolute times for ${d} due to missing time origin`),void(0,c.A9)(`missingTimeOrigin.${d}`,h);if(r.is&&(window.PWT_LAB_DATA=a(n,t)),n.spans.length&&(n.spans=n.spans.map((e=>(e.parentId||e.id===n.traceId||"network_resources"===e.name||(e.parentId=n.traceId),e)))),!r.is){const i=e.navigationType&&"initial_app_load"===e.navigationType,a=n.traceId,l=f({traceId:a,actionName:d,result:n,timeOrigin:m,serverDataToJoin:i&&s||null});(0,o.Z)({type:"POST",url:"/_/_/trace/trace/",data:{report_data:JSON.stringify(l),report_context:JSON.stringify((g=t,{debugTrace:r.eD,locale:g.locale,stageName:g.stageName}))}}),b(`PinTrace ${d} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${a.toString(16)}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},672115:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},505771:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(358864),a=n(672115),o=n(528961);const r=({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_");function s(e,t){const{category:n,timing:s,isDeferred:l,isExternal:c,isVisuallyCompleteRequired:d}=e;return s.responseEnd&&("image"!==n||d)?{name:r(e),id:(0,i.Z)(),parentId:t,startTime:s.startTime,endTime:s.responseEnd,annotationMap:(0,a.Z)(s),binaryAnnotationMap:{category:(0,o.sk)(n),decodedBodySize:(0,o.cC)(s.decodedBodySize||0),initiatorType:(0,o.sk)(s.initiatorType),isDeferred:(0,o.qr)(l),isExternal:(0,o.qr)(c),name:(0,o.sk)(s.name),nextHopProtocol:(0,o.sk)(s.nextHopProtocol),transferSize:(0,o.cC)(s.transferSize||0)}}:null}},31062:(e,t,n)=>{n.d(t,{ku:()=>T,Jx:()=>w,PY:()=>P});var i=n(860273),a=n(156381);const o=()=>(0,a.PJ)().reduce(((e,{identifier:t,loadTime:n,renderTime:i})=>e[`${t}_loadTime`]?e[`${t}_dupe_loadTime`]?{...e,[`${t}_dupe_loadTime`]:n,[`${t}_dupe_renderTime`]:i}:e:{...e,[`${t}_loadTime`]:n,[`${t}_renderTime`]:i}),Object.freeze({}));var r=n(672115),s=n(607150),l=n(22773),c=n(464609);const d=e=>{switch(e){case"pin_closeup":{const e=(0,c.Z)();return(e=>{const t=(0,l.y0)();return e.reduce(((e,{name:n,match:i})=>t.filter((e=>i(e))).slice(0,2).reduce(((e,t,i)=>({...e,...(0,s.jh)(`${n}${i?"_dupe1":""}_`,(0,r.Z)(t))})),e)),Object.freeze({}))})([{name:"mainImage",match:({name:t})=>t===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}default:return{}}};var u=n(169213),p=n(358864),h=n(558775),m=n(505771),_=n(383434),g=n(543059),v=n(453821),y=n(638089),f=n(790348);const b=(0,_.X)("LightStopwatch"),x={},w=({annotateExperiments:e,annotateMarks:t,annotateResourceTimingForSurface:n,name:a,pwtStaticContext:r})=>{const l=(()=>{let e=[],t=null;if(window.PerformanceObserver){const n=1e3;t=(0,u.Z)({entryTypes:["resource"]},(t=>{e=e.concat(t.getEntries()),e.length>n&&(e=e.slice(-n))}))}return{get:()=>e,disconnect:()=>{t&&t.disconnect()}}})();let c=!0,_={};(0,f.A9)(`TIMING.${a}`,{tags:{isAuth:r.isAuthenticated}});const w={type:"stopwatch",name:a,navigationType:"initial_app_load"},S={abort:e=>{c?(c=!1,(0,h.Z)({metricId:w,pwtStaticContext:r,result:{type:"ABORT",reason:e}})):(0,f.H)("duplicate_abort_action",{action:a})},error:(e,t)=>{const n={...t,action:a};c?(e&&(0,f.H)(e,n),l&&l.disconnect(),c=!1):(0,f.H)("duplicate_error_action",n)},stop:u=>{if(!c)return void(0,f.H)("duplicate_stop_action",{action:a});c=!1,l.disconnect();const b=(0,p.Z)(),x=(0,i.Z)(),S=l.get(),P={type:"COMPLETE",traceId:(0,p.Z)(),startTime:0,endTime:u,spans:[{name:"network_resources",id:b,startTime:0,endTime:u,annotationMap:{},binaryAnnotationMap:{},parentId:null},...S.map((e=>(0,m.Z)((0,v.p)(e,[]),b))).filter(Boolean)],annotationMap:{...(0,s.jh)("resource_",n?d(n):{}),...(0,s.jh)("element_",o()),...(0,s.jh)("mark_",t&&t.length?(0,s.Hd)((0,g.gQ)(),t):{}),...(0,s.jh)("browser_",x?(0,s.D3)(x):{})},binaryAnnotationMap:(0,y.ng)({annotateExperiments:e,metricId:w,pwtStaticContext:r,performanceResourceTimings:S,binaryAnnotations:_})};(0,h.Z)({metricId:w,pwtStaticContext:r,result:P,isAuth:r.isAuthenticated})},addBinaryAnnotation:(e,t,n)=>{b(`adding binary annotation {${e}: ${String(t)}}`),_={..._,[e]:{value:t,type:n}}}};return x[a]=S,S},S=e=>x[e],P=e=>!!S(e),T=({stopwatchName:e,binaryAnnotationName:t,value:n,annotationType:i})=>{const a=S(e);a&&a.addBinaryAnnotation(t,n,i)}},156381:(e,t,n)=>{n.d(t,{Af:()=>g,Bn:()=>m,Kj:()=>p,PJ:()=>l,UQ:()=>v,Ux:()=>c,on:()=>r,v2:()=>d});var i=n(581341),a=n(169213);const o={cumulativeLayoutShiftScore:0,firstInputDelay:null,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},r=()=>{o.longTaskDurations=[]},s=(0,i.Z)((()=>o.elementTimings)),l=()=>s.get(),c=e=>{e&&s.save(),o.elementTimings=[]},d=()=>o;let u=0;const p=()=>u;let h;const m=()=>h;let _;const g=()=>_,v=()=>{(0,a.Z)({type:"element",buffered:!0},(e=>{o.elementTimings=o.elementTimings.concat(e.getEntries().reduce(((e,{identifier:t,loadTime:n,renderTime:i})=>e.concat("string"==typeof t&&"number"==typeof n&&"number"==typeof i?[{identifier:t,loadTime:n,renderTime:i}]:[])),[]))})),(0,a.Z)({entryTypes:["longtask"]},(e=>{e.getEntries().map((e=>o.longTaskDurations.push(e.duration)))}),(()=>r())),(0,a.Z)({type:"first-input",buffered:!0},((e,t)=>{const n=e.getEntries()[0];n&&n.startTime&&n.processingStart&&(o.firstInputDelay={startTime:n.startTime,endTime:n.processingStart},_=o.firstInputDelay.startTime),t.disconnect()}),(()=>{o.firstInputDelay=null})),(0,a.Z)({type:"largest-contentful-paint",buffered:!0},(e=>{const t=e.getEntries(),n=t.length,i=t[n-1];i&&(u=n,o.largestContentfulPaint=i.renderTime||i.loadTime||null,h=i.renderTime||i.loadTime||null)})),(0,a.Z)({type:"layout-shift",buffered:!0},(e=>{e.getEntries().forEach((e=>{e.hadRecentInput||(o.cumulativeLayoutShiftScore+=e.value)}))}))}},311560:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";default:return"OTHER"}}},581341:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{let t=null;return{get:()=>t||e(),save:()=>{t=e()}}}},435851:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{const{deviceType:t,isBot:n,isSocialBot:i}=e;return`coreWebVitalsLite.v1.${(i?"socialBot":n&&"bot")||"nonbot"}.${t}`}},69028:(e,t,n)=>{function i(e){return e.split("/")[3]||"default"}n.d(t,{Z:()=>i})},169213:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t,n)=>{if(!window.PerformanceObserver)return null;try{const i=new window.PerformanceObserver(t);return i.observe(e),window.addEventListener("beforeunload",(()=>{i.disconnect()})),n&&window.addEventListener("popstate",(()=>{n()})),i}catch(i){return null}}},464609:(e,t,n)=>{n.d(t,{Z:()=>a,f:()=>i});const i="closeupImage",a=()=>{if(!document.querySelector)return null;const e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},358864:(e,t,n)=>{function i(){let e="";for(let t=0;t<15;t+=1){e+="0123456789"[Math.floor(10*Math.random())]}return Number(e)}n.d(t,{Z:()=>i})},22773:(e,t,n)=>{n.d(t,{Cg:()=>_,Eg:()=>v,Hv:()=>f,LH:()=>y,MM:()=>b,X_:()=>p,y0:()=>g});var i=n(581341),a=n(169213),o=n(543059),r=n(602738),s=n(7789),l=n(453821),c=n(790348);let d;function u(){window.performance&&window.performance.clearResourceTimings&&((0,o.ZP)("resourceBufferCleared"),s.DQ&&console.info("Warning: Clearing resource timings in default buffer."),(0,c.A9)("resourceBufferSize",{count:(0,r.Z)("resource").length}),window.performance.clearResourceTimings())}const p=({size:e})=>{if(window.performance){window.PerformanceObserver?(d=(0,r.Z)("resource"),(0,a.Z)({entryTypes:["resource"]},(t=>{d=(d||[]).concat(t.getEntries()),d.length>e&&(d=d.slice(-e))}))):(window.addEventListener("popstate",(()=>{(0,r.Z)("resource").length>e&&u()})),window.performance.setResourceTimingBufferSize&&window.performance.setResourceTimingBufferSize(e));try{window.performance.onresourcetimingbufferfull=()=>{d||u()}}catch(t){}}},h=()=>d||(0,r.Z)("resource"),m=(0,i.Z)(h),_=h,g=()=>m.get(),v=e=>{e&&m.save(),d&&((0,c.A9)("customBufferSize",{count:d.length}),d=[]),u()},y=()=>({customBufferSize:d?d.length:0,defaultBufferSize:(0,r.Z)("resource").length}),f=(e,t=!0)=>{let n=0,i=0;const a=(o=e.filter((e=>t?!("image"!==(0,l.i)(e)||(e.responseEnd||(n+=1),e.transferSize||(i+=1),!e.responseEnd||!e.transferSize)):!!e.responseEnd&&!!e.transferSize)).map((e=>8*(e.transferSize||0)/((e.responseEnd-e.responseStart)/1e3)/1e3))).length?o.reduce(((e,t)=>e+t),0)/o.length:null;var o;return t&&(n>0&&(0,c.A9)("images.downloadSpeed.noResponseEnd",{tags:{count:n}},!1),i>0&&(0,c.A9)("images.downloadSpeed.transferSize",{tags:{count:i}},!1)),a},b=e=>{if(!e)return"unknown";const t=Math.floor(e/1e3);return t<1?"0-1":t<5?"1-5":t<10?"5-10":t<20?"10-20":t<40?"20-40":t<80?"40-80":"80_or_above"}},602738:(e,t,n)=>{function i(e){var t,n;return(null===(t=window)||void 0===t||null===(n=t.performance)||void 0===n?void 0:n.getEntriesByType)&&window.performance.getEntriesByType(e)||[]}n.d(t,{Z:()=>i})},985271:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(a=window.performance)&&a.clearMarks&&a.clearMeasures&&a.clearResourceTimings&&a.getEntries&&a.getEntriesByName&&a.getEntriesByType&&a.mark&&a.measure&&a.now&&a.setResourceTimingBufferSize?a:null;var a},681227:(e,t,n)=>{function i(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,n)=>e[n]-e[t])).slice(0,3)}return null}function a(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function o(e,t,n){const{videos:i,is_downstream_promotion:a,is_promoted:o,story_pin_data_id:r,board:s}=e;return!(o||a||(!i||!i.id)&&!r||t||null!=s&&s.is_collaborative&&s.collaborated_by_me||n)}n.d(t,{At:()=>i,J6:()=>o,Ud:()=>a})},561195:(e,t,n)=>{n.d(t,{A:()=>r,Z:()=>s});var i=n(667294),a=n(883119),o=n(785893);const r=({fill:e,width:t,color:n})=>{const r="half"===e?(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)(a.xu,{position:"absolute",children:(0,o.jsx)(a.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,o.jsx)(a.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,o.jsx)(a.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:12});return(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock","data-test-id":`rating-star-${e}`,children:r})};function s({max_rating:e,rating:t,width:n,color:a}){const s=[],l=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(e)||5,parseFloat(t)||0);if(Number.isNaN(l))return null;const c=Math.floor(l),d=l-c;return[...Array(c).keys()].forEach((e=>s.push((0,o.jsx)(r,{color:a,fill:"full",width:n},e)))),d>=.75?s.push((0,o.jsx)(r,{color:a,fill:"full",width:n},s.length)):d>=.25&&s.push((0,o.jsx)(r,{color:a,fill:"half",width:n},s.length)),[...Array(5-s.length).keys()].forEach((()=>s.push((0,o.jsx)(r,{color:a,fill:"empty",width:n},s.length)))),(0,o.jsx)(i.Fragment,{children:s})}},923297:(e,t,n)=>{function i({m:e=0,h:t=0}){let n;return n=t<=0?t:e>45?t+1:e>15?t+.5:t,{m:e,h:t,rm:t>0?0:e,rh:n}}function a(e){const t=Math.floor(e/3600);return i({m:Math.floor(e%3600/60),h:t})}n.d(t,{X:()=>i,u:()=>a})},844897:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),a=n(485710),o=n(985913),r=n(883119),s=n(785893);function l({category:e,ingredients:t,textSize:n="300"}){return(0,s.jsxs)(r.xu,{children:[e&&(0,s.jsx)(r.xu,{children:(0,s.jsx)(r.xv,{weight:"bold",size:n,children:e})}),(0,s.jsx)("ul",{children:t.map(((e,t)=>(0,s.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,s.jsx)(r.xu,{marginTop:1,children:(0,s.jsxs)(r.xv,{size:n,children:[" ",e.amt||null," ",e.name]})})},t)))})]})}var c=n(134185),d=n(319530),u=n(898781),p=n(288889),h=n(578661),m=n(773285);function _({columnGap:e,recipeProps:t,marginOverrides:n}){const _=(0,u.ZP)(),{diets:g,image:v,name:y,categorizedIngredients:f,fromAggregatedData:b}=t.recipe,{checkExperiment:x}=(0,m.F)(),w=x("closeup_dweb_onepin_title_and_description").anyEnabled,S=_._('Ingredients', 'Ingredients title and count in closeup recipe description', 'Ingredients title and count in closeup recipe description');let P;if(f&&f.length){const e=[];f.forEach((t=>e.push(t.ingredients)));const t=(T=e.filter(Boolean),T.reduce(((e,t)=>e.concat(t)),[])).length;P=f&&f.length&&t?(0,o.Z)(_.ngettext('{{ count }} ingredient', '{{ count }} ingredients', t, 'Ingredients title and count in closeup recipe description', 'Ingredients title and count in closeup recipe description'),{count:t.toString()}):S}var T;const k=w?8:(null==n?void 0:n.outerMarginTop)||80;return(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginTop:k}},children:(0,s.jsxs)(c.Z,{itemScope:!0,itemType:h.G,children:[(0,s.jsx)("meta",{content:y,itemProp:"name"}),(0,s.jsx)("meta",{content:v,itemProp:"image"}),!w&&(0,s.jsx)(r.xu,{"data-test-id":"ingredients-heading",marginBottom:4,children:(0,s.jsx)(r.X6,{size:"400",children:b?y:P})}),!w&&g&&g.length>0&&(0,s.jsx)(r.xu,{marginBottom:4,children:(0,s.jsx)(r.xv,{inline:!0,size:"200",children:g.join(" ")})}),w?(0,s.jsx)(a.Z,{heading:S,children:(0,s.jsx)(d.Z,{children:(0,s.jsx)(r.xu,{marginTop:4,children:f.map((({category:e,ingredients:t},a)=>{const o=`ingredient-${a}`;return(0,s.jsx)(i.Fragment,{children:(0,s.jsx)(r.xu,{marginBottom:(null==n?void 0:n.ingredientMarginBottom)||4,children:(0,s.jsx)(l,{category:e,ingredients:t,textSize:p.n})})},o)}))})})}):Array.isArray(f)&&f.length>0&&(1===f.length?(0,s.jsx)(r.xu,{column:12,"data-test-id":"single-column-ingredients",children:f.map((({category:e,ingredients:t},i)=>(0,s.jsx)(r.xu,{marginBottom:(null==n?void 0:n.ingredientMarginBottom)||2,children:(0,s.jsx)(l,{category:e,ingredients:t,textSize:"100"})},i)))}):(0,s.jsxs)(r.xu,{display:"flex","data-test-id":"dual-column-ingredients",children:[(0,s.jsx)(r.xu,{column:6,children:f.slice(0,Math.ceil(f.length/2)).map((({category:e,ingredients:t},i)=>(0,s.jsx)(r.xu,{marginBottom:(null==n?void 0:n.ingredientMarginBottom)||2,children:(0,s.jsx)(l,{category:e,ingredients:t,textSize:"100"})},i)))}),e,(0,s.jsx)(r.xu,{column:6,children:f.slice(Math.ceil(f.length/2)).map((({category:e,ingredients:t},i)=>(0,s.jsx)(r.xu,{marginBottom:(null==n?void 0:n.ingredientMarginBottom)||2,children:(0,s.jsx)(l,{category:e,ingredients:t,textSize:"100"})},i)))})]}))]})})}},469823:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(561195),o=n(883119),r=n(785893);function s({recipeData:e}){var t;if(null!==(t=e.aggregate_rating)&&void 0!==t&&t.rating_value&&e.aggregate_rating.review_count){var n,s,l;const t="number"==typeof(null===(n=e.cook_times)||void 0===n||null===(s=n.cook)||void 0===s?void 0:s.m)&&"number"==typeof(null===(l=e.cook_times.prep)||void 0===l?void 0:l.m)?`${e.cook_times.cook.m+e.cook_times.prep.m} minutes  `:"";return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(a.Z,{rating:e.aggregate_rating.rating_value,max_rating:e.aggregate_rating.best_rating,width:12},e.aggregate_rating.rating_value),(0,r.jsx)(o.xv,{inline:!0,size:"200",children:` ${e.aggregate_rating.review_count}  ${t}`})]})}return null}},886858:(e,t,n)=>{n.d(t,{Z:()=>r,k:()=>o});const i=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","original_referrer","source","top_level_source","top_level_source_depth"]),a=e=>!i.has(e)&&!e.startsWith("__track__");function o(e){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce(((e,t)=>{const[n,i]=t.split("=");return e[n]=JSON.parse(i),e}),{})}const r=e=>e?Object.keys("object"==typeof e&&e||{}).filter((e=>"string"==typeof e)).filter(a).sort().map((t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`)).join(","):""},932995:(e,t,n)=>{function i(e,t,n){const i=[...e],a=i.splice(t,1)[0];return i.splice(n,0,a),i}n.d(t,{Z:()=>i})},780280:(e,t,n)=>{n.d(t,{B:()=>u,LC:()=>c,P2:()=>l,fH:()=>d,gf:()=>p});var i=n(667294),a=n(608832),o=n(620707),r=n(785893);const s=(0,i.createContext)();function l({children:e,value:t}){const[n,l]=(0,i.useState)(t),c=(0,i.useMemo)((()=>({requestContext:n,updateRequestContext:e=>{const t={...n,...e};(0,o.Ak)(n,e)||l(t),(0,a.J)(t)}})),[n]);return(0,r.jsx)(s.Provider,{value:c,children:e})}const c=({children:e})=>{const t=(0,i.useContext)(s);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)},d=({children:e})=>{const t=(0,i.useContext)(s);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)};function u(){const e=(0,i.useContext)(s);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function p(){const e=(0,i.useContext)(s);if(!e)throw new Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},608832:(e,t,n)=>{let i;function a(e){i=e}function o(){return i}n.d(t,{J:()=>a,l:()=>o})},505920:(e,t,n)=>{n.d(t,{UZ:()=>u,Z8:()=>p,my:()=>h});var i=n(667294),a=(n(702664),n(214494)),o=n(425288),r=n(785893);function s(e,t,n){var i;const a=[...null!==(i=t[e][n.payload.name])&&void 0!==i?i:[],n.payload.handler],o={...t};return o[e]={...t[e],[n.payload.name]:a},o}function l(e,t,n){if(!t[e][n.payload.name])return t;const i=t[e][n.payload.name].filter((e=>e!==n.payload.handler)),a={...t};return a[e]={...t[e],[n.payload.name]:i},a}const{Provider:c,useHook:d}=(0,o.Z)("ResourceContext");function u({children:e}){const[{listeners:t,moreListeners:n},o]=(0,i.useReducer)(((e,t)=>{switch(t.type){case"addListener":return s("listeners",e,t);case"addMoreListener":return s("moreListeners",e,t);case"removeListener":return l("listeners",e,t);case"removeMoreListener":return l("moreListeners",e,t);default:return e}}),{listeners:{},moreListeners:{}});a.Z.fetchCompleteCallback=({resource:e,options:n,response:i,normalizedResponse:a,refresh:o,resourceSchema:r})=>{t[e]&&t[e].forEach((t=>t({isRefresh:o,normalizedResponse:a,options:n,schema:r,resource:e,response:i})))},a.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:i,normalizedResponse:a,refresh:o,resourceSchema:r})=>{n[e]&&n[e].forEach((n=>n({isRefresh:o,normalizedResponse:a,options:t,schema:r,resource:e,response:i})))};const d=(0,i.useMemo)((()=>({listenerDispatch:o})),[]);return(0,r.jsx)(c,{value:d,children:e})}function p(e,t){const{listenerDispatch:n}=d();(0,i.useEffect)((()=>(n({type:"addListener",payload:{name:e,handler:t}}),()=>{n({type:"removeListener",payload:{name:e,handler:t}})})))}function h(e,t){const{listenerDispatch:n}=d();(0,i.useEffect)((()=>(n({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{n({type:"removeMoreListener",payload:{name:e,handler:t}})})))}},813171:(e,t,n)=>{n.d(t,{Z:()=>i});class i extends Error{constructor(...e){var t,n,i;super(...e),i="ServerResourceError",(n="name")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}static fromPlainObject(e,t){const n=new i;return e.message&&(n.message=e.message),e.message_detail&&(n.message_detail=e.message_detail),e.original_message&&(n.original_message=e.original_message),e.code&&(n.code=e.code),e.http_status&&(n.http_status=e.http_status),e.api_error_code&&(n.api_error_code=e.api_error_code),e.stack_trace&&(n.stack_trace=e.stack_trace),e.extra_data&&(n.extra_data=e.extra_data),e.request_identifier&&(n.request_identifier=e.request_identifier),t&&(n.data=t),n}toString(){return"["+this.name+"] "+JSON.stringify({name:this.name,code:this.code,http_status:this.http_status,api_error_code:this.api_error_code,stack_trace:this.stack_trace,extra_data:this.extra_data,request_identifier:this.request_identifier})}}},248327:(e,t,n)=>{n.d(t,{U:()=>u,b:()=>p});var i=n(886858),a=n(214494),o=n(414327),r=n(718368),s=n(483025),l=n(782677);function c({data:e,opts:{bookmark:t,options:n,schema:i},resource:a}){const o=((e,{bookmark:t,options:n,schema:i})=>{const a=i||s.Z[e];return"function"==typeof a?a({resource:e,options:n,bookmark:t}):a})(a,{bookmark:t,options:n,schema:i});return{normalizedResponse:o&&e?(0,l.Fv)(e,o):null,resourceSchema:o}}function d({fetchOptions:e,resource:t,retry:n}){return(s,l)=>{var u,p,h;const{bookmark:m,headers:_,options:g,refresh:v,schema:y}=e,f=(0,i.Z)(g);if(null!==(u=l().resources)&&void 0!==u&&null!==(p=u[t])&&void 0!==p&&null!==(h=p[f])&&void 0!==h&&h.fetching&&!n)return Promise.resolve();const b=n?n.bookmark:m,x=b?{...g,bookmarks:[b]}:g;return s((0,o.LQ)(t,g,!0)),a.Z.create(t,x).callGet(void 0,_).then((i=>{var l;const u=null===(l=i.resource_response)||void 0===l?void 0:l.data,[p]=i.bookmarks||[];if(Array.isArray(u)&&0===u.length&&p&&p!==r.q){const i=n?n.count:0;if(!(i>=r.s))return s(d({resource:t,fetchOptions:e,retry:{count:i+1,bookmark:p}}))}!function(e,t){"VisualSearchFlashlightUnifiedResource"===e&&(t=t.results)}(t,u);const{normalizedResponse:h,resourceSchema:_}=c({data:u,opts:{bookmark:m,options:g,schema:y},resource:t})||{normalizedResponse:null,resourceSchema:void 0};return m?(s((0,o.Dm)(t,g,i,h,_)),a.Z.fetchMoreCompleteCallback&&a.Z.fetchMoreCompleteCallback({resource:t,options:g,response:i,normalizedResponse:h,refresh:v,resourceSchema:_})):(s((0,o.Sr)(t,g,i,h,v,_)),a.Z.fetchCompleteCallback&&a.Z.fetchCompleteCallback({resource:t,options:g,response:i,normalizedResponse:h,refresh:v,resourceSchema:_})),Promise.resolve()}),(e=>{s((0,o.Tl)(t,g,e))}))}}const u=(e,{bookmark:t,headers:n,options:i,schema:a})=>d({resource:e,fetchOptions:{bookmark:t,headers:n,options:i,refresh:!1,schema:a}}),p=(e,{headers:t,options:n,schema:i})=>d({resource:e,fetchOptions:{headers:t,options:n,refresh:!0,schema:i}})},387246:(e,t,n)=>{n.d(t,{Z:()=>a});const i=["bookmark","code","data","endpoint_name","error","http_status","message","status"];function a(e){const t={};return Object.keys(e).filter((e=>!i.includes(e))).forEach((n=>{t[n]=e[n]})),t}},718368:(e,t,n)=>{n.d(t,{q:()=>i,s:()=>a});const i="-end-",a=10},204088:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(704115),a=n(826067),o=n(314880);function r({experimentHash:e,windowIsInFocus:t}){try{const n={"X-Pinterest-AppState":t?"active":"background"};e&&(n["X-Pinterest-ExperimentHash"]=e);const r=(0,i.Z)();r.force_country&&(n["X-Force-Country"]=r.force_country);const s=(0,a.JJ)();if(s&&(n["X-Pinterest-Source-Url"]=s),"undefined"!=typeof window){const e=(0,o.H)();e&&(n["X-Pinterest-PWS-Handler"]=e)}return n}catch(n){return{}}}},338739:(e,t,n)=>{n.d(t,{AF:()=>i,KK:()=>a,aW:()=>s,cR:()=>o,se:()=>l,zP:()=>r});const i="CREATE_COMPLETE",a="FETCHING",o="FETCH_ERROR",r="FETCH_COMPLETE",s="FETCH_MORE_COMPLETE",l="RESOURCE_INVALIDATE"},414327:(e,t,n)=>{n.d(t,{Dm:()=>l,LQ:()=>o,Sr:()=>s,Tl:()=>r,XM:()=>a,jB:()=>c});var i=n(338739);function a(e,t,n,a){return{type:i.AF,payload:{resource:e,options:t,response:n,normalizedResponse:a}}}function o(e,t,n){return{type:i.KK,payload:{resource:e,options:t,isFetching:n}}}const r=(e,t,n)=>({type:i.cR,payload:{resource:e,options:t,error:n}});function s(e,t,n,a,o,r){return{type:i.zP,payload:{isRefresh:o,normalizedResponse:a,options:t,resource:e,response:n,schema:r}}}function l(e,t,n,a,o){return{type:i.aW,payload:{resource:e,options:t,response:n,normalizedResponse:a,schema:o}}}function c(e,t){return{type:i.se,payload:{resource:e,optionsOrOptionsKey:t}}}},784590:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),a=n(702664),o=n(886858),r=n(718368),s=n(276775),l=n(780280),c=n(248327);const d={};function u(e){const{enabledRouteRefresh:t,__unstableEnableSuspenseSupport:n,headers:u,name:p,noCache:h,options:m,schema:_}=null!=e?e:{name:"DisabledResource",options:null},g=!e,v=(0,a.useDispatch)(),y=(0,o.Z)(m),f=(0,i.useRef)(null),b=(0,i.useRef)(),x=(0,s.useHistory)(),w=x&&"POP"!==x.action,S=e=>(e[p]||d)[y]||d,P=(0,a.useSelector)((({resources:e})=>S(e).nextBookmark)),T=(0,a.useSelector)((({resources:e})=>S(e).data)),k=(0,a.useSelector)((({resources:e})=>S(e).auxData)),I=(0,a.useSelector)((({resources:e})=>S(e).error)),A=(0,a.useSelector)((({resources:e})=>Boolean(S(e).fetching))),C=Boolean(I)||void 0!==T,E=C&&!A&&P===r.q,j=Boolean(C&&t&&w&&!g),[R,D]=(0,i.useState)(j),O=(0,i.useCallback)((e=>{f.current=v((0,c.U)(p,{options:m,schema:_,bookmark:e,headers:u}))}),[v,p,y,_,u]),L=()=>{f.current=v((0,c.b)(p,{options:m,schema:_,headers:u}))},{isBot:F}=(0,l.B)(),N=()=>{if(!g&&b.current!==y){const e=void 0===b.current;b.current=y,!C&&!A||e&&I&&(({httpStatus:e})=>!e||e>=500)(I)?O():(!F&&h||j)&&L()}};(0,i.useEffect)((()=>{n||N()})),n&&N();const M=(0,i.useCallback)((()=>{g||(L(),D(!0))}),[g,c.b,p,y,u,D]),z=(0,i.useCallback)((()=>{!P||E||A||g||O(P)}),[g,O,P,E,A]);if(f.current)if(C&&!A)f.current=null;else if(n)throw f.current;const Z=(0,i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:z,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:M}),B={auxData:k,data:T,error:I,fetchMore:z,isAtEnd:E,isFetching:A,isLoaded:C,isRefreshing:R,nextBookmark:P,refresh:M};return(0,a.shallowEqual)(B,Z.current)||(!R||!Z.current.data&&j||(0,a.shallowEqual)(B.data,Z.current.data)||(B.isRefreshing=!1,D(!1)),Z.current=B),Z.current}},418614:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(784590),a=n(50286),o=n(780280),r=n(826067);var s=n(276775);function l({checkExperiments:e,disableFetch:t,viewer:n}){var i;const l=(0,s.useLocation)(),c=(0,s.useRouteMatch)(),d=(0,o.B)(),u=function({advertiser:e,deviceType:t,location:{pathname:n,search:i},inviteCode:a,match:{params:o,path:s},viewer:l}){return{advertiser:e,deviceType:t,routeData:{inviteCode:a,matchPath:s,params:o,parsedSearch:(0,r.mB)(i),pathname:n,search:i},user:{country:l.country||void 0,id:l.id||void 0,isAuth:l.isAuth,isEmployee:!!l.isEmployee||!1,isPartner:!!l.isPartner||!1,username:l.username||void 0,firstHomeFeedRequestAfterNux:l.firstHomeFeedRequestAfterNux||void 0}}}({advertiser:d.advertiser,deviceType:(0,a.Mq)(d),location:l,match:c,viewer:n,inviteCode:null!==(i=d.inviteCode)&&void 0!==i?i:""}),p=!!t&&t(u),h=!(!p&&e)||e(d.experimentsClient);return{args:u,fetchDisabled:p||!h}}var c=n(19121);function d({getOptions:e,checkExperiments:t,disableFetch:n,...a}){const o=function(){const e=(0,c.Z)();return{country:e.country||void 0,id:e.id||void 0,isAuth:e.isAuth,isEmployee:!!e.isEmployee||!1,isPartner:!!e.isPartner||!1,username:e.username||void 0,firstHomeFeedRequestAfterNux:e.firstHomeFeedRequestAfterNux||void 0}}(),{args:r,fetchDisabled:s}=l({checkExperiments:t,disableFetch:n,viewer:o}),d=e?e(r):void 0;return(0,i.Z)(s?null:{options:d,...a})}},817656:(e,t,n)=>{n.d(t,{AB:()=>i,Ej:()=>a,Sf:()=>o});const i=412,a=429,o=500},134185:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);const a=e=>{const t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,i.jsx)("div",{"data-test-id":"rich-pin-information",...t,children:e.children||null})}},578661:(e,t,n)=>{n.d(t,{G:()=>i});const i="https://schema.org/Recipe"},736688:(e,t,n)=>{n.d(t,{QO:()=>l,V3:()=>r,cO:()=>u,dn:()=>c,fP:()=>d,j1:()=>p,v_:()=>s});var i=n(841726),a=n(867820),o=n(623568);const r=e=>{const{thumbnail:t,url:n,width:i,height:a,duration:o}=e||{};return t&&n&&i&&a&&{thumbnail:t,url:n,width:i,height:a,duration:o}||void 0};function s(e,t){if(t&&t.products&&t.products[0]){const n=t.products[0],i=!(!n.name&&!e),o=!(!t.aggregate_rating||0===t.aggregate_rating.rating_count&&0===t.aggregate_rating.review_count||Number.isNaN(parseFloat(t.aggregate_rating.rating_value))),r=!(!n.offer_summary||!n.offer_summary.min_price&&!n.offer_summary.price),s=i&&(o||r);return(({isEligible:e,hasName:t,hasAggregateRating:n,hasOffers:i})=>{(0,a.My)("closeup_main_pin.leaf_snippet.is_product",{isEligible:e,hasName:t,hasAggregateRating:n,hasOffers:i})})({isEligible:s,hasName:i,hasAggregateRating:o,hasOffers:r}),s}return!1}const l=(e,{userName:t,fullName:n})=>{const i=t||"";return{"@type":"Person",name:n||i,url:e+"/"+i}};function c(e,t,n,a,o,r){n=n.trim();const s=(t=t.trim())||r||n||a,l=()=>t||o;if(!e||!e.metatags)return{title:s,description:n||l()};const{description:c=""}=e.metatags;var d;return{title:s,description:(d=c,(0,i.o)(d||"").trim())||l()}}const d=(e,t,n)=>{let i=t;return n?(i="recipe"===e?n._('Pinterest Recipe', 'pin.closeup.leafsnippet.recipe', 'Default recipe title and description for crawlers'):"howto"===e?n._('Pinterest How To', 'pin.closeup.leafsnippet.howto', 'Default how to title and description for crawlers'):"video"===e?n._('Pinterest Video', 'pin.closeup.leafsnippet.video', 'Default video title and description for crawlers'):"product"===e?n._('Pinterest Product', 'pin.closeup.leafsnippet.product', 'Default product title and description for crawlers'):n._('Pin page', 'pin.closeup.leafsnippet.pin', 'Default pin title and description for crawlers'),{fallbackTitle:i,fallbackDescription:i}):{fallbackTitle:i,fallbackDescription:i}},u=e=>{if(!e)return;const t=e.rating_count,n=e.review_count;if(!(!!t||!!n)||Number.isNaN(parseFloat(e.rating_value)))return;const i=t||n;return{"@type":"AggregateRating",ratingValue:e.rating_value,ratingCount:i,bestRating:5,worstRating:1}},p=(e,t=!0)=>{var n,i,a,r;const s=!!(0,o.iR)(e.videos),l=t&&!!(0,o.cL)({embedSrc:null===(n=e.embed)||void 0===n?void 0:n.src,embedSubtype:null===(i=e.embed)||void 0===i?void 0:i.subtype,embedType:null===(a=e.embed)||void 0===a?void 0:a.type}),c=!(null===(r=e.story_pin_data)||void 0===r||!r.total_video_duration);return s||l||c}},857079:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(785893);function o({accessibilityLabel:e}){return(0,a.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(i.$j,{accessibilityLabel:e,show:!0})})}},995228:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(966476),o=n(464228),r=n(785893);function s({children:e,fallback:t,dangerouslyServerRenderForGraphQL:n=!1}){const s=t||null,l=(0,a.Z)(),c=(0,o.P)();return c&&"legacy"!==c?n||l?(0,r.jsx)(i.Suspense,{fallback:s,children:e}):s:(0,r.jsx)(i.Suspense,{fallback:s,children:e})}},947599:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(995228).Z},740990:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(667294).createContext)("undefined"!=typeof window?window:null)},909499:(e,t,n)=>{n.d(t,{Hd:()=>l,_R:()=>r,gi:()=>a,lw:()=>i,wF:()=>s,zh:()=>o});const i={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},a=e=>{switch(e){case i.PINS:return 0;case i.PINS_MINE:return null;case i.PINS_BUYABLE:return 1;case i.PINS_VIDEO:return 2;case i.BOARDS:return 3;case i.USERS:return 4;default:return null}},o=e=>{switch(e){case 0:return i.PINS;case 1:return i.PINS_BUYABLE;case 2:return i.PINS_VIDEO;case 3:return i.BOARDS;case 4:return i.USERS;default:return null}},r=e=>{switch(e){case i.PINS:return 43;case i.PINS_MINE:return 107;case i.PINS_BUYABLE:return 254;case i.PINS_VIDEO:return 3306;case i.BOARDS:return 44;case i.USERS:return 45;default:return null}},s=e=>{switch(e){case i.PINS:return 60;case i.PINS_MINE:return 63;case i.PINS_BUYABLE:return 3800;case i.PINS_VIDEO:return 64;case i.BOARDS:return 61;case i.USERS:return 62;default:return null}},l=e=>{switch(e){case i.USERS:return 1000392;case i.PINS_BUYABLE:return 1000391;case i.PINS:default:return 29}}},862628:(e,t,n)=>{function i(e){return(e||"").trim().replace(/\s+/g," ")}n.d(t,{Z:()=>i})},648284:(e,t,n)=>{function i({appliedProductFilters:e,autoCorrectionDisabled:t,filters:n,query:i,scope:a,selectedPinImgSig:o,user:r}){const s=[a,n,e,r,o,i].map((e=>null!=e?e:"")).join(":");return t?"auto-correction-disabled:"+s:s}function a(e){const{autoCorrectionDisabled:t,appliedProductFilters:n,appliedFilters:i,filters:a,selectedPinImgSig:o,query:r,rs:s,scope:l,bubbleId:c,user:d}=e;return{name:"BaseSearchResource",options:function({autoCorrectionDisabled:e=!1,appliedFilters:t=null,appliedProductFilters:n=null,bubbleId:i=null,filters:a=null,query:o=null,rs:r="direct_navigation",scope:s="pins",selectedPinImgSig:l=null,sourceId:c=null,user:d}){return{article:i,applied_filters:t,appliedProductFilters:n,auto_correction_disabled:e,corpus:l?"personalize":null,customized_rerank_type:l?"manas_graph_sage_only_wand_rewrite":null,filters:a,query:o,query_pin_sigs:l,redux_normalize_feed:!0,rs:r,scope:s,source_id:c,user:d}}({autoCorrectionDisabled:!!t,appliedProductFilters:n,appliedFilters:i,filters:a,query:r,rs:s,scope:l,selectedPinImgSig:o,bubbleId:c,user:d})}}n.d(t,{Ht:()=>a,Tb:()=>i})},762752:(e,t,n)=>{n.d(t,{D:()=>r,N:()=>o});var i=n(172071);const a=.1;async function o(){const e=navigator.serviceWorker;if(i.Z.increment("web_service_worker.update",a),e&&e.getRegistration){const n=await e.getRegistration();if(!n)return i.Z.increment("web_service_worker.update.registration.not_exist",a),await async function(){const e=navigator.serviceWorker;if(i.Z.increment("web_service_worker.install",a),e&&e.register)try{const t=await e.register("/sw.js");return i.Z.increment("web_service_worker.install.success",a),t}catch(t){throw i.Z.increment("web_service_worker.install.error",a),t}}();i.Z.increment("web_service_worker.update.registration.exist",a);try{return await n.update(),i.Z.increment("web_service_worker.update.success",a),n}catch(t){throw i.Z.increment("web_service_worker.update.fail",a),t}}}async function r(e){const t=navigator.serviceWorker;if(i.Z.increment("web_service_worker.unregister",a,{source:e||"unknown"}),t&&t.getRegistration)try{const n=await t.getRegistration();n?(i.Z.increment("web_service_worker.unregister.registration.exist",a,{source:e||"unknown"}),await n.unregister(),i.Z.increment("web_service_worker.unregister.success",a,{source:e||"unknown"}),async function(e){const t=navigator.serviceWorker;if(i.Z.increment("web_service_worker.clear_app_shell",a,{source:e||"unknown"}),t&&window.caches){const t=(await window.caches.keys()).find((e=>e.startsWith("workbox-precaching")));t?(i.Z.increment("web_service_worker.clear_app_shell.precache.exist",a,{source:e||"unknown"}),(await window.caches.open(t)).delete("/sw-shell.html"),i.Z.increment("web_service_worker.clear_app_shell.delete",a,{source:e||"unknown"})):i.Z.increment("web_service_worker.clear_app_shell.precache.not_exist",a,{source:e})}}(e)):i.Z.increment("web_service_worker.unregister.registration.not_exist",a,{source:e||"unknown"})}catch(n){i.Z.increment("web_service_worker.unregister.fail",a,{source:e||"unknown"})}}},735422:(e,t,n)=>{n.d(t,{$J:()=>T,AP:()=>L,Dm:()=>k,Fv:()=>S,H$:()=>R,In:()=>O,Ng:()=>P,Wj:()=>D,_P:()=>I,go:()=>w});var i=n(126098),a=n(214494),o=n(550858),r=n(30287),s=n(53987),l=n(867820),c=n(844974);const d="home",u="closeup",p="news_hub",h="board",m="profile",_="topic",g="today",v="business",y="search";let f;const b="_push",x=e=>{e.onupdatefound=()=>{(0,l.My)("mweb_service_worker.update_found")}},w=()=>Boolean("undefined"!=typeof navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller),S=()=>new Promise(((e,t)=>{if(!f)return void e();const n=navigator.serviceWorker,{pwaType:i,twaType:a}=f.getState().session,o=new URLSearchParams({source_url:window.location.pathname});i&&a&&(0,r.Rx)(a)&&(o.append("pwa_type",i),o.append("twa_type",a)),Boolean("undefined"!=typeof document&&document.referrer&&!document.referrer.startsWith(window.location.origin))&&o.append("referrer",document.referrer),n&&n.register?((0,l.My)("mweb_service_worker.install_attempt"),n.register(`/sw.js?${o.toString()}`).then((t=>{(0,l.My)("mweb_service_worker.install_success"),x(t),e(t)})).catch((e=>{(0,l.tj)("mweb_service_worker.install_fail",{error:e.message}),t(e)}))):e()})),P=()=>new Promise(((e,t)=>{const n=navigator.serviceWorker;n&&n.getRegistration?((0,l.My)("mweb_service_worker.update_attempt"),n.getRegistration().then((n=>{n?n.update().then((()=>{(0,l.My)("mweb_service_worker.update_success"),x(n),e(n)})).catch((e=>{(0,l.tj)("mweb_service_worker.update_fail",{error:e.message}),t(e)})):S().then(e)}))):e()})),T=()=>{var e;const t=null===(e=f)||void 0===e?void 0:e.getState().session.isAuthenticated;(0,l.My)(`mweb.${t?"auth":"unauth"}.register_service_worker`),S()},k=()=>{const e=navigator.serviceWorker;return e&&e.getRegistration?((0,l.My)("mweb_service_worker.unregister_attempt"),(0,o.Qi)(),e.getRegistration().then((e=>{if(e)return e.unregister().then((()=>((0,l.My)("mweb_service_worker.unregister_success"),navigator.serviceWorker&&window.caches?window.caches.keys().then((e=>{const t=e.find((e=>e.startsWith("workbox-precaching")));return t?window.caches.delete(t):null})).then((()=>(0,l.My)("mweb_service_worker.clear_app_shell"))):Promise.resolve()))).catch((e=>{(0,l.tj)("mweb_service_worker.unregister_fail",{error:e.message})}))}))):Promise.resolve()},I=()=>!(!w()||!("SyncManager"in window)),A=e=>(0,s.C$)(e)?d:(0,s.L6)(e)?u:(0,s.l4)(e)?p:(0,s.am)(e)?h:(0,s.cD)(e)?m:(0,s.En)(e)?y:(0,s.$V)(e)?_:(0,s.Zz)(e)?g:(0,s.Ni)(e)?v:"undefined",C=e=>{switch(A(e)){case d:return{viewType:1,viewParameter:92};case u:return{viewType:3,viewParameter:void 0};case p:return{viewType:107,viewParameter:3081};case h:return{viewType:5,viewParameter:void 0};case y:return{viewType:2,viewParameter:43};case _:return{viewType:210,viewParameter:void 0};case m:return{viewType:4,viewParameter:void 0};case v:return{viewType:409,viewParameter:3397};case g:return{viewType:1,viewParameter:3372};default:return{viewType:void 0,viewParameter:void 0}}},E=(e,t)=>{var n,i;return(0,l.tj)(e,{browser:null===(n=f)||void 0===n?void 0:n.getState().session.browser,version:Math.floor(parseInt(null===(i=f)||void 0===i?void 0:i.getState().session.browserVersion,10)),...t})},j=(0,i.Z)(),R="default"===j||"granted"===j,D=(e,t,n,i)=>{const o=navigator.serviceWorker,r=Boolean((0,c.qn)(b)),s={experimentName:n||"noExperiment",experimentGroup:i||"noGroup"};return o&&o.ready&&R&&!r?(t({event_type:13,view_type:170,component:13125,aux_data:{experiment_name:n,experiment_group:i}}),E(`mweb.notifications_upsell.${A(e)}.viewed`,s),o.ready.then((e=>e.pushManager.subscribe({userVisibleOnly:!0}))).then((n=>((e,t,n,i)=>{a.Z.create("WebPushDeviceResource",{}).callGet().then((t=>{const n=(({subscriptionId:e,endpoint:t})=>{return e||(n=t.split("/"))[n.length-1];var n})(e);if(t.resource_response.data[n])return;const i={registration_id:n,subscription_endpoint:e.endpoint};a.Z.create("WebPushDeviceResource",i).callCreate()})),(0,c.Nh)(b,"subscribed"),E(`mweb.notifications_upsell.${A(t)}.subscribed`,n);const o=C(t);i({component:13125,element:10357,event_type:102,view_type:o.viewType,view_parameter:o.viewParameter,aux_data:{experiment_name:n.experimentName,experiment_group:n.experimentGroup}})})(n,e,s,t)),(()=>((e,t,n)=>{(0,c.Nh)(b,"denied"),E(`mweb.notifications_upsell.${A(e)}.denied`,t);const i=C(e);n({component:13125,element:10358,event_type:102,view_type:i.viewType,view_parameter:i.viewParameter,aux_data:{experiment_name:t.experimentName,experiment_group:t.experimentGroup}})})(e,s,t)))):Promise.resolve()},O=e=>{f=e},L=({isAuthenticated:e,isAppShell:t})=>{let n=!1;const i=i=>{if(n)return;n=!0;const a=`${t?"warm":"cold"}.${e?"auth":"unauth"}`;(0,l.My)(`mweb_service_worker.appshell_status.${a}.${i}`)},a=navigator.serviceWorker,o=null==a?void 0:a.controller;a&&o?setTimeout((()=>i("timeout")),1e3):i("no_worker")}},706922:(e,t,n)=>{function i(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function a(e,t){if(i(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(let o=0;o<n.length;o+=1)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!i(e[n[o]],t[n[o]]))return!1;return!0}n.d(t,{Z:()=>a})},835209:(e,t,n)=>{function i({richPinData:e={}}){return((null==e?void 0:e.products)||[])[0]}n.d(t,{Z:()=>i})},53325:(e,t,n)=>{n.d(t,{$O:()=>s,GZ:()=>c,OE:()=>d,Xv:()=>l,Z0:()=>i,_z:()=>o,fM:()=>r,qA:()=>a,zX:()=>u});const i=40,a=4,o=106,r=133,s=.1,l=10,c=246,d=197,u=236},90771:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{fill:"none",height:e,width:e,viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{fill:"#1a73e8",height:"56",rx:"28",width:"56"}),(0,i.jsx)("path",{d:"m37.086 39.782h-18.454c-2.624 0-4.914-1.983-4.914-4.607v-.028 1.536c0 2.624 2.29 4.913 4.914 4.913h18.454c2.653 0 4.914-2.317 4.914-4.913v-1.536c0 2.624-2.29 4.635-4.914 4.635zm-23.395-13.234v-2.094l-3.434-5.667c-.196-.307-.28-.586-.252-.866v2.401c0 .224.084.447.223.698z",fill:"#185abc"}),(0,i.jsx)("path",{d:"m37.086 17h-25.853c-1.033 0-1.619.893-.92 1.843l3.377 5.863v10.469c0 2.68 1.955 4.914 4.607 4.914h18.761c2.653 0 4.914-2.262 4.914-4.914v-13.233c.028-2.68-2.234-4.942-4.886-4.942z",fill:"#fff"}),(0,i.jsx)("path",{d:"m36.78 24.39h-17.842c-.782 0-1.535-.474-1.535-1.228 0-.753.753-1.228 1.535-1.228h17.84c.782 0 1.536.475 1.536 1.228 0 .754-.754 1.229-1.536 1.229zm0 4.915h-17.842c-.782 0-1.535-.475-1.535-1.229s.753-1.228 1.535-1.228h17.84c.782 0 1.536.474 1.536 1.228s-.754 1.229-1.536 1.229zm-4.942 4.941h-12.928c-.782 0-1.535-.474-1.535-1.228s.753-1.229 1.535-1.229h12.927c.781 0 1.535.475 1.535 1.229s-.754 1.228-1.535 1.228z",fill:"#8ab4f8"})]})}},31149:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#EFEFEF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black"})]})}},659522:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,i.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},214680:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4144_9512)"}),(0,i.jsx)("path",{d:"M27.7512 13C23.3085 13 19.0478 14.47 15.9063 17.0867C12.7649 19.7033 11 23.2522 11 26.9526C11.004 29.3596 11.7556 31.7247 13.1816 33.8182C14.6076 35.9117 16.6595 37.6624 19.138 38.9C18.4779 40.3778 17.4878 41.7636 16.2089 43C18.6891 42.5646 21.0173 41.65 23.0123 40.3273C24.5505 40.708 26.1465 40.9027 27.7512 40.9053C32.1939 40.9052 36.4546 39.4352 39.5961 36.8186C42.7375 34.202 44.5024 30.6531 44.5024 26.9526C44.5024 23.2522 42.7375 19.7033 39.5961 17.0867C36.4546 14.47 32.1939 13 27.7512 13Z",fill:"white"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_4144_9512",x1:"28.4444",y1:"52.2827",x2:"28.4444",y2:"6.94986",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#0CBD2A"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#5BF675"})]})})]})}},331744:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,i.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,i.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})}},757146:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,i.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,i.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:"url(#paint0_radial_3730_649)"}),(0,i.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("radialGradient",{id:"paint0_radial_3730_649",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.16 43.826) scale(34.8672)",children:[(0,i.jsx)("stop",{stopColor:"#09F"}),(0,i.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,i.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})}},862960:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4401_2673)"}),(0,i.jsx)("path",{d:"M22.452 39.991c-.907 0-.753-.342-1.066-1.206l-2.667-8.779 20.533-12.181",fill:"#C8DAEA"}),(0,i.jsx)("path",{d:"M22.452 39.991c.7 0 1.01-.32 1.4-.7l3.734-3.63-4.657-2.808",fill:"#A9C9DD"}),(0,i.jsx)("path",{d:"m22.928 32.854 11.284 8.336c1.288.71 2.217.343 2.538-1.195l4.593-21.645c.47-1.885-.719-2.74-1.95-2.181l-26.971 10.4c-1.841.738-1.83 1.765-.336 2.223l6.921 2.16 16.024-10.109c.757-.458 1.45-.212.881.294",fill:"url(#paint1_linear_4401_2673)"}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("linearGradient",{id:"paint0_linear_4401_2673",x1:"37.352",y1:"9.352",x2:"23.352",y2:"42",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#37AEE2"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#1E96C8"})]}),(0,i.jsxs)("linearGradient",{id:"paint1_linear_4401_2673",x1:"31.096",y1:"27.16",x2:"35.466",y2:"37.116",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#EFF7FC"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#fff"})]})]})]})}},464240:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#1DA1F2"}),(0,i.jsx)("path",{d:"M24.34 42c11.37 0 17.591-9.429 17.591-17.591 0-.265 0-.53-.012-.796a12.596 12.596 0 0 0 3.087-3.207c-1.11.494-2.303.82-3.557.976a6.22 6.22 0 0 0 2.725-3.424 12.299 12.299 0 0 1-3.93 1.495 6.17 6.17 0 0 0-4.51-1.953 6.19 6.19 0 0 0-6.186 6.185c0 .483.06.953.157 1.411-5.136-.253-9.694-2.725-12.744-6.463a6.184 6.184 0 0 0-.832 3.111 6.2 6.2 0 0 0 2.749 5.148 6.254 6.254 0 0 1-2.797-.771v.084a6.196 6.196 0 0 0 4.955 6.065 6.028 6.028 0 0 1-1.628.217c-.397 0-.783-.036-1.157-.109a6.182 6.182 0 0 0 5.775 4.293 12.4 12.4 0 0 1-7.68 2.652c-.494 0-.989-.024-1.471-.084A17.587 17.587 0 0 0 24.34 42Z",fill:"#fff"})]})}},89396:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#7360F2"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.362 31.327s.57.05.875-.33l.597-.75c.288-.374.984-.61 1.665-.232.902.509 2.067 1.309 2.866 2.054.44.371.542.918.242 1.495l-.002.012a6.278 6.278 0 0 1-1.243 1.53l-.012.009c-.587.489-1.261.773-1.983.538l-.013-.018c-1.296-.367-4.405-1.952-6.386-3.532-3.242-2.558-5.546-6.776-6.183-9.038l-.02-.013c-.235-.724.052-1.398.539-1.984l.01-.01a6.224 6.224 0 0 1 1.53-1.243l.012-.003c.576-.3 1.122-.198 1.494.243.49.505 1.408 1.721 2.054 2.865.378.68.141 1.377-.231 1.664l-.752.598c-.379.306-.33.876-.33.876s1.113 4.207 5.271 5.269Zm6.543-3.488a.405.405 0 0 1-.406-.403c-.018-2.44-.752-4.384-2.178-5.776-1.43-1.393-3.236-2.108-5.37-2.122a.403.403 0 0 1-.4-.408.403.403 0 0 1 .403-.402h.003c2.35.016 4.344.808 5.93 2.352 1.586 1.55 2.402 3.687 2.422 6.35a.406.406 0 0 1-.401.409h-.003Zm-2.127-.832h-.01a.405.405 0 0 1-.395-.414c.032-1.384-.364-2.503-1.208-3.425-.84-.918-1.993-1.42-3.527-1.532a.406.406 0 0 1-.374-.433.406.406 0 0 1 .433-.375c1.725.127 3.093.73 4.065 1.794.977 1.066 1.456 2.409 1.42 3.989a.406.406 0 0 1-.404.396Zm-2.077-.696a.404.404 0 0 1-.404-.386c-.068-1.373-.716-2.045-2.036-2.117a.404.404 0 1 1 .043-.808c1.744.093 2.712 1.092 2.8 2.886a.403.403 0 0 1-.383.423l-.02.002Zm9.09 4.625c-.808 6.503-5.563 6.913-6.44 7.195-.374.12-3.843.982-8.203.698 0 0-3.251 3.92-4.266 4.94-.158.159-.344.223-.469.194-.175-.043-.223-.251-.22-.553l.027-5.354v-.001c-6.35-1.764-5.98-8.394-5.908-11.864.072-3.47.724-6.315 2.661-8.227 3.48-3.152 10.65-2.681 10.65-2.681 6.054.027 8.955 1.85 9.628 2.46 2.234 1.912 3.371 6.49 2.54 13.193Zm-.87-14.817c-.796-.73-4.01-3.064-11.167-3.096 0 0-8.44-.51-12.554 3.267-2.29 2.29-3.096 5.64-3.181 9.797-.085 4.157-.195 11.944 7.311 14.056l.008.002-.005 3.221s-.047 1.306.812 1.572c1.039.322 1.648-.669 2.641-1.738a88.708 88.708 0 0 0 1.863-2.107c5.135.43 9.082-.556 9.532-.701 1.036-.337 6.902-1.088 7.857-8.876.984-8.03-.477-13.106-3.117-15.397Z",fill:"#fff"})]})}},22641:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#25D366"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff"})]})}},619277:(e,t,n)=>{n.d(t,{o$:()=>a,ty:()=>o,vE:()=>r});var i=n(425288);const{Provider:a,MaybeConsumer:o,useMaybeHook:r}=(0,i.Z)("inviteContext")},296011:(e,t,n)=>{n.d(t,{Z:()=>l,t:()=>c});var i=n(667294),a=n(214494),o=n(167912);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={};class l extends i.Component{constructor(...e){super(...e),r(this,"state",{invite:s[this.props.invite_code]||null,loaded:this.props.invite_code in s})}componentDidMount(){const{invite_code:e}=this.props;a.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then((t=>{if(t&&t.resource_response){const n=t.resource_response.data;s[e]=n,this.setState({invite:n,loaded:!0})}})).catch((()=>{this.setState({invite:null,loaded:!0})}))}render(){const{invite:e,loaded:t}=this.state;return t?this.props.children(e):null}}class c extends i.Component{constructor(...e){super(...e),r(this,"state",{invite:s[this.props.invite_code]||null,loaded:this.props.invite_code in s})}componentDidMount(){const{invite_code:e,relayEnvironment:t,inviteQuery:n}=this.props;(0,o.fetchQuery)(t,n,{invite_code:e}).subscribe({next:e=>{var t;if(null!==(t=e.v3GetInviteCodeQuery)&&void 0!==t&&t.data){const t=e.v3GetInviteCodeQuery;this.setState({invite:t,loaded:!0})}},error:()=>{this.setState({invite:null,loaded:!0})}})}render(){const{invite:e,loaded:t}=this.state;return t?this.props.children(e):null}}},867060:(e,t,n)=>{n.d(t,{LO:()=>o,Pu:()=>r,cc:()=>i,dB:()=>a,yF:()=>s});const i={10:13098,11:13099,6:13100,5:13101,14:13102,12:13103,15:13104,8:13105,4:13106,1:13107,3:13107,18:13108,19:13109,20:13110,21:13111,22:13112,23:13113,26:13114,27:13115,29:13116,9:13286},a={10:13415,11:13416,6:13417,5:13418,14:13419,12:13420,15:13421,8:13422,4:13423,1:13424,3:13424,18:13425,19:13426,20:13427,21:13428,22:13429,23:13430,26:13431,27:13432,29:13433,9:13434},o={10:13436,11:13437,6:13438,5:13439,14:13440,12:13441,15:13442,8:13443,4:13444,1:13445,3:13445,18:13446,19:13447,20:13448,21:13449,22:13450,23:13451,26:13452,27:13453,29:13454,9:13455},r={10:13457,11:13458,6:13459,5:13460,14:13461,12:13462,15:13463,8:13464,4:13465,1:13466,3:13466,18:13467,19:13468,20:13469,21:13470,22:13471,23:13472,26:13473,27:13474,29:13475,9:13476},s={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8}},223815:(e,t,n)=>{n.d(t,{U:()=>r,Z:()=>s});var i=n(755742),a=n(785893);const o=()=>{},r=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function s({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:n,allowScroll:s,children:l}){const c=e=>function(e,t){t&&e.keyCode===i.Z.ESCAPE||r(e)}(e,t);return(0,a.jsx)("div",{onAbort:r,onAnimationEnd:r,onAnimationIteration:r,onAnimationStart:r,onBlur:o,onCanPlay:n?o:r,onCanPlayThrough:r,onChange:r,onClick:e?o:r,onCompositionEnd:r,onCompositionStart:r,onCompositionUpdate:r,onContextMenu:r,onCopy:r,onCut:r,onDoubleClick:r,onDurationChange:r,onEmptied:r,onEncrypted:r,onEnded:r,onError:r,onFocus:o,onInput:r,onInvalid:r,onKeyDown:c,onKeyPress:c,onKeyUp:c,onLoad:r,onLoadedData:r,onLoadedMetadata:r,onLoadStart:r,onMouseDown:r,onMouseEnter:r,onMouseLeave:r,onMouseMove:e?o:r,onMouseOut:r,onMouseOver:r,onMouseUp:e?o:r,onPaste:r,onPause:r,onPlay:r,onPlaying:r,onProgress:r,onRateChange:r,onScroll:s?o:r,onSeeked:r,onSeeking:r,onSelect:r,onStalled:r,onSubmit:r,onSuspend:r,onTimeUpdate:r,onTouchCancel:r,onTouchEnd:e?o:r,onTouchMove:e?o:r,onTouchStart:e?o:r,onTransitionEnd:r,onVolumeChange:r,onWaiting:r,onWheel:r,children:l})}},238381:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(231486),a=n(172071),o=n(700380);let r={get:[],set:[],remove:[]};const s={get:new Set,set:new Set,remove:new Set};const l=(0,o.Z)((async function(){if(!r.get.length&&!r.set.length&&!r.remove.length)return;const e={...r};r={get:[],set:[],remove:[]};try{await fetch(`https://${window.location.hostname}/_/_/storage_report/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({"storage-report":e})})}catch(t){r={...e},a.Z.increment("webapp.storage_report.fetch_error",.01)}}),3e4);const c=async function(e,t){s[e].has(t)||(s[e].add(t),r={...r,[e]:[...r[e],t]},await l())};var d=n(226198);class u{constructor(e){this._cookie=e}length(){const e=i.U2(this._cookie),t=e?JSON.parse(e):{};return Object.keys(t).length}getItem(e){const t=i.U2(this._cookie);return(t?JSON.parse(t):{})[e]}setItem(e,t){const n=i.U2(this._cookie),a=n?JSON.parse(n):{};a[e]=t,i.t8(this._cookie,JSON.stringify(a))}removeItem(e){const t=i.U2(this._cookie),n=t?JSON.parse(t):{};delete n[e],i.t8(this._cookie,JSON.stringify(n))}prependItem(e,t,n=1/0){const i=this.getItem(e),a=Array.isArray(i)?i:[];a.unshift(t),a.length>n&&a.pop(),this.setItem(e,a)}clear(){i.zN(this._cookie.name)}}class p{length(){return window.sessionStorage.length}getItem(e){const t=window.sessionStorage.getItem(e);return null!==t?JSON.parse(t):null}setItem(e,t){window.sessionStorage.setItem(e,JSON.stringify(t))}removeItem(e){window.sessionStorage.removeItem(e)}prependItem(e,t,n=1/0){const i=window.sessionStorage.getItem(e),a=i?JSON.parse(i):[];a.unshift(t),a.length>n&&a.pop(),window.sessionStorage.setItem(e,JSON.stringify(a))}clear(){window.sessionStorage.clear()}}class h{length(){return window.localStorage.length}getItem(e){const t=window.localStorage.getItem(e);return c("get",e),null!==t?JSON.parse(t):t}setItem(e,t){window.localStorage.setItem(e,JSON.stringify(t)),c("set",e)}removeItem(e){window.localStorage.removeItem(e),c("remove",e)}prependItem(e,t,n=1/0){const i=window.localStorage.getItem(e),a=i?JSON.parse(i):[];a.unshift(t),a.length>n&&a.pop(),window.localStorage.setItem(e,JSON.stringify(a)),c("set",e)}clear(){window.localStorage.clear()}}const m=({type:e})=>{let t;try{t="session"===e?window.sessionStorage:window.localStorage}catch(o){t=null}const n="session"===e?d.Gl:d.sy;let i=!1;const a=t;if(a)try{a.setItem("testing","test"),a.removeItem("testing")}catch(o){if(o.code!==window.DOMException.QUOTA_EXCEEDED_ERR||0!==a.length)throw o;i=!0}else i=!0;return i?new u(n):"session"===e?new p:new h}},957161:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(238381).Z)({type:"local"})},844974:(e,t,n)=>{n.d(t,{L_:()=>a,Nh:()=>o,qn:()=>i});const i=(e,t=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(n){return console.error("Cannot access localStorage."),t}},a=e=>{try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(t){console.error("Cannot access localStorage.")}},o=(e,t)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(n){console.error("Cannot access localStorage.")}}},339363:(e,t,n)=>{n.d(t,{L_:()=>a,Nh:()=>o,qn:()=>i});const i=(e,t)=>{if("undefined"==typeof window)return t;try{return window.sessionStorage.getItem(e)}catch(n){return window.console.error("Cannot access sessionStorage."),t}},a=e=>{if("undefined"!=typeof window)try{window.sessionStorage.removeItem(e)}catch(t){window.console.error("Cannot access sessionStorage.")}},o=(e,t)=>{if("undefined"!=typeof window)try{window.sessionStorage.setItem(e,t)}catch(n){window.console.error("Cannot access sessionStorage.")}}},124364:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(898781),a=n(883119),o=n(785893);function r({height:e,isDenseView:t,rounding:n,width:r,color:s}){const l=(0,i.ZP)();return(0,o.jsx)(a.xu,{color:s||"default",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",rounding:n,overflow:"hidden",width:r,height:e,"data-test-id":"unavailable-pin",children:(0,o.jsxs)(a.kC,{direction:"column",alignItems:"center",children:[(0,o.jsx)(a.xu,{paddingY:t?2:4,children:(0,o.jsx)(a.JO,{accessibilityLabel:l._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,o.jsx)(a.xv,{weight:"bold",children:l._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!t&&(0,o.jsx)(a.xu,{paddingY:1,children:(0,o.jsx)(a.xv,{children:l._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},858416:(e,t,n)=>{n.d(t,{Wr:()=>u,Hx:()=>h,RC:()=>p});var i=n(667294);var a=n(311541),o=n(425288),r=n(924687),s=n(785893);const l=()=>Promise.resolve().then(n.bind(n,924687)),{Provider:c,useHook:d}=(0,o.Z)("IdeaPinVideoPlayer");function u({children:e}){const[t,n]=(0,a.Z)(l,r.initialState),o=(0,i.useMemo)((()=>({dispatch:n,ideaPinVideoPlayerControls:t})),[n,t]);return(0,s.jsx)(c,{value:o,children:e})}function p(){const{dispatch:e}=d();return(0,i.useMemo)((()=>({updateSeekTime:(t,n)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:n||""}})},clearSeekTime:t=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})},updateSeekingIdeaPin:t=>{e(t?{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t}}:{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t,seekTime:void 0}})},updateCurrentTime:t=>{e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:t}})},updateDuration:t=>{e({type:"UPDATE_DURATION",payload:{duration:t}})}})),[e])}function h(){const{ideaPinVideoPlayerControls:e}=d();return e}},924687:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a,initialState:()=>i});const i={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function a(e=i,t){switch(t.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime},seekTime:t.payload.seekTime};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{},seekTime:void 0};case"UPDATE_SEEKING_IDEA_PIN":return{...e,isSeekingIdeaPin:t.payload.isSeekingIdeaPin};case"UPDATE_CURRENT_TIME":return{...e,currentProgressInfo:{...e.currentProgressInfo,currentTime:t.payload.currentTime}};case"UPDATE_DURATION":return{...e,currentProgressInfo:{...e.currentProgressInfo,duration:t.payload.duration}};default:return e}}},940882:(e,t,n)=>{n.d(t,{J:()=>i,Z:()=>a});const i=-1;function a(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},936776:(e,t,n)=>{n.d(t,{Z:()=>a});const i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,a=e=>i.test(e)},927104:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"":e},883561:(e,t,n)=>{n.d(t,{ZP:()=>i});function i(e,t=80,n="",i=false){let a;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)a=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);a=e.substring(0,n)}return a=a.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),a+n}},841726:(e,t,n)=>{n.d(t,{Z:()=>a,o:()=>i});function i(e,t){const n=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>|<!--[\s\S]*/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,((e,t)=>n.indexOf("<"+t.toLowerCase()+">")>-1?e:""))}const a=e=>e.replace(/(<([^>]+)>)/gi,"")},70061:(e,t,n)=>{function i(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}n.d(t,{Z:()=>i})},966113:(e,t,n)=>{n.d(t,{$B:()=>x,$h:()=>Q,AH:()=>rt,Ay:()=>r,Bd:()=>te,C5:()=>Ce,Cm:()=>Ae,Ef:()=>O,Et:()=>A,F2:()=>b,FH:()=>se,GE:()=>H,GH:()=>L,Gx:()=>st,HH:()=>tt,Hk:()=>Fe,Hl:()=>Re,Hm:()=>w,Hv:()=>T,IA:()=>Ye,JR:()=>V,Jb:()=>X,Jq:()=>de,Js:()=>Z,KD:()=>ut,KU:()=>N,K_:()=>U,LU:()=>p,Lq:()=>d,Mk:()=>ee,Ml:()=>Be,Mo:()=>Y,Ms:()=>xe,Mv:()=>De,N1:()=>dt,NW:()=>R,PR:()=>Se,Pe:()=>nt,QL:()=>ot,R_:()=>v,Rf:()=>G,SN:()=>Ge,Sr:()=>E,T1:()=>et,TA:()=>o,TM:()=>Ve,To:()=>je,U5:()=>be,UF:()=>ye,UX:()=>Ze,Uc:()=>we,Um:()=>Ne,V$:()=>me,VO:()=>Me,Vg:()=>ce,W3:()=>Ue,W_:()=>qe,Wg:()=>C,X1:()=>u,X9:()=>a,XV:()=>Xe,ZB:()=>ne,ZE:()=>J,_I:()=>q,_O:()=>oe,_P:()=>S,au:()=>M,c9:()=>z,cC:()=>Qe,cD:()=>Te,cP:()=>ke,cv:()=>pe,dF:()=>lt,eD:()=>Ie,fP:()=>Oe,gO:()=>K,hX:()=>ge,hw:()=>y,iC:()=>I,iY:()=>ve,ic:()=>j,lf:()=>g,lq:()=>re,lw:()=>_e,m7:()=>fe,mB:()=>Je,mI:()=>it,ms:()=>c,mx:()=>m,nB:()=>Pe,o1:()=>He,oi:()=>l,q4:()=>Ee,qe:()=>f,rO:()=>at,rT:()=>_,ru:()=>Ke,sX:()=>D,sr:()=>ue,tS:()=>Le,t_:()=>he,tq:()=>k,v0:()=>ct,v3:()=>$,vB:()=>h,vK:()=>$e,w0:()=>ze,wU:()=>B,wq:()=>We,x$:()=>s,x_:()=>ie,yF:()=>ae,z:()=>F,zX:()=>P,zw:()=>W,zz:()=>le});var i=n(401060);const a=`${(0,i.Z)({site:"sterling",path:"/conversions/tag"})}`,o=`${(0,i.Z)({site:"sterling",path:"/?redirect=PINTEREST_TAG"})}`,r="https://business.pinterest.com/verified-merchant-program",s="https://apps.shopify.com/pinterest-1",l="https://woocommerce.com/products/pinterest-for-woocommerce/",c="/business/convert/",d="/_/_/help/",u="https://help.pinterest.com/business/article/report-offline-conversion-events",p="https://help.pinterest.com/business/article/modeled-conversions",h="https://help.pinterest.com/article/merchant-details",m="https://www.pinterest.com/_/_/help/business/article/third-party-and-dynamic-tracking",_="/settings/account-settings/",g="/password/reset/",v="https://www.pinterest.com/_/_/policy/privacy-policy/",y="https://www.pinterest.com/_/_/policy/copyright/",f="https://www.pinterestcareers.com/",b="https://www.pinterest.com/_/_/policy/terms-of-service/",x="https://policy.pinterest.com/de/impressum/",w="/business/create/",S="https://www.pinterest.com/_/_/help/articles/claim-your-website",P="https://www.pinterest.com/settings/claim",T="https://www.pinterest.com/_/_/help/business/article/bulk-upload-video-pins",k="https://www.pinterest.com/_/_/help/business/article/conversion-insights",I="https://www.pinterest.com/_/_/help/business/article/pinterest-tag-implementation-overview",A="https://www.pinterest.com/_/_/help/business/article/enhanced-match",C="https://www.pinterest.com/_/_/help/business/article/automatic-enhanced-match",E="https://www.pinterest.com/_/_/help/business/article/share-and-manage-access-to-your-ad-accounts",j=`${(0,i.Z)({site:"www",path:"/business/business-access"})}`,R="https://www.pinterest.com/_/_/business/",D="https://www.pinterest.com/_/_/help/articles/pinterest-analytics",O="https://www.pinterest.com/_/_/help/business/article/pin-stats",L="274266067164",F="1655662257",N="ads.pinterest.com",M=`${(0,i.Z)({site:"sterling"})}`,z="https://pinterest.onelink.me/TVSr/dwebios",Z="https://pinterest.onelink.me/TVSr/dwebandroid",B="/_/_/about/",U="https://www.pinterest.com/_/_/help/articles/block-or-unblock-someone",H="/about/copyright/dmca-pin/",V="https://tagmanager.google.com",$="694505692171-31closf3bcmlt59aeulg2j81ej68j6hk.apps.googleusercontent.com",K="https://www.pinterest.com/_/_/help/",G="https://business.pinterest.com",W="https://www.pinterest.com/pin/12345/",q="https://www.pinterest.com/_/_/policy/cookies/",Y="https://www.pinterest.com/_/_/business/content/creative-best-practices",J="/login/",X="https://help.pinterest.com/contact",Q="https://developers.pinterest.com/docs/conversions/conversion-management/",ee="https://developers.pinterest.com/docs/conversions/conversion-management/#Authenticating%20for%20the%20send%20conversion%20events%20endpoint",te="https://developers.pinterest.com/docs/api/v5/",ne="https://policy.pinterest.com/merchant-guidelines",ie="https://www.pinterest.com/_/_/policy/",ae=`${(0,i.Z)({site:"sterling",path:"/promoted_pin_v2/campaign/"})}`,oe=`${(0,i.Z)({site:"analytics"})}`,re=`${(0,i.Z)({site:"analytics",path:"/audience-insights/"})}`,se=`${(0,i.Z)({site:"analytics",path:"/overview/"})}`,le="https://trends.pinterest.com",ce="https://trends-internal.pinadmin.com",de=`${(0,i.Z)({site:"www"})}/advertiser/quick-promote`,ue="https://www.pinterest.com/business/verified-merchant/status",pe="https://policy.pinterest.com/notice-at-collection",he="https://careers.pinterest.com/",me="https://www.pinterest.com/_/_/business/business-terms-of-service/",_e="https://www.pinterest.com/_/_/help/",ge="https://help.pinterest.com/?context=business",ve="https://developers.pinterest.com",ye="https://www.pinterest.com/_/_/help/articles/promoted-pins",fe="https://help.pinterest.com/article/promoted-pins",be="/_/_/policy/terms-of-service/",xe="https://policy.pinterest.com/community-guidelines",we="https://business.pinterest.com/business-terms-of-service",Se=["CA"],Pe=["CA"],Te="https://accounts.pinterest.com",ke="https://www.pinterest.com/_/_/help/contact",Ie="https://business.pinterest.com/pinterest-advertising-services-agreement",Ae="https://www.pinterest.com/_/_/business/Pinterest-product-specs",Ce="https://www.pinterest.com/_/_/help/business/article/pinterest-product-specs",Ee="https://www.pinterest.com/_/_/help/business/article/story-pins",je="https://help.pinterest.com/business/article/audience-targeting",Re="https://pinterest.com/_/_/help/article/your-privacy-and-data-settings",De="https://pinterest.com/_/_/help/article/update-your-search-privacy",Oe="https://pinterest.com/_/_/help/article/personalization-and-data#info-ad",Le="https://www.pinterest.com/_/_/help/article/third-party-analytics-or-advertising-providers-pinterest-uses-or-allows",Fe="https://help.pinterest.com/business/article/about-catalogs",Ne="https://help.pinterest.com/business/article/data-source-setup",Me="https://help.pinterest.com/business/article/data-source-ingestion",ze="https://help.pinterest.com/business/article/create-product-groups",Ze="https://help.pinterest.com/en/business/article/before-you-get-started-with-catalogs#section-9441",Be="https://help.pinterest.com/en/business/article/promote-your-product-groups",Ue="https://pinterest.com/_/_/help/landing/request-a-feature",He="https://www.pinterest.com/_/_/help/business/article/video-pins",Ve="ms-windows-store://pdp/?productid=9PFHDSF91B9R",$e="https://www.pinterest.com/_/_/newsroom/",Ke="https://www.pinterest.com/_/_/policy/",Ge="https://help.pinterest.com/business/article/ad-only-profiles",We="https://www.pinterest.com/_/_/help/business/article/set-up-the-pinterest-tag",qe="https://www.pinterest.com/_/_/help/business/article/install-the-pinterest-tag",Ye="https://www.pinterest.com/_/_/help/business/article/google-tag-manager-and-pinterest-tag",Je="https://www.pinterest.com/_/_/help/business/article/squarespace-and-pinterest-tag",Xe="https://www.pinterest.com/_/_/help/business/article/bigcommerce-and-pinterest-tag",Qe="https://help.pinterest.com/business/article/before-you-get-started-with-catalogs",et="https://help.pinterest.com/business/article/verified-merchant-program",tt=`${(0,i.Z)({site:"sterling",path:"/conversions/tag-health"})}`,nt=`${(0,i.Z)({site:"analytics",path:"/conversion-insights/"})}`,it="https://pinterest.com/_/_/help/article/manage-your-linked-business-account",at="/add-account",ot="/settings/account-settings/",rt="/settings/personal-information",st="/settings/privacy",lt=`${(0,i.Z)({site:"sterling",path:"/recommendations"})}`,ct="/business/hub",dt="https://pinterest.com/_/_/help/article/protect-your-account",ut="https://help.pinterest.com/guide/guide-to-creating-pins"},700380:(e,t,n)=>{function i(e,t){let n;const i=(...i)=>{n||(e(...i),n=setTimeout((()=>n=null),t))};return i.cancel=()=>{void 0!==n&&clearTimeout(n)},i}n.d(t,{Z:()=>i})},430323:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(667294),a=n(722767),o=n(706922),r=n(245474),s=n(558068),l=n(350118),c=n(780280),d=n(790123),u=n(425288);const{Provider:p,useMaybeHook:h}=(0,u.Z)("timeSpentContext");var m=n(785893);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.Component{constructor(e){super(e),_(this,"componentWillUnmount",(()=>{this.unregisterComponent()})),_(this,"getContext",(()=>{const{clientTrackingParams:e,component:t,element:n,objectId:i,timeSpentContext:a,view:o,viewParameter:r}=this.props;return{view:o||a&&a.view,viewParameter:r||a&&a.viewParameter,component:t||a&&a.component,element:n,objectId:i||a&&a.objectId,clientTrackingParams:e||a&&a.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}})),_(this,"getLoggerContext",(()=>{const e={...this.getContext()};return delete e.getParentUuid,e})),_(this,"getParentId",(()=>{const{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){const t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0})),_(this,"getUuid",(()=>this.state.timedPair?this.state.timedPair.uuid:void 0)),_(this,"getTimedPair",(()=>this.state.timedPair)),_(this,"setTimedPair",(e=>this.setState({timedPair:e}))),_(this,"isRegistered",!1),_(this,"registerComponent",(()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0})),_(this,"unregisterComponent",(()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)})),_(this,"handleVisibilityChange",(e=>{const{intersectionRatio:t}=e[0],{bottom:n,left:i,right:a,top:o}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===i&&0===a&&0===o?this.unregisterComponent():this.registerComponent())})),this.state={timedPair:new r.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,o.Z)(e.auxData,this.props.auxData)&&(0,o.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){const{children:e}=this.props;return(0,m.jsx)(p,{value:this.getContext(),children:(0,m.jsx)(a.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:i.Children.only(e)})})}}function v(e){var t;const n=(0,s.Hv)(),a=h(),o=(0,d.w)(),r=(0,l.H0)(),{requestIdentifier:u=""}=(0,c.B)(),p={app_instance_id:u.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,i.useEffect)((()=>{null==o||o.setHistoryStackContext(n)}),[n,o]),(0,i.useEffect)((()=>{null==o||o.setPins(null!=r?r:{})}),[r,o]),o?(0,m.jsx)(g,{...e,auxData:p,timeSpentContext:a,timeSpentManager:o,children:e.children}):e.children}v.displayName="TimeSpent";const y=v},790123:(e,t,n)=>{n.d(t,{j:()=>u,w:()=>d});var i=n(829407),a=n(407043),o=n(50286),r=n(780280),s=n(425288),l=n(785893);const{Provider:c,useMaybeHook:d}=(0,s.Z)("TimeSpentManagerContext");function u({children:e,value:t}){const n=(0,a.v)(),s=(0,o.HG)(),{isAuthenticated:d}=(0,r.B)(),u=s&&d;return(0,i.Z)((()=>{document.hasFocus()&&t(n,u).registerApp(),t(n,u).addEventListeners()})),(0,l.jsx)(c,{value:t(n,u),children:e})}},245474:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(172045),a=n(17314);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now();const s=class{constructor(e){o(this,"start",(()=>(this.startTime=r(),this.startTime))),o(this,"end",(()=>(this.endTime=r(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration)));try{this.uuid=(0,i.Z)()}catch(t){this.uuid=(0,a.Z)()}e&&Object.assign(this,e)}}},932046:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(826067);function a(){const e=(0,i.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";const t=document.referrer;return t?t.includes("/t.co/")?"twitter":t.includes("cdn.ampproject.org")?"amp":t.includes("google.")?"google":t.includes("bing.")?"bing":t.includes("facebook.")?"facebook":"other":"direct"}},867820:(e,t,n)=>{n.d(t,{yl:()=>d,qJ:()=>p,Nc:()=>v,dy:()=>y,NC:()=>g,My:()=>m,tj:()=>h});var i=n(214494);const a="unauthHistories",o="authHistories",r="trackHistoryClickInternalUrl";var s=n(339363);let l=[];let c;function d(e){l.length&&(i.Z.create("UserRegisterTrackActionResource",{actions:l}).callUpdate({showError:!1,async:!e}),l=[],c=null)}function u(e,t){const n=(0,s.qn)(r);if((0,s.L_)(r),n)return;let i=(0,s.qn)(e);if(i=i?i.split(","):[],i.length){const e=`${t}.${i.reduce(((e,t)=>e+"-"+t))}`;l.push({name:e,aux_data:{}})}(0,s.L_)(e)}const p=e=>{u(a,e),u(o,`${e}_auth`),l.length&&d(!0)};function h(e,t){let n="undefined"!=typeof window&&window.encodeURIComponent&&encodeURIComponent(e)||e;t||(t={}),-1!==n.indexOf("%")&&(t.invalid_action&&(t.invalid_action_original=t.invalid_action),t.invalid_action=n,n="track_register_action.web.invalid_action.with_percent"),l.push({name:n,aux_data:t}),c||(c=setTimeout((()=>d()),5e3)),function(e,t){if("undefined"!=typeof window)try{const n=new URL(window.location.href).searchParams.get("consoleTra");if(window.PINTEREST_DEV_LOG||n){const n=window.PINTEREST_DEV_REGEX||"";n&&!(e||"").match(n)||(t&&"object"==typeof t&&Object.keys(t).length?console.log(e+": %O",t):console.log(e))}}catch(n){}}(e,t)}function m(e,t){h(e,{tags:t?{...t}:Object.freeze({})})}function _(e,t,n=!1){if("undefined"==typeof window)return;let i=(0,s.qn)(e);i=i?i.split(","):[],i.push(t),(0,s.Nh)(e,i.join()),e!==o&&m(`lex.${t}`),n&&(0,s.Nh)(r,!0)}function g(e,t=!1){_(a,e,t)}function v(e,t=!1){_(o,e,t)}const y=({event:e,provider:t})=>{m(`pinner_conversion.autologin.${t}.${e}`)}},52022:(e,t,n)=>{n.d(t,{S:()=>s,Z:()=>l});var i=n(667294),a=n(867820),o=n(53987),r=n(276775);const s=e=>(0,o.L6)(e)?"pin":(0,o.am)(e)?"board":(0,o.Xn)(e)?"login":(0,o.C$)(e)?"home":(0,o.cD)(e)?"profile":(0,o.dr)(e)?"ideas":(0,o.gT)(e)?"ideas-root":(0,o.tZ)(e)?"videos":(0,o.$Y)(e)?"article":(0,o.E0)(e)?"shopping-spotlight":(0,o.Zz)(e)?"today":(0,o.j8)(e)?"unauth-profile":(0,o.f1)(e)?"shopping-root":(0,o.OX)(e)?"shopping-category":"other";function l(){const e=(0,r.useLocation)();return(0,i.useCallback)((({action:t,item:n,within:i})=>{const o=s(e);(0,a.My)(`logged_out_product.interaction.${o}.${t}`,{item:n||"none",within:i||"none"})}),[e])}},477802:(e,t,n)=>{n.d(t,{W:()=>r,Z:()=>o});var i=n(883119),a=n(785893);function o({data:e}){return(0,a.jsx)(i.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,a.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}const r=e=>(0,a.jsx)(i.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,a.jsx)(o,{...e})})},939106:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(948618),o=n(883119),r=n(785893);function s(e){return null!=e}function l({additionalPadding:e,color:t="darkGray",inline:n,items:l}){const c=e?(0,r.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,r.jsx)(a.Z,{color:t})}):(0,r.jsx)(a.Z,{color:t}),d=l.filter(s).reduce(((e,t,n)=>[...e,0!==n?c:null,t]),[]).filter(s).map(((e,t)=>(0,r.jsx)(i.Fragment,{children:e},t)));return 0===d.length?null:n?(0,r.jsx)(o.xu,{children:d}):(0,r.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:d})}},343341:(e,t,n)=>{n.d(t,{F9:()=>r,Zo:()=>a,nE:()=>o});var i=n(425288);const{Provider:a,Consumer:o,useHook:r}=(0,i.Z)("toastManagerContext")},753311:(e,t,n)=>{n.d(t,{M:()=>r,Q:()=>o});var i=n(667294);const a=(0,i.createContext)(null),o=()=>(0,i.useContext)(a),r=a.Provider},690035:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(753311);const a=()=>{const e=(0,i.Q)();return t=>{if(e){const{pinId:n,location:i,seoPlacementConfig:a}=t;e.showUnauthContextMenu({pinId:n,location:i,seoPlacementConfig:a})}}}},579164:(e,t,n)=>{n.d(t,{Z:()=>i});const i=Object.freeze({SAME_ORIGIN:1,TRUSTED_DIFFERENT_ORIGIN:2,UNTRUSTED:3,INVALID:4})},567831:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t,n)=>e.match(/^https{0,1}:\/\//)?e:(void 0===t&&(t=window.location.protocol),void 0===n&&(n=window.location.hostname,window.location.port&&(n+=":"+window.location.port)),""!==n&&"/"!==e.charAt(0)&&(e="/"+e),t+"//"+n+e)},794230:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(643913),a=n(704115),o=n(251819);const r=(e,t)=>{if(!(0,o.Z)(t)){const n=e.split("?"),o=n[0],r=n[1],s={...r?(0,a.Z)(r):{},...t};return o+"?"+(0,i.Z)(s)}return e}},170168:(e,t,n)=>{n.d(t,{Ag:()=>o,C0:()=>l,Vi:()=>r,YD:()=>u,kS:()=>a,oo:()=>s,p3:()=>p,vC:()=>c,vI:()=>d});var i=n(401060);const a="https://www.pinterest.com/business/hub/",o="https://www.pinterest.com/homefeed/",r="www.pinterest.com",s="https://help.pinterest.com",l="https://www.pinterest.com",c=(0,i.Z)({site:"developers"}),d=`${(0,i.Z)({site:"sterling"})}`,u=`${(0,i.Z)({site:"analytics"})}`,p=`${(0,i.Z)({site:"www",path:"/product-catalogs/data-source/?advertiserId="})}`},29538:(e,t,n)=>{n.d(t,{X:()=>a,c:()=>i});const i="pinterest.com",a="pinterdev.com"},323716:(e,t,n)=>{n.d(t,{Z:()=>i});const i=()=>window.location.pathname+("?"===window.location.search?"":window.location.search)},250059:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},643913:(e,t,n)=>{function i(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const a=n,o=e[n];if(void 0!==o){let e;e=Array.isArray(o)?encodeURIComponent(a)+"=["+o.map((e=>encodeURIComponent(e))).join(",")+"]":"object"==typeof o?i(o):encodeURIComponent(a)+"="+encodeURIComponent(o),t.push(e)}}return t.join("&")}n.d(t,{Z:()=>i})},704115:(e,t,n)=>{function i(e){null==e&&"undefined"!=typeof window&&(e=window.location.search);const t={};if(e){"?"===e[0]&&(e=e.substring(1));const n=/\+/g,i=/([^&=]+)=?([^&]*)/g,a=function(e){let t=e.replace(n," ");try{t=decodeURIComponent(t)}catch(i){t=unescape(t)}return t};let o=i.exec(e);for(;o;){t[a(o[1])]=a(o[2]),o=i.exec(e)}}return t}n.d(t,{Z:()=>i})},547239:(e,t,n)=>{n.d(t,{Z:()=>l});const i=(e,t)=>-1!==e.indexOf(t,e.length-t.length);var a=n(89254),o=n(579164),r=n(966113),s=n(29538);const l=e=>{if("undefined"==typeof window)return o.Z.INVALID;const t=(0,a.Z)(e);let n="",l="";try{n=window.location.origin,l=window.location.hostname}catch(c){}if(t.origin===n)return o.Z.SAME_ORIGIN;if(t.hostname===l)return o.Z.TRUSTED_DIFFERENT_ORIGIN;if(t.hostname){const e=[s.c,s.X];for(const n of e)if(t.hostname===n||i(t.hostname||"","."+n))return o.Z.TRUSTED_DIFFERENT_ORIGIN}return t.origin&&"https://www.pinterest.com"===t.origin?o.Z.TRUSTED_DIFFERENT_ORIGIN:"https"!==t.protocol||"pinterest.onelink.me"!==t.host||e!==r.c9&&e!==r.Js?t.origin?o.Z.UNTRUSTED:o.Z.INVALID:o.Z.TRUSTED_DIFFERENT_ORIGIN}},401060:(e,t,n)=>{n.d(t,{Z:()=>i});new RegExp(/\bdev\b.*/);function i({site:e,path:t=""}){const n="sterling"===e?"ads":e;if(t&&!t.startsWith("/"))throw new Error(`${t} needs to start with '/' -- hostForSite() does not append a trailing slash to the host, so all paths should start with '/'`);return`https://${n}.pinterest.com${t}`}},826067:(e,t,n)=>{n.d(t,{Gw:()=>p,JJ:()=>c,Jx:()=>l,OM:()=>a.Z,Qc:()=>r.Z,Qg:()=>s.Z,XP:()=>u,mB:()=>d,ru:()=>i.Z,sD:()=>h,tV:()=>m,vx:()=>o.Z});var i=n(794230),a=n(547239),o=n(579164),r=n(89254),s=n(954931);const l=e=>{if(!e)return"";try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return""}},c=()=>{const{pathname:e,search:t}=window.location;return e+("?"===t?"":t)},d=(e,t={shouldDecode:!0})=>e?("?"===e[0]&&(e=e.substr(1)),e.split("&").reduce(((e,n)=>{const[i,a]=n.split(/=(.+)/);return null!=t&&t.shouldDecode?e[l(i)]=l(a):e[i]=a,e}),{})):{},u=e=>Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&"),p=(e,t)=>{if(0===t.length)return e;const[n,a]=e.split("?"),o=Object.entries(d(a)).filter((([e,n])=>!t.includes(e))).reduce(((e,[t,n])=>({...e,[t]:n})),{});return(0,i.Z)(n,o)},h=e=>/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e);function m(e,...t){let n=e[0];for(let a=0;a<t.length;a+=1)n+=(i=t[a],encodeURIComponent(i).replace(/~/g,"%7E").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/!/g,"%21").replace(/\\/g,"%5C").replace(/'/g,"%27")+e[a+1]);var i;return n}},149230:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(954931);const a=({url:e})=>!(!e||!e.match(/^https{0,1}:\/\//)||(0,i.Z)(e))},954931:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(547239),a=n(579164);const o=e=>[a.Z.SAME_ORIGIN,a.Z.TRUSTED_DIFFERENT_ORIGIN].includes((0,i.Z)(e))},508847:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(567831);const a=(e,t)=>0===e.lastIndexOf(t,0),o=({url:e})=>{const t=(0,i.Z)("/");return a(e,t)?e.substr(t.length-1):e}},280446:(e,t,n)=>{function i(e){const t="--";if((e||"").includes(t)){const n=e.split(t),i=n.pop();return{text:n.join(t),pinId:i}}return{text:"",pinId:e}}n.d(t,{Z:()=>i})},188682:e=>{function t(e){for(var n=t.options,i=n.parser[n.strictMode?"strict":"loose"].exec(e),a={},o=14;o--;)a[n.key[o]]=i[o]||"";return a[n.q.name]={},a[n.key[12]].replace(n.q.parser,(function(e,t,i){t&&(a[n.q.name][t]=i)})),a}t.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:(?<!\\)@]*)(?::([^:@]*))?)?@)?([^:\/?#\\]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},t.options.strictMode=!0,e.exports=t},89254:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(188682),a=n.n(i);const o=(e,t)=>{let n,i;const o=a()(e);switch(o.protocol){case"http":case"https":o.userInfo&&(o.userInfo.endsWith("%23")||o.userInfo.endsWith("#"))?(n=o.protocol+"://"+o.userInfo,i=""):o.userInfo?(n=o.protocol+"://"+o.host,i=o.host):(n=o.protocol+"://"+o.authority,i=o.host);break;case"":if(0===o.source.indexOf("//")){if(t)n=null;else try{n=window.location.protocol+"//"+o.authority}catch(r){n=null}i=o.host}else if(t)n=null,i=null;else try{n=window.location.protocol+"//"+window.location.hostname,i=window.location.hostname}catch(r){n=null,i=null}break;default:n=null,i=o.host}return{...o,origin:n,hostname:i}}},327476:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(773285);function a(){const{checkExperiment:e}=(0,i.F)();return t=>e("web_transform_promoted_text").anyEnabled?t.replace(" ","  "):t}},50286:(e,t,n)=>{n.d(t,{HG:()=>u,Kf:()=>r,Mq:()=>a,Wb:()=>d,ZP:()=>p,dA:()=>s,ds:()=>l,ml:()=>c});var i=n(780280);function a(e){const{isMobile:t,isTablet:n}=e.userAgent;return n?"tablet":t?"phone":"desktop"}const o=()=>a((0,i.B)()),r=e=>"phone"===e,s=e=>"tablet"===e,l=e=>"desktop"===e,c=()=>r(o()),d=()=>s(o()),u=()=>l(o()),p=o},311541:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);function a(e,t){const n=(0,i.useRef)([]),[a,o]=(0,i.useState)(),[r,s]=(0,i.useReducer)(null!=a?a:()=>t,t),l=(0,i.useCallback)((t=>{a?s(t):(n.current.length||e().then((e=>{o((()=>e.default))})),n.current=[...n.current,t])}),[e,a]);return(0,i.useEffect)((()=>{a&&(n.current.forEach(s),n.current=[])}),[a]),[r,l]}},829407:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);const a=e=>{(0,i.useEffect)(e,[])}},215292:(e,t,n)=>{n.d(t,{Z:()=>r,q:()=>o});var i=n(667294);const a=()=>{const[e,t]=(0,i.useState)(!1),[n,a]=(0,i.useState)(!1),[o,r]=(0,i.useState)(!1);return{active:e,focused:n,hovered:o,onBlur:()=>{a(!1),t(!1)},onFocus:()=>a(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),t(!1)},onMouseUp:()=>t(!1)}};function o({children:e}){return e(a())}const r=a},35954:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);const a=(e,t)=>{const n=(0,i.useRef)((()=>{}));(0,i.useEffect)((()=>{n.current=e}),[e]),(0,i.useEffect)((()=>{if(null===t)return()=>{};const e=setInterval((()=>n.current()),t);return()=>clearInterval(e)}),[t])}},807609:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(411465),a=n(966476);const o=()=>{const e=(0,i.Z)(),t=(0,a.Z)();return e&&!t}},411465:(e,t,n)=>{n.d(t,{G:()=>s,Z:()=>l});var i=n(667294),a=n(276775),o=n(785893);const r=(0,i.createContext)(!0);function s({children:e}){const t=(0,a.useLocation)(),[n,s]=(0,i.useState)(!0),l=(0,i.useRef)(t);return(0,i.useEffect)((()=>{l.current!==t&&(l.current=t,s(!1))}),[t]),(0,o.jsx)(r.Provider,{value:n,children:e})}function l(){return(0,i.useContext)(r)}},19121:(e,t,n)=>{n.d(t,{$:()=>a,Z:()=>r});var i=n(425288);const{Provider:a,useHook:o}=(0,i.Z)("viewer"),r=o},357787:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),a=n(973935),o=n(785893);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=new Map;let l=null;const c=e=>{e.forEach((e=>{const t=s.get(e.target);t&&t(e)}))},d=e=>{class t extends i.Component{constructor(...e){super(...e),r(this,"seen",!1),r(this,"enter",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;this.seen=t,this.seen&&this.props.onVisibilityChanged(!0)})),r(this,"leave",(()=>{const e=this._node;e&&(e=>s.has(e))(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)})),r(this,"observe",(e=>{try{this._node=a.findDOMNode(this)}catch(i){return}if(!this._node)return;const{inAdsDesktopVideoExperiment:t}=this.props,n=this._node;((e,t="-64px 0px 0px 0px",n)=>{const i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};l=l||new window.IntersectionObserver(c,i),s.set(e,n),l.observe(e)})(n,e,(e=>{if(!s.has(n))return;const i=t?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,a=this.props.trackFullVisible?e.intersectionRatio>=1:i,o=this.props.trackFullVisible?0===e.intersectionRatio:!a;!this.seen&&a?this.enter(e):this.seen&&o&&this.leave()}))}))}componentDidMount(){const{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){const e=this._node;e&&(this.leave(),(e=>{l.unobserve(e),s.delete(e)})(e))}render(){return(0,o.jsx)(e,{...this.props})}}return r(t,"displayName",`DeprecatedWithVisibilityChanged(${e.displayName||e.name})`),t}},46584:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294);const a=new Map;let o=null;const r=e=>{e.forEach((e=>{const t=a.get(e.target);t&&t(e)}))};function s({onVisibilityChanged:e,inAdsDesktopVideoExperiment:t,trackFullVisible:n,rootMargin:s}){const l=(0,i.useRef)(null);let c=!1;const d=()=>{var t;l.current instanceof HTMLElement&&(t=l.current,a.has(t))&&(c&&(e(!1),c=!1))},u=(0,i.useCallback)((i=>{l.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",n)=>{const i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};o=o||new window.IntersectionObserver(r,i),a.set(e,n),o.observe(e)})(l.current,i,(i=>{if(!a.has(l.current))return;const o=t?i.intersectionRatio>=.5:i.intersectionRatio>0||i.isIntersecting,r=n?i.intersectionRatio>=1:o,s=n?0===i.intersectionRatio:!r;!c&&r?(t=>{const n=t.intersectionRatio>0||t.isIntersecting;c=n,c&&e(!0)})(i):c&&s&&d()}))}),[l.current]);return(0,i.useEffect)((()=>(u(s),()=>{var e;l.current instanceof HTMLElement&&(d(),e=l.current,o.unobserve(e),a.delete(e))})),[u]),l}},644035:(e,t,n)=>{n.d(t,{GW:()=>a,RL:()=>i,s4:()=>o});const i="ios",a="android",o="ipad"},562559:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(667294),a=n(867631),o=n.n(a),r=n(112690),s=n(19121),l=n(965900),c=n(773285),d=n(780280),u=n(883119),p=n(969315),h=n(179888),m=n(858416),_=n(785893);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v=(e,t)=>{if(t){const n="control"===t?"v3.pinimg.com":"v2.pinimg.com";return e.replace("v.pinimg.com",n)}return e},y=(e,t)=>"string"==typeof e?v(e,t):Array.isArray(e)?((e,t)=>e[0].src&&t?[{...e[0],src:v(e[0].src,t)}]:e)(e,t):e;class f extends i.PureComponent{constructor(...e){super(...e),g(this,"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:h.Cy.DEFAULT,videoStartTime:this.props.seekTime||0}),g(this,"errorRetryCount",1),g(this,"firstFragBuffered",!1),g(this,"hasPlaybackStarted",!1),g(this,"hasVideoSessionStarted",!1),g(this,"hasVideoSessionEnded",!1),g(this,"hls",null),g(this,"fragStartupTime",{}),g(this,"lastLevelSwitchKbps",null),g(this,"lastStallTime",null),g(this,"lastPauseTime",null),g(this,"logSessionStartOnNextPlay",!1),g(this,"playerId",""),g(this,"videoSessionId",""),g(this,"videoVisibleTime",null),g(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?v(this.props.src,this.props.quicExpGroup):v(this.props.src[0].src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0,videoCreatedTime:null}),g(this,"initializeHls",(()=>{this.destroyHls();const{src:e,hlsConfig:t,quicExpGroup:n}=this.props,i=new(o())(t),a=y(e,n);i.loadSource(a),this.videoPlayerRef&&i.attachMedia(this.videoPlayerRef.video),i.on(o().Events.FRAG_BUFFERED,this.handleHlsFragBuffered),i.on(o().Events.FRAG_CHANGED,this.handleHlsFragChanged),i.on(o().Events.FRAG_LOADING,this.handleHlsFragLoading),i.on(o().Events.FRAG_LOADED,this.handleHlsFragLoaded),i.on(o().Events.MANIFEST_PARSED,(()=>{this.setState({isManifestParsed:!0})})),i.on(o().Events.LEVEL_SWITCHED,this.handleHlsLevelSwitched),i.on(o().Events.ERROR,this.handleHlsError),this.hls=i})),g(this,"destroyHls",(()=>{const{hls:e}=this;e&&e.destroy()})),g(this,"addSegment",(e=>{const{segments:t}=this.playbackPerformance,n=t&&t[t.length-1];if(this.hls&&t.length&&n&&n.uri!==e.url){this.updateWatchDurationForCurrentSegment();const n=this.videoPlayerRef&&this.videoPlayerRef.video,i=this.hls&&this.hls.levels||{},a="number"==typeof e.level?i[e.level]:{},o=this.fragStartupTime[e.url];let r=-1;o&&o.startLoadTime&&o.endLoadTime&&(r=o.endLoadTime-o.startLoadTime);const s={indicatedKbps:a.bitrate/h.bR,duration:e.duration,level:e.level,lastStartPlayTime:this.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:this.hls&&this.hls.bandwidthEstimate/h.bR||-1,playbackStartDate:Date.now(),serverAddress:"",sn:e.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:r,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:n&&n.clientWidth||-1,viewportHeight:n&&n.clientHeight||-1,watchedDurationMs:0};t.push(s)}})),g(this,"initializeSegments",(e=>{const{contextLogData:t={}}=this.props,{is_closeup_video:n=!1}=t,{segments:i}=this.playbackPerformance;if(!i.length)if(this.hls&&this.videoPlayerRef&&this.videoPlayerRef.video&&e){if(!i.length&&"number"==typeof e.level){const t=this.videoPlayerRef&&this.videoPlayerRef.video,n=this.hls.levels,a="number"==typeof e.level?n[e.level]:{},o=this.fragStartupTime[e.url];let r=-1;o&&o.startLoadTime&&o.endLoadTime&&(r=o.endLoadTime-o.startLoadTime),this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/h.bR;const s={indicatedKbps:a.bitrate/h.bR,duration:e.duration,level:e.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:this.hls.bandwidthEstimate/h.bR||-1,playbackStartDate:null,serverAddress:"",sn:e.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:r,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:t.clientWidth,viewportHeight:t.clientHeight,watchedDurationMs:0};i.push(s)}}else(0,p.tE)("initializeSegmentsFailed",!0,n)})),g(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*h.gJ:null)),g(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:n,playing:i}=this.props,{is_closeup_video:a=!1}=t,{canPlayVideo:o}=this.state;(0,p.tE)("handleCanPlayVideo",!0,a,{firstCanPlayEvent:!o,playing:i}),this.playbackPerformance.hasFatalError=!1,o||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),n&&n(e)})),g(this,"handleEnded",(e=>{const{loop:t,onEnded:n}=this.props,{segments:i}=this.playbackPerformance,a=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),this.fragStartupTime={}):t||this.logPlaybackPerformance(h.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:h.Cy.ENDED}),n&&n(e)})),g(this,"handleHlsError",((e,t)=>{var n;const{contextLogData:i={}}=this.props,{is_closeup_video:a=!1}=i;if(this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${t.details}`,t.fatal){var r,s,l,c;this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.errorName=t.type,this.playbackPerformance.errorReason=t.details,this.playbackPerformance.errorCode=t.response&&t.response.code?t.response.code:0;const e={errorName:t.type,errorReason:t.details,errorRetryCount:this.errorRetryCount,errorMessage:(null===(r=t.err)||void 0===r||null===(s=r.message)||void 0===s?void 0:s.slice(0,50))||"unknown",errorResponse:(null===(l=t.response)||void 0===l||null===(c=l.text)||void 0===c?void 0:c.slice(0,50))||"unknown",playbackState:this.state.playbackState};if((0,p.tE)("fatalError",!0,a,e),this.errorRetryCount>0)switch(this.errorRetryCount-=1,t.type){case o().ErrorTypes.NETWORK_ERROR:if(t.details===o().ErrorDetails.MANIFEST_LOAD_ERROR||t.details===o().ErrorDetails.MANIFEST_LOAD_TIMEOUT||t.details===o().ErrorDetails.MANIFEST_LOAD_PARSING_ERROR){var d;const{src:e,quicExpGroup:t}=this.props,n=y(e,t);null===(d=this.hls)||void 0===d||d.loadSource(n)}else{var u;null===(u=this.hls)||void 0===u||u.startLoad()}break;case o().ErrorTypes.MEDIA_ERROR:null===(n=this.hls)||void 0===n||n.recoverMediaError()}}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:h.Cy.FAILED})})),g(this,"handleHlsFragBuffered",((e,t)=>{this.firstFragBuffered||(this.initializeSegments(t.frag),this.firstFragBuffered=!0)})),g(this,"handleHlsFragChanged",((e,t)=>{this.addSegment(t.frag)})),g(this,"handleHlsFragLoading",((e,t)=>{var n;const i=null===(n=t.frag)||void 0===n?void 0:n.url;i&&!this.fragStartupTime[i]&&(this.fragStartupTime[i]={startLoadTime:new Date})})),g(this,"handleHlsFragLoaded",((e,t)=>{var n;t.frag&&t.frag.loaded&&(this.playbackPerformance.downloadedKiloBytes+=t.frag.loaded/h.Fm);const i=null===(n=t.frag)||void 0===n?void 0:n.url;i&&this.fragStartupTime[i]&&this.fragStartupTime[i].startLoadTime&&(this.fragStartupTime[i].endLoadTime=new Date)})),g(this,"handleHlsLevelSwitched",(()=>{this.hls&&this.hls.bandwidthEstimate&&(this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/h.bR)})),g(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:h.Cy.LOADED_METADATA})})),g(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:h.Cy.LOAD_START})})),g(this,"handleLoadedData",(()=>{this.setState({playbackState:h.Cy.LOADED_DATA})})),g(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:h.Cy.PLAYING}),this.props.clearSeekTime()})),g(this,"handleUserPause",(e=>{const{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)})),g(this,"handleVideoPause",(()=>{this.state.playbackState!==h.Cy.STALLING&&this.state.playbackState!==h.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:h.Cy.PAUSED})})),g(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==h.Cy.ENDED&&this.setState({playbackState:h.Cy.SEEKING})})),g(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==h.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1),this.setState({playbackState:h.Cy.STALLING})})),g(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===h.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),g(this,"resetPlaybackMetrics",(()=>{this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastLevelSwitchKbps=null,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.downloadedKiloBytes=0,this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),g(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),g(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),g(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),g(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),g(this,"updateStallDuration",(()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)})),g(this,"updatePauseDuration",(()=>{if(null!==this.lastPauseTime){const e=this.lastPauseTime;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}})),g(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof i&&"number"==typeof n){const e=i-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),g(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:n={},userId:i,isAutoPlay:a,logContextEvent:o}=this.props,{is_closeup_video:r=!1}=n,{canPlayTime:s,detailedErrors:l,downloadedKiloBytes:c,errorCode:d,errorName:u,errorReason:m,hasFatalError:_,playbackStartTimestamp:g,totalPauseDurationMs:v,totalStallDurationMs:y,segments:f,srcString:b,loadStartTime:x,numberOfStalls:w,numberOfSeeks:S}=this.playbackPerformance,P=this.videoPlayerRef&&this.videoPlayerRef.video,T=e===h.DR,k=T&&!this.hasVideoSessionStarted,I=!T&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(this.hls&&P&&(k||I)){var A;let k=-1;s&&x&&(k=s>x?s-x:0);let I=-1;s&&this.videoVisibleTime&&(I=s>this.videoVisibleTime?s-this.videoVisibleTime:0),T&&(this.videoSessionId=(0,h.Y7)(i),this.playerId=this.playerId||(0,h.EB)());const C={autoplaying:a,averageVideoKbps:-1,detailedErrors:l,downloadedKiloBytes:c,isCellular:!1,errorCode:d,errorName:u,errorReason:m,fatalError:_,nativeVideoDurationMs:P.duration*h.gJ||-1,numberOfStalls:w,numberOfSeeks:S,overallPausedDurationMs:v,overallBufferDurationMs:y,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:g||-1,segments:[],sessionMark:e,screenPixelScale:null!==(A=window)&&void 0!==A&&A.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:P.clientWidth,startupPlayerHeight:P.clientHeight,startupTimeMs:k,startupLatencyMs:I,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:P.videoWidth,startupVariantHeight:P.videoHeight,videoUrl:b};if(!T&&f.length){const e=this.hls.levels,t=f[0];this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const n=f.reduce(((t,n)=>{if(n&&"number"==typeof n.level&&e&&e.length>0){return t+(e[n.level]||{}).bitrate*(n.watchedDurationMs||0)/h.gJ}return t}),0),i=f.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);let a=null,o=0,r=0;do{o+=f[r].watchedDurationMs,a=a||f[r].level,r+=1}while(r<f.length&&f[r].level===a);C.startupVariantKbps=t.indicatedKbps,C.startupVariantWatchedDurationMs=o,C.startupVariantWidth=t.sourceWidth,C.startupVariantHeight=t.sourceHeight,C.startupPlayerWidth=t.viewportWidth,C.startupPlayerHeight=t.viewportHeight,C.overallWatchedDurationMs=i,i>0?(C.averageVideoKbps=n/(i/h.gJ),C.rebufferRate=this.playbackPerformance.totalStallDurationMs/i):0===i&&(C.averageVideoKbps=-1,C.rebufferRate=-1,C.errorName="invalid_watch_duration"),C.segments=f}else C.errorName="invalid_watch_duration";(0,p.ZP)(C,!0,r,{playbackState:this.state.playbackState,...t});const{clientTrackingParams:E,component:j,durationNs:R,element:D,objectId:O,pairId:L,viewData:F,view:N,viewParameter:M,...z}=n;o({aux_data:{...z,is_closeup_video:r,playback_session_id:this.videoSessionId},clientTrackingParams:E,component:j,duration_ns:R,element:D,event_data:{videoPerformanceData:C},event_type:3606,object_id_str:O,pair_id:L,view_data:F,view_parameter:M,view_type:N}),T?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,p.tE)(T?"sessionStart":"sessionEnd",!0,r,{playbackState:this.state.playbackState,...t})}}))}componentDidMount(){const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:n=!1}=e;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),(0,p.tE)("videoMounted",!0,n),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(h.DR,{initiator:"mount"}))}componentDidUpdate(e){const{loop:t,playing:n,src:i,visible:a,appInFocus:o,seekTime:r}=this.props;var s,l;r&&r!==e.seekTime&&this.setState({videoStartTime:r}),(typeof(s=e.src)!=typeof(l=i)||(Array.isArray(l)?s.length!==l.length||l.some(((e,t)=>!Array.isArray(s)||e.type!==s[t].type||e.src!==s[t].src)):l!==s))&&this.initializeHls(),e.appInFocus&&!o&&(this.logPlaybackPerformance(h.$f,{initiator:"update",loop:t}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===a&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(h.$f,{initiator:"update",loop:t})),!1===e.visible&&!0===a&&(this.videoVisibleTime=this.videoVisibleTime||new Date,n?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(h.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),n&&o&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(h.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}componentWillUnmount(){const{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(h.$f,{initiator:"unmount",loop:e}),this.destroyHls()}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:s,backgroundColor:l,captions:c,controls:d,loop:p,loopOverride:h,onDurationChange:m,onFullscreenChange:g,onLoadedChange:v,onControlsPlay:f,onPlayheadDown:b,onPlayheadUp:x,onSeek:w,onVolumeChange:S,playbackRate:P,playing:T,playsInline:k,poster:I,preload:A,quicExpGroup:C,src:E,volume:j}=this.props,{canPlayVideo:R,isManifestParsed:D,videoStartTime:O}=this.state,L=y(E,C);return(0,_.jsx)(u.nk,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:s,backgroundColor:l,captions:c,controls:d,loop:void 0===h?p:h,onDurationChange:m,onEnded:this.handleEnded,onFullscreenChange:g,onLoadStart:this.handleLoadStart,onLoadedChange:v,onControlsPause:this.handleUserPause,onControlsPlay:f,onPlaying:this.handlePlaying,onPlayheadDown:b,onPlayheadUp:x,onReady:this.handleCanPlayVideo,onSeek:w,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:S,onWaiting:this.handleStalled,playbackRate:P,onPlay:()=>{},onPlayError:()=>{},playing:D&&R&&T,playsInline:k,poster:I,preload:A,ref:this.setVideoPlayerRef,src:L,startTime:O,volume:j})}}const b=(0,i.memo)((function(e){const{country:t,isAuthenticated:n,isBot:i,isSocialBot:a,unauthId:o,userAgent:u}=(0,d.B)(),h=(0,r.Z)(),g=(0,s.Z)(),{browserName:v,browserVersion:y,isMobile:b}=u,{contextLogData:x={}}=e,{is_closeup_video:w=!1,view:S,viewParameter:P}=x,{checkExperiment:T}=(0,c.F)(),{seekTime:k}=(0,m.Hx)(),{clearSeekTime:I}=(0,m.RC)();let A=null;n&&(A=T("web_video_quic").group.length?T("web_video_quic").group:null);const{appUI:C}=(0,l.I)(),E=T("web_video_fail_to_start_fix").anyEnabled?C.appInFocus:e.appInFocus,j={browserName:v,browserVersion:y,country:t,isAuthenticated:n,isBot:i,is_closeup_video:w,isMobile:b,isSocialBot:a,view:S,viewParameter:P};return(0,p.r$)(j),(0,_.jsx)(f,{...e,userId:g.id||o,appInFocus:E,quicExpGroup:A,logContextEvent:h,seekTime:k,clearSeekTime:I})}))},964082:(e,t,n)=>{function i(e,t){const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,a={...n,...i};for(const o in a){const{paused:t}=a[o];if(o!==e&&!t)return!1}return!0}n.d(t,{Z:()=>i})},36971:(e,t,n)=>{function i(e,t){const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,a={...n,...i};return a[e]&&a[e].currentTime}n.d(t,{Z:()=>i})},428258:(e,t,n)=>{n.d(t,{Z:()=>o,t:()=>a});const i=()=>{var e,t;const n="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0;let i,a=null===(o=window)||void 0===o||!o.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var o;return n?"4g"===n?i="40-80":(a="1x",i="0-1"):i="unknown",{downloadSpeedGroup:i,screenDimension:a}};function a(e){const{downloadSpeedGroup:t,screenDimension:n}=i(),a={"1x":e.V_EXP3,"2x":e.V_EXP5},o={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:a,"0-1":a,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":o,"40-80":o,"80_or_above":o}[t][n]||e.V_720P||void 0}function o(e){const{video_list:t={}}=e,n=a(t),i=t.V_HLSV3_MOBILE||void 0;return n?{hlsv3:i,mp4:n}:{hlsv3:i}}},868565:(e,t,n)=>{function i(e){const t=e.videos&&e.videos.video_list;return t&&Object.keys(t).length?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,{Z:()=>i})},463045:(e,t,n)=>{function i(e,t){const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,a={...n,...i};return!!a[e]&&!a[e].paused}n.d(t,{Z:()=>i})},969315:(e,t,n)=>{n.d(t,{ZP:()=>u,r$:()=>c,tE:()=>d});var i=n(311560),a=n(172071),o=n(179888);const r=["isCellular","videoUrl","sessionMark"];let s={},l="";const c=e=>{const{browserName:t,browserVersion:n,country:a,isAuthenticated:o,isBot:r,isMobile:c,isSocialBot:d,view:u="unknown",viewParameter:p="unknown"}=e;l=(d?"socialBot":r&&"bot")||"nonbot";const h=(0,i.Z)(a);s={browserName:t,browserVersion:(null==n?void 0:n.split(".")[0])||"0",isAuthenticated:o,isMobile:c,region:h,view:u,viewParameter:p}};function d(e,t,n,i={}){const o=n?"closeup":"nonCloseup",r=t?"hls":"nonHls",c={...i,...s},d=`web.video.${r}.${l}.${o}.${e}`;a.Z.increment(d,1,c)}function u(e,t,n,i={}){const c=n?"closeup":"nonCloseup",d=t?"hls":"nonHls",u=e.sessionMark===o.DR?"sessionStart":"sessionEnd",p={...i,...s};if(Object.entries(e).forEach((([t,n])=>{const i=`web.video.${d}.${l}.${c}.${u}.${t}`,o=parseInt(n,10),s="number"==typeof o?o:-1;var h;if(!r.includes(t))if(t.includes("fatalError")&&!0===n){const{errorCode:t,errorName:n,errorReason:o}=e;a.Z.increment(i,1,{errorCode:t,errorName:n,errorReason:o,...p})}else if(t.includes("Width")||t.includes("Height")){const e=(h=s)<0?"negative":0===h?"zero":h<200?"xs":h<400?"s":h<600?"m":h<800?"l":h<1e3?"xl":h<1200?"xxl":"over1200";a.Z.increment(i,1,{dimensionBucket:e,...p})}else if("numberOfStalls"===t){let e=n;s>1e3?e="over1000":s>10?e="over10":s<0&&(e="negative"),a.Z.increment(i,1,{numberOfStalls:e,...p})}else"screenPixelScale"===t?a.Z.increment(i,1,{screenPixelScale:n||-1,...p}):s>=0?(0===s&&a.Z.increment(`${i}.zero`,1,p),a.Z.timing(i,s,1),a.Z.timing(`${i}_with_tags`,s,1,p)):s<0&&a.Z.increment(`${i}.negative`,1,p)})),e.sessionMark!==o.DR){const{rebufferRate:t,screenPixelScale:n,startupLatencyMs:i,startupVariantWidth:o,startupPlayerWidth:r}=e,s=`web.video.${d}.${l}.${c}.${u}`;if("number"==typeof o&&"number"==typeof r&&"number"==typeof n){const e=1.5*o>n*r;a.Z.increment(`${s}.upscaled.${e?"good":"bad"}`,1,p)}"number"==typeof i&&a.Z.increment(`${s}.startupLatency.${i<500?"good":"bad"}`,1,p),"number"==typeof t&&a.Z.increment(`${s}.rebufferRate.${t<.01?"good":"bad"}`,1,p)}}},179888:(e,t,n)=>{n.d(t,{$f:()=>o,Cy:()=>c,DR:()=>a,EB:()=>p,Fm:()=>l,Y7:()=>u,bR:()=>s,gJ:()=>r,lG:()=>d});var i=n(172045);const a=1,o=2,r=1e3,s=1e3,l=1e3,c=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),d=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function u(e){return e+"-"+(0,i.Z)()}function p(){return(0,i.Z)()}},121630:(e,t,n)=>{n.d(t,{Z:()=>o,e:()=>a});var i=n(81226);const a=e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}const i=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"},o=e=>{var t,n,a,o,r;return(0,i.Z)((null===(t=e.videos)||void 0===t?void 0:t.duration)||(null===(n=e.videos)||void 0===n||null===(a=n.video_list)||void 0===a||null===(o=a.V_HLSV4)||void 0===o?void 0:o.duration)||(null===(r=e.story_pin_data)||void 0===r?void 0:r.total_video_duration)||0)}},905723:(e,t,n)=>{n.d(t,{Z:()=>i});const i={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},523563:(e,t,n)=>{function i(e,t,n){return Object.keys(e).reduce(((n,i)=>n+Math.abs(e[i]-t[i])),0)<=n}n.d(t,{Z:()=>i})},229428:(e,t,n)=>{function i(e){return e.filter((e=>e.is_stela))}function a(e){return e.filter((e=>!!e.label))}n.d(t,{k:()=>i,m:()=>a})},975540:(e,t,n)=>{function i({cropArea:{x:e,y:t,w:n,h:i},scaledWidth:a,scaledHeight:o}){return{x:e/a,y:t/o,w:n/a,h:i/o}}n.d(t,{Z:()=>i})},599611:(e,t,n)=>{function i({cropArea:{x:e=0,y:t=0,w:n=0,h:i=0},scaledWidth:a,scaledHeight:o}){return{h:Math.floor(i*o),w:Math.floor(n*a),x:Math.floor(e*a),y:Math.floor(t*o)}}n.d(t,{Z:()=>i})},94047:(e,t,n)=>{function i({cropArea:{x:e,y:t,w:n,h:i},cropSource:a,searchQuery:o,entrySource:r,trafficSource:s,imageSignature:l}){const c=[];e>=0&&t>=0&&n>=0&&i>=0&&c.push(`x=${e}`,`y=${t}`,`w=${n}`,`h=${i}`),a&&c.push(`cropSource=${a}`),r&&c.push(`entrySource=${r}`),o&&c.push(`q=${o}`),l&&c.push(`imageSignature=${l}`),s&&"unknown"!==s&&c.push(`rs=${s}`);return c.length?`?${c.join("&")}`:""}n.d(t,{Z:()=>i})},297852:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(94047);function a({cropArea:e,cropSource:t,entrySource:n,isUnified:a,imageSignature:o,pinId:r,searchQuery:s,trafficSource:l,view:c}){return`/pin/${r}/${a?"related-products":"visual-search"}/${a||"products"!==c?"":"products/"}${(0,i.Z)({cropArea:e,cropSource:t,entrySource:n,trafficSource:l,searchQuery:s,imageSignature:o})}`}},43760:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(768559),a=n(102500),o=n(48714);function r({url:e,pinId:t,pin:n,location:r,auxData:s}){var l,c;const d={check_only:!0,client_tracking_params:n?(0,i.Z)({boardUrl:null===(l=n.board)||void 0===l?void 0:l.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:r,pinId:n.id,pinnerUserName:null===(c=n.pinner)||void 0===c?void 0:c.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map}):void 0,pin_id:n?n.id:t,url:e,aux_data:JSON.stringify(s)};(0,a.Z)(d).callGet().then((a=>{if(a&&a.resource_response&&!a.resource_response.error){const{resource_response:e}=a,{redirect_status:t,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(t)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){const e=new window.Windows.Foundation.Uri(n);window.Windows.System.Launcher.launchUriAsync(e)}return}}if(n){var l,c;const a=(0,i.Z)({boardUrl:null===(l=n.board)||void 0===l?void 0:l.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:r,pinId:n.id,pinnerUserName:null===(c=n.pinner)||void 0===c?void 0:c.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map});(0,o.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:a,auxData:s})}else(0,o.Gj)({url:e,pinId:t})}))}},869899:(e,t,n)=>{n.r(t),n.d(t,{RoleBasedAccessControlProvider:()=>f,useRoleBasedAccessControlContext:()=>y});var i=n(667294),a=n(389643),o=n(784590),r=n(19121),s=n(773285),l=n(425288),c=n(70061);const d=e=>{const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,c.Z)(n)]=e[n]:t[(0,c.Z)(n)]=d(e[n]));return t},u=(e,t)=>{const n=[];for(const o in e)o!==t&&n.push({id:o,...d(e[o])});const i=n.sort((({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t))),a=new Map;for(const o of i)a.set(o.id,o);return a};var p=n(339363);const h={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},m=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},_=e=>{const[t,n]=(0,i.useReducer)(m,h),a=(({dispatch:e,isEnabled:t,state:n})=>{const{orbacVisibility:a,disableProfileChanger:o,headerVisible:r}=n;return{changeProfile:(0,i.useCallback)((n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})}),[t,e]),toggleORBACVisibility:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=n?n:!a})}),[t,e,a]),toggleDisableProfileChanger:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=n?n:!o})}),[t,e,o]),toggleHeaderVisibility:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=n?n:!r})}),[t,e,r])}})({dispatch:n,isEnabled:e,state:t}),{activeProfile:o,orbacVisibility:r}=t;(0,i.useEffect)((()=>{const e=(0,p.qn)("orbacActiveProfile",!1);e&&n({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,i.useEffect)((()=>{const e=(0,p.qn)("orbacVisibilty",!1);e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,i.useEffect)((()=>{(0,p.Nh)("orbacVisibility",r)}),[r]),(0,i.useEffect)((()=>{(0,p.Nh)("orbacActiveProfile",o)}),[o]);return{state:t,actions:a,receiveProfiles:(0,i.useCallback)(((e,t)=>{n({type:"LOAD_PROFILES",payload:u(e,t)})}),[n])}};var g=n(785893);const{Provider:v,useMaybeHook:y}=(0,l.Z)("RoleBasedAccessControlContext"),f=({children:e})=>{const{checkExperiment:t}=(0,s.F)(),n=(0,r.Z)(),l=Boolean(n.isAuth&&n.isPartner&&t("web_m10n_business_access_orbac_www").anyEnabled),{state:c,actions:d,receiveProfiles:u}=_(l),{activeProfile:p,headerVisible:h,profiles:m=[]}=c,y=m?Array.from(m.values()):[],f=(0,a.Z)(y),b=!!(n.isAuth&&y.length>0)&&f,x=n.isAuth?n.id:"",w=n.isAuth?n.username:"",{changeProfile:S,toggleORBACVisibility:P,toggleDisableProfileChanger:T,toggleHeaderVisibility:k}=d;(0,i.useEffect)((()=>{l&&("string"!=typeof f?p||S(x):S(f))}),[f,x,l,S,p]),(0,i.useEffect)((()=>{l&&(b&&!h&&k(!0),!b&&h&&k(!1))}),[k,b,l,h,m]);const{data:I}=(0,o.Z)(l?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),A=null==I?void 0:I.profiles;let C;n&&n.isAuth&&c.activeProfile===n.id?C={id:n.id,permissions:["OWNER"],user:{username:w,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:p&&c.profiles&&(C=c.profiles.get(p)),(0,i.useEffect)((()=>{A&&u(A,x)}),[u,A,x]);const E=c.profiles?Array.from(c.profiles.values()):[];return(0,g.jsx)(v,{value:{profiles:E,headerVisible:c.headerVisible,activeProfile:C,changeProfile:S,toggleORBACVisibility:P,toggleDisableProfileChanger:T,toggleHeaderVisibility:k},children:e})}},717615:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(389643),a=n(773285),o=n(869899);const r=()=>{const{checkExperiment:e}=(0,a.F)(),t=(0,o.useRoleBasedAccessControlContext)(),{activeProfile:n}=t||{},r=e("web_m10n_business_access_orbac_www").anyEnabled,s=(0,i.Z)((null==t?void 0:t.profiles)||[]),{anyEnabled:l}=e("useorbacroutematcher_in_useorbacactingas");return r?l&&!s?Object.freeze({}):n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({}):Object.freeze({})}},389643:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(19121),a=n(773285),o=n(350118),r=n(53987),s=n(276775);const l=e=>{var t,n,l,c;const d=(0,s.useLocation)(),u=(0,i.Z)(),p=(0,o.S6)(),{anyEnabled:h}=(0,a.F)().checkExperiment("web_m10n_business_access_orbac_www"),m=(0,s.useRouteMatch)("/:username"),_=null==m||null===(t=m.params)||void 0===t?void 0:t.username,g=(0,s.useRouteMatch)("/pin/:id"),v=!(null==g||null===(n=g.params)||void 0===n||!n.id)&&(null===(l=p(g.params.id))||void 0===l||null===(c=l.pinner)||void 0===c?void 0:c.id);if((0,r.ej)(d))return!1;if((0,r.RU)(d))return!0;if((0,r.mY)(d))return h;const y=e.concat(u.isAuth?{user:{username:u.username},id:u.id}:{}).find((e=>{const{user:t={},id:n}=e||{},{username:i}=t;return!!(i&&_||v&&n)&&(i===_||v===n)}));return!!y&&y.id}},231947:(e,t,n)=>{n.d(t,{D3:()=>c,DX:()=>s,KY:()=>d,Ms:()=>i,N1:()=>u,_P:()=>r,lJ:()=>o,nl:()=>a,q6:()=>l});const i=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},a=(e,t)=>Boolean(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),o=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",r=(e,t,n)=>{var i;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null===(i=e.advertiser)||void 0===i?void 0:i.merchant_id},s=(e,t,n)=>n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,l=(e,t,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t),c=(e,t,n)=>!!(l(e,t,n)||e&&e.isAuth&&t===e.id),d=(e,t,n)=>{const i=t&&t.owner&&t.owner.id||"";return c(e,i,n)};function u(e,t,n){const i=t?t.id:"";return c(e,i,n)}},522679:(e,t,n)=>{n.d(t,{N:()=>u,t:()=>p});var i=n(667294),a=n(904431),o=n(924196),r=n(78714),s=n(214494),l=n(425288),c=n(785893);const{Provider:d,useHook:u}=(0,l.Z)("LinkedAccount");function p({children:e}){const[t,n]=(0,i.useState)(!1),[l,u]=(0,i.useState)([]),p=(0,i.useCallback)((({businessName:e,thirdPartyApps:t,thirdPartyMarketingTrackingEnabled:i,nextUrl:l})=>{n(!0);const c={business_name:e,third_party_apps:t};return s.Z.create("BusinessOwnershipResource",c).callCreate({showError:!0}).then((()=>{i&&(a.Z.reportFacebookConversion(o.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),a.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),a.Z.reportLinkedInConversion(o.Z.LINKEDIN_PARTNER_ID,o.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),a.Z.reportGoogleConversion(o.Z.GOOGLE_ADWORDS_ID,o.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT)),n(!1),(e=>{(0,r.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")})(l)})).catch((e=>(n(!1),Promise.reject({error:e}))))}),[n]),h=(0,i.useMemo)((()=>({createLinkedBusinessAccount:p,linkedBusinessCreationLoading:t,userAccounts:l,userAccountsRetrieved:u})),[p,t,u,l]);return(0,c.jsx)(d,{value:h,children:e})}},965900:(e,t,n)=>{n.d(t,{g:()=>h,I:()=>p});var i=n(667294),a=n(567450),o=n(150361),r=n.n(o);const s={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},l=(e=s,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){const{payload:n}=t,{pinId:i,isPromoted:a,currentTime:o,inVideoGridAutoplayExp:s}=n,{videosAutoplaying:l}=e,{currentlyPlayingOrganicVideoId:c,promotedVideosAutoplaying:d,organicVideosAutoplaying:u}=l,p=r()(d),h=r()(u);return!a&&c&&s?e:(a?p[i]={pinId:i,currentTime:o,paused:!1}:h[i]={pinId:i,currentTime:o,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:a?c:i,promotedVideosAutoplaying:p,organicVideosAutoplaying:h}})}if("SET_IS_AUTOPLAY"===t.type)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){const{payload:n}=t,{pinId:i,isPromoted:a,currentTime:o}=n,{videosAutoplaying:s}=e,{promotedVideosAutoplaying:l,organicVideosAutoplaying:c}=s,d=r()(l),u=r()(c);return a?d[i]={...d[i],paused:!0,currentTime:o}:u[i]={...u[i],paused:!0,currentTime:o},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:d,organicVideosAutoplaying:u}}}return"SET_APP_FOCUS_STATE"===t.type?{...e,appInFocus:t.payload}:"SET_VIEWPORT_SIZE"===t.type?{...e,viewportSize:t.payload}:"SET_FOOTER_VISIBILITY_STATE"===t.type?{...e,footerPlusButtonVisible:t.payload}:e};var c=n(425288),d=n(785893);const{Provider:u,useHook:p}=(0,c.Z)("AppUI");function h({children:e}){const[t,n]=(0,i.useReducer)(l,s),o=(0,i.useCallback)((e=>n({type:"PAUSE_CURRENT_VIDEO",payload:e})),[]),r=(0,i.useCallback)((e=>n({type:"SET_APP_FOCUS_STATE",payload:e})),[]),c=(0,i.useCallback)((e=>n({type:"SET_CURRENT_VIDEO",payload:e})),[]),p=(0,i.useCallback)((e=>n({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})),[]),h=(0,i.useCallback)((e=>n({type:"SET_IS_AUTOPLAY",payload:e})),[]),m=(0,i.useCallback)((e=>n({type:"SET_VIEWPORT_SIZE",payload:e})),[]),_=(0,i.useCallback)((e=>n({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})),[]),g=(0,i.useMemo)((()=>({pauseAutoplay:o,setCurrentVideo:c,setFooterPlusButtonVisible:p,setIsAutoplay:h,setViewportSize:m,toggleTypeaheadOverlay:_,setAppFocusState:r,appUI:t})),[o,c,p,h,m,_,r,t]);return(0,i.useEffect)((()=>{a.Z.onSessionResume((()=>{r(!0)})).onSessionPause((()=>{r(!1)}))}),[r]),(0,d.jsx)(u,{value:g,children:e})}},40706:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(62700),a=n(883119),o=n(785893);const r={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function s({pin:e,enableCloseupLink:t}){const{aggregated_pin_data:n}=e,{pin_tags_chips:s}=n||{},l=s&&s.length>=3?s.slice(0,3):[];return(0,o.jsx)(a.xu,{display:"flex",dangerouslySetInlineStyle:{__style:r.chipContainer},children:l.map((n=>{var s,l,c,d;const u=(null===(s=n.images)||void 0===s?void 0:s["750x"])||{},p=(0,o.jsx)(a.Ee,{alt:"",fit:"cover",naturalHeight:null!==(l=u.height)&&void 0!==l?l:1,naturalWidth:null!==(c=u.width)&&void 0!==c?c:1,role:"presentation",src:null!==(d=u.url)&&void 0!==d?d:""});return(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:r.chip},"data-test-id":"collageChip",children:(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:r.chipInner},position:"relative",children:(0,o.jsx)(a.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,o.jsx)(a.zd,{height:"100%",wash:!0,width:"100%",children:t?(0,o.jsx)(i.Z,{sizing:"fullSize",collageChipId:n.id,pin:e,children:p}):p})})})},n.id)}))})}},199387:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(407043),o=n(576440);function r(e,t){const{logContextEvent:n}=(0,a.v)(),{componentType:r,contextLogData:s,viewParameter:l,viewType:c}=(0,o.E)(),{aux_data:d,view_type:u,view_parameter:p,component:h,clientTrackingParams:m,..._}=null!=t?t:{};return(0,i.useCallback)((()=>{n({event_type:e,view_type:u||c,view_parameter:p||l,component:h||r,clientTrackingParams:m,..._,aux_data:{...d,...s}})}),[n,d,m,_,p,u,h,r,s,e,l,c])}},225692:(e,t,n)=>{n.d(t,{X:()=>a,Z:()=>o});var i=n(667294);const a=120;function o(e,t=0,n=a){const[o,r]=(0,i.useState)(e?"active":"inactive");return(0,i.useEffect)((()=>{if(!e){const e=setTimeout((()=>r("inactive")),n);return()=>{clearTimeout(e)}}if(t){const e=setTimeout((()=>r("active")),t);return()=>{clearTimeout(e)}}r("active")}),[e]),o}},350445:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(898781),a=n(883119),o=n(785893);const r={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},s={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},l={overlay:{__style:{backgroundColor:"#000"}}};function c({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:c,pinTitle:d,pinId:u}){const p=(0,i.ZP)();return(0,o.jsxs)(a.Ee,{alt:d||p._('pin image', 'image of a pin', 'image of a pin'),naturalHeight:t,naturalWidth:n,src:e,children:[(0,o.jsx)(a.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:l.overlay}),(0,o.jsxs)(a.xu,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":`video-end-card-${u}`,children:[(0,o.jsx)(a.iP,{rounding:2,children:(0,o.jsxs)(a.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,o.jsx)(a.JO,{accessibilityLabel:p._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website'),color:"light",dangerouslySetSvgPath:s,size:25}),(0,o.jsx)(a.xu,{margin:1}),(0,o.jsx)(a.xv,{color:"light",lineClamp:1,weight:"bold",children:p._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website')})]})}),(0,o.jsx)(a.xu,{margin:3}),(0,o.jsx)(a.iP,{onTap:c,rounding:2,children:(0,o.jsxs)(a.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,o.jsx)(a.JO,{accessibilityLabel:p._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"light",dangerouslySetSvgPath:r,size:25}),(0,o.jsx)(a.xu,{margin:1}),(0,o.jsx)(a.xv,{color:"light",lineClamp:1,weight:"bold",children:p._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video')})]})})]})]})}},697247:(e,t,n)=>{n.d(t,{$:()=>o,B:()=>a});var i=n(425288);const{Provider:a,useHook:o}=(0,i.Z)("SurfaceContext",{surface:"Unknown"})},576440:(e,t,n)=>{n.d(t,{B:()=>a,E:()=>o});var i=n(425288);const{Provider:a,useHook:o}=(0,i.Z)("trackingParametersContext")},238771:(e,t,n)=>{n.d(t,{ZP:()=>k,we:()=>T,nn:()=>P,zn:()=>S});var i=n(667294),a=n(941646),o=n(883119),r=n(785893);function s({iconAccessibilityLabel:e,icon:t,linkAccessibilityLabel:n,showNavigationIcon:i,text:s}){return(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(a.Z,{id:"ad-reason-icon",children:(0,r.jsx)(o.Sj,{accessibilityLabel:e,bgColor:"lightGray",icon:t,iconColor:"darkGray"})}),(0,r.jsx)(o.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,r.jsx)(o.xv,{children:s})}),i&&n&&(0,r.jsx)(o.kC,{direction:"column",justifyContent:"center",children:(0,r.jsx)(o.JO,{accessibilityLabel:n,color:"default",icon:"arrow-forward"})})]})}var l=n(898781),c=n(966113),d=n(170168),u=n(349700),p=n(407043);function h({brandName:e,country:t,language:n,isAgeMatched:i,isBehaviorTargetingMatched:h,isCustomerListMatched:m,isGeoPostalCodeMatched:_,isGeoRegionMatched:g,isShoppingTargetingRematched:v}){const{logContextEvent:y}=(0,p.v)(),f=(0,l.ZP)();return(0,r.jsx)(a.Z,{id:"ad-reasons",children:(0,r.jsxs)(o.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[(_||g)&&(0,r.jsx)(o.iP,{role:"link",href:`${d.C0}${c.QL}`,onTap:()=>{y({event_type:101,component:13756,element:12059})},target:"blank",children:(0,r.jsx)(s,{iconAccessibilityLabel:f._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location'),icon:"location",linkAccessibilityLabel:f._('Navigate to account settings', 'app.common.react.components.PinRep.components.AdReasonRow.icon', 'An icon for navigating to account settings'),showNavigationIcon:!0,text:(0,u.nk)(f._('Your primary location is in {{countryName}} and your primary language is {{language}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting', 'Ad explanation for targeting location'),{countryName:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-country-name"),language:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-language")})})}),i&&(0,r.jsx)(s,{iconAccessibilityLabel:f._('Icon for ad targeting age', 'app.common.react.components.PinRep.components.AdReasons.ageIcon', 'Icon for ad targeting age'),icon:"person",text:(0,u.nk)(f._('{{ brandName }} is trying to reach people in your age range', 'app.common.react.components.PinRep.components.AdReasonsModal.ageTargeting', 'Ad explanation for targeting age range'),{brandName:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-age-brand-name")})}),h&&(0,r.jsx)(s,{iconAccessibilityLabel:f._('Icon for ad targeting search history', 'app.common.react.components.PinRep.components.AdReasons.searchIcon', 'Icon for ad targeting search history'),icon:"search",text:f._('Your Pinterest browsing history and search behavior', 'app.common.react.components.PinRep.components.AdReasonsModal.searchTargeting', 'Ad explanation for targeting the search history of the user')}),v&&(0,r.jsx)(s,{iconAccessibilityLabel:f._('Icon for ad targeting customers who interacted with this brand previously', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingIcon', 'Ad explanation for targeting users who have interacted with an advertiser brand'),icon:"clock",text:(0,u.nk)(f._('You\'ve interacted with {{brandName}} before', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingText', 'Text explaining the ad reason for targeting users who interacted with brand previously, brandName: promoter name'),{brandName:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:e},"retargeting-ad-reason")})}),m&&(0,r.jsx)(s,{iconAccessibilityLabel:f._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.genderIcon', 'Icon for ad targeting gender'),icon:"menu",text:(0,u.nk)(f._('You\'re on an audience list provided by {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting', 'Ad explanation for targeting customer list, brandName: promoter name'),{brandName:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-customer-list")})})]})})}var m=n(19121),_=n(698330);function g({brandName:e,language:t,geoRegion:n,geoPostalCode:i,ageBucketMatch:c,localeMatch:d,interestMatch:p,genderMatch:h,deviceMatch:g,isCustomerListMatched:v,isShoppingTargetingRematched:y,isActAlikeMatched:f,isEngagementMatched:b,isExpandTargetingMatched:x,isFromGPSLocation:w,isVisitorMatched:S,gender:P,device:T}){var k;const I=(0,l.ZP)(),{id:A}=(0,m.Z)(),C=(0,_.mN)()(null!=A?A:""),E=null!==(k=null==C?void 0:C.gender)&&void 0!==k?k:"";return(0,r.jsx)(a.Z,{id:"ad-reasons",children:(0,r.jsxs)(o.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[""!==c&&(0,r.jsx)(s,{iconAccessibilityLabel:I._('Icon for ad targeting age bucket', 'app.common.react.components.PinRep.components.AdReasons.ageIcon', 'Icon for ad targeting age bucket'),icon:"person",text:(0,u.nk)(I._('Age {{ ageBucketMatch }}', 'app.common.react.components.PinRep.components.AdReasonsModal.ageBucketMatch', 'Ad explanation for targeting age range, ageBucketMatch: Users age range'),{ageBucketMatch:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:c},"ad-reasons-age-bucket")})}),""!==h&&"unspecified"!==E&&(0,r.jsx)(s,{iconAccessibilityLabel:I._('Icon for ad targeting gender', 'app.common.react.components.PinRep.components.AdReasons.genderIcon', 'Icon for ad targeting gender'),icon:"person",text:(0,u.nk)(I._('{{ gender }}', 'app.common.react.components.PinRep.components.AdReasonsModal.genderMatch', 'Ad explanation for targeting gender, gender: Users gender'),{gender:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:P},"ad-reasons-gender")})}),""!==n&&(0,r.jsx)(s,{iconAccessibilityLabel:I._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location, v2'),icon:"location",text:(0,u.nk)(I._('Based in {{geoRegion}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargetingV2', 'Ad explanation for targeting location v2, geoRegion: location user is based in'),{geoRegion:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-country-name")})}),""!==i&&(0,r.jsx)(s,{iconAccessibilityLabel:I._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location, v2'),icon:"location",text:(0,u.nk)(I._('Based in {{geoPostalCode}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargetingV2', 'Ad explanation for targeting location v2, geoPostalCode: location user is based in'),{geoPostalCode:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-country-name")})}),""!==d&&(0,r.jsx)(s,{iconAccessibilityLabel:I._('Icon for ad targeting locale', 'app.common.react.components.PinRep.components.AdReasons.localeIcon', 'Icon for ad targeting locale'),icon:"globe",text:(0,u.nk)(I._('Primary language {{ language }}', 'app.common.react.components.PinRep.components.AdReasonsModal.localeMatch', 'Ad explanation for targeting age range, language: Users language'),{language:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-locale")})}),""!==g&&(0,r.jsx)(s,{iconAccessibilityLabel:I._('Icon for ad targeting device', 'app.common.react.components.PinRep.components.AdReasons.deviceIcon', 'Icon for ad targeting device'),icon:"desktop",text:(0,u.nk)(I._('Using {{ device }}', 'app.common.react.components.PinRep.components.AdReasonsModal.deviceMatch', 'Ad explanation for targeting device, device: Users device'),{device:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:T},"ad-reasons-device")})}),""!==p&&(0,r.jsx)(s,{iconAccessibilityLabel:I._('Icon for ad targeting interest', 'app.common.react.components.PinRep.components.AdReasons.interestIcon', 'Icon for ad targeting interest'),icon:"heart",text:(0,u.nk)(I._('Interested in {{ interestMatch }}', 'app.common.react.components.PinRep.components.AdReasonsModal.interestMatch', 'Ad explanation for targeting interest, interestMatch: Users interest'),{interestMatch:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:p},"ad-reasons-interest")})}),y&&(0,r.jsx)(s,{iconAccessibilityLabel:I._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.shoppingTargeting', 'Icon for ad targeting shopping targeting'),icon:"history",text:(0,u.nk)(I._('Interacted with {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargeting', 'Ad explanation for shopping targeting, brandName: promoter name'),{brandName:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-shopping-targeting")})}),S&&(0,r.jsx)(s,{iconAccessibilityLabel:I._('Icon for ad targeting customers who interacted with this brand previously, visitor matched', 'app.common.react.components.PinRep.components.AdReasonsModal.visitorMatchIcon', 'Ad explanation for visitor targeting users who have interacted with an advertiser brand'),icon:"history",text:(0,u.nk)(I._('Interacted with {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.visitorTargetingText', 'Text explaining the ad reason for visitor targeting users who interacted with brand previously, brandName: promoter name'),{brandName:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:e},"ad-reason-visitor")})}),v&&(0,r.jsx)(s,{iconAccessibilityLabel:I._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.listIcon', 'Icon for ad targeting customer list'),icon:"menu",text:(0,u.nk)(I._('On a list provided by {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.customerListTargetingV2', 'Ad explanation for targeting customer list v2, brandName: promoter name'),{brandName:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-customer-list")})}),b&&(0,r.jsx)(s,{iconAccessibilityLabel:I._('Icon for ad targeting user on engagement audience', 'app.common.react.components.PinRep.components.AdReasons.engagementIcon', 'Icon for ad targeting engagement'),icon:"pin",text:(0,u.nk)(I._('Interacted with {{brandName}} on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.engagementTargeting', 'Ad explanation for targeting engagement audience, brandName: promoter name'),{brandName:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-engagement")})}),f&&(0,r.jsx)(s,{iconAccessibilityLabel:I._('Icon for ad targeting user on act alike', 'app.common.react.components.PinRep.components.AdReasons.actAlikeIcon', 'Icon for ad targeting act alike'),icon:"graph-bar",text:(0,u.nk)(I._('Similar demographic or interest as other {{brandName}} customers', 'app.common.react.components.PinRep.components.AdReasonsModal.', 'Ad explanation for targeting act alike, brandName: promoter name'),{brandName:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-act-alike")})}),x&&(0,r.jsx)(s,{iconAccessibilityLabel:I._('Icon for ad targeting user on expand targeting', 'app.common.react.components.PinRep.components.AdReasons.expandTargeting', 'Icon for ad expand targeting'),icon:"pinterest",text:I._('Relevant activity on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.expandTargeting', 'Ad explanation for targeting ')}),w&&(0,r.jsx)(s,{iconAccessibilityLabel:I._('Icon for ad targeting user on GPS', 'app.common.react.components.PinRep.components.AdReasons.GPS', 'Icon for ad targeting GPS'),icon:"location",text:I._('GPS Location', 'app.common.react.components.PinRep.components.AdReasonsModal.GPS', 'Ad explanation for targeting GPS')})]})})}var v=n(121151),y=n(773285);function f({onDismiss:e,brandName:t,userName:n,country:i,language:s,geoRegion:m,geoPostalCode:_,ageBucketMatch:f,localeMatch:b,interestMatch:x,genderMatch:w,deviceMatch:T,isAgeMatched:k,isBehaviorTargetingMatched:I,isCustomerListMatched:A,isGeoPostalCodeMatched:C,isGeoRegionMatched:E,isShoppingTargetingRematched:j,isActAlikeMatched:R,isEngagementMatched:D,isExpandTargetingMatched:O,isFromGPSLocation:L,isVisitorMatched:F}){const{logContextEvent:N}=(0,p.v)(),M=(0,l.ZP)(),z=S(w,M),Z=P(T,M),B=()=>{N({event_type:101,component:13756,element:12058})},U=C||E||k||I||j||A||D||R||O||L||F||""!==f||""!==b||""!==x||""!==z||""!==Z||""!==m||""!==_,{checkExperiment:H}=(0,y.F)(),V=H("ads_web_waista_v2").anyEnabled,$=d.C0+`/${n}/`;return(0,r.jsx)(v.ZP,{accessibilityModalLabel:M._('Why am I seeing this Ad?', 'app.common.react.components.PinRep.components.AdReasonsModal', 'Modal for explaining the reasons an advertiser is targeting a user'),onDismiss:e,children:(0,r.jsxs)(o.xu,{paddingX:8,paddingY:6,children:[(0,r.jsxs)(o.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,r.jsx)(o.xu,{position:"absolute",left:!0,children:(0,r.jsx)(o.hU,{accessibilityLabel:M._('Close', 'app.common.react.components.PinRep.components.AdReasonsModal.closeModal', 'Close ad reasons modal'),icon:"cancel",iconColor:"darkGray",onClick:()=>{N({event_type:102,element:11925,component:13756}),e()},size:"sm"})}),V?(0,r.jsx)(o.X6,{align:"center",size:"500",children:M._('Why you\'re seeing this ad', 'Heading for promoted Pins explanation, v2', 'Heading for promoted pins explanation, WAISTA v2')}):(0,r.jsx)(o.X6,{align:"center",size:"500",children:M._('Why am I seeing this ad?', 'Heading for promoted Pins explanation', 'Heading for promoted pins explanation')})]}),(0,r.jsxs)(o.xu,{children:[(0,r.jsxs)(o.kC,{direction:"column",gap:{row:0,column:4},children:[V?null:(0,r.jsx)(o.xu,{children:(0,r.jsx)(o.xv,{children:(0,u.nk)(M._('{{ brandName }} wants to get their ads in front of people like you. {{ learnMoreLink }}', 'app.common.react.components.PinRep.components.AdReasonsModal.advertiserExplanation', 'text informing the user about who is the advertiser'),{brandName:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name"),learnMoreLink:(0,r.jsx)(a.Z,{id:"ad-reasons-learn-more-link",children:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,r.jsx)(o.rU,{href:c.UF,display:"inlineBlock",onClick:()=>{N({event_type:101,component:13756,element:12057})},target:"blank",underline:"hover",children:M._('Learn more', 'app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink', 'Learn more link for info about the reasons an ad is shown')})},"ad-reasons-learn-more-link")})})})}),U&&(0,r.jsx)(o.xu,{marginBottom:4,children:V?(0,r.jsx)(o.xv,{children:(0,u.nk)(M._('{{ brandName }} is trying to reach specific groups of people. Based on what you\'ve told us or other information, we think you fit some of those groups:', 'app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanationWAISTAv2', 'text informing the user about who is the advertiser\'s target audience, for WAISTAv2 brandName: is promoter name'),{brandName:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,r.jsx)(o.rU,{href:$,display:"inlineBlock",onClick:()=>{N({event_type:101,component:13756,element:13407})},target:"blank",underline:"hover",children:t})},"ad-reasons-brand-name")})}):(0,r.jsx)(o.xv,{children:(0,u.nk)(M._('{{ brandName }} is trying to reach people who fit the following criteria:', 'app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanation', 'text informing the user about who is the advertiser\'s target audience'),{brandName:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name")})})})]}),(0,r.jsx)(a.Z,{id:"ad-reasons",children:(0,r.jsxs)(o.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[!V&&(0,r.jsx)(h,{brandName:t,country:i,language:s,isAgeMatched:k,isBehaviorTargetingMatched:I,isCustomerListMatched:A,isGeoPostalCodeMatched:C,isGeoRegionMatched:E,isShoppingTargetingRematched:j}),V&&(0,r.jsx)(g,{brandName:t,language:s,geoRegion:m,geoPostalCode:_,ageBucketMatch:f,localeMatch:b,genderMatch:w,interestMatch:x,deviceMatch:T,isCustomerListMatched:A,isShoppingTargetingRematched:j,isActAlikeMatched:R,isEngagementMatched:D,isExpandTargetingMatched:O,isFromGPSLocation:L,isVisitorMatched:F,gender:z,device:Z}),U&&!V&&(0,r.jsx)(o.xu,{marginBottom:1,children:(0,r.jsx)(o.xv,{children:M._('There could also be more factors not listed here.', 'app.common.react.components.PinRep.components.AdReasonsModal.miscFactors', 'Text explaining there are more targeting factors')})}),U&&V?(0,r.jsx)(o.xu,{marginBottom:1,children:(0,r.jsx)(o.xv,{children:(0,u.nk)(M._('If this isn\'t right, {{ changeUserSettings }}', 'app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettingsText', 'Text explaining how to update personal information, changeUserSettings: link to personal settings'),{changeUserSettings:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,r.jsx)(o.rU,{display:"inline",href:`${d.C0}${c.AH}`,onClick:()=>{N({event_type:101,component:13756,element:13361})},target:"blank",underline:"hover",children:M._('update your personal information', 'app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettings', 'Link for updating personal information')})},"ad-reasons-change-user-settings")})})}):null]})}),(0,r.jsxs)(o.kC,{direction:"column",gap:{row:0,column:1},children:[(0,r.jsx)(o.xu,{marginBottom:3,marginTop:3,children:V?null:(0,r.jsx)(o.iz,{})}),(0,r.jsx)(o.xu,{marginBottom:1,marginTop:1,children:V?(0,r.jsx)(o.X6,{size:"400",children:M._('Ads on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.adsOnPinterestHeading', 'Text for explaining Ads on Pinterest')}):(0,r.jsx)(o.X6,{size:"400",children:M._('I don\'t want to see this ad', 'app.common.react.components.PinRep.components.AdReasonsModal.hideThisAdHeading', 'Text for explaining how to hide an ad')})}),(0,r.jsx)(o.xu,{marginBottom:4,children:V?(0,r.jsx)(o.xv,{children:(0,u.nk)(M._('We show you ads that may be based on your profile settings, websites you visit, ads you interact with or other factors. {{adPreferencesLink}}', 'app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesText', 'Text explaining what ads are based on, adPreferencesLink: link to privacy settings'),{adPreferencesLink:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,r.jsx)(o.rU,{display:"inline",href:`${d.C0}${c.Gx}`,onClick:()=>{N({event_type:101,component:13756,element:13401})},target:"blank",underline:"hover",children:M._('Review your ad preferences', 'app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesLink', 'Privacy settings link')})},"ad-reasons-ad-preferences")})}):(0,r.jsx)(o.xv,{children:(0,u.nk)(M._('If you don\'t want to see ads from a specific advertiser you can block the advertiser\'s Pinterest profile. {{learnMoreLink}}', 'app.common.react.components.PinRep.components.AdReasonsModal.blockAdvertiserText', 'Text explaining how to block an advertiser profile'),{learnMoreLink:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,r.jsx)(o.rU,{display:"inlineBlock",href:c.K_,onClick:B,target:"blank",underline:"hover",children:M._('Learn more', 'app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink', 'Learn more link for info about the reasons an ad is shown')})},"ad-reasons-learn-more-link")})})}),(0,r.jsx)(o.xu,{marginBottom:4,children:V&&(0,r.jsx)(o.xv,{children:(0,u.nk)(M._('For more about how we collect and use data, {{ privacyPolicyLink }}', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText', 'Text explaining how we collect and use data, privacyPolicyLink: link to privacy policy'),{privacyPolicyLink:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,r.jsx)(o.rU,{display:"inline",href:c.R_,onClick:()=>{N({event_type:101,component:13756,element:13402})},target:"blank",underline:"hover",children:M._('read our Privacy Policy', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyLink', 'Privacy policy link for reading how data is collected and used')})},"ad-reasons-privacy-policy")})})}),(0,r.jsx)(o.xu,{marginBottom:4,children:V&&(0,r.jsx)(o.xv,{children:(0,u.nk)(M._('To stop seeing content from an advertiser, {{ blockAccounts }}', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText', 'Text explaining how to block an advertiser profile, blockAccounts: link to how to block accounts'),{blockAccounts:(0,r.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,r.jsx)(o.rU,{display:"inline",href:c.K_,onClick:B,target:"blank",underline:"hover",children:M._('learn how to block accounts', 'app.common.react.components.PinRep.components.AdReasonsModal.blockAccountLink', 'Link for how to block accounts')})},"ad-reasons-block-accounts")})})})]})]})]})})}var b=n(784590),x=n(350118),w=n(780280);function S(e,t){return"FEMALE"===e?(e=>e._('Female', 'waista.modal.attribute.female', 'Gender attribute for female'))(t):"MALE"===e?(e=>e._('Male', 'waista.modal.attribute.male', 'Gender attribute for male'))(t):""}function P(e,t){return"AppType_WEB"===e||"AppType_WEB_DENZEL"===e?(e=>e._('Web', 'waista.modal.attribute.web', 'device attribute for web'))(t):"AppType_WEB_MOBILE"===e?(e=>e._('Mobile Web', 'waista.modal.attribute.mWeb', 'device attribute for mobile web'))(t):""}function T(e,t){var n;const{name:i=""}=null!==(n=e.find((e=>e.key===t)))&&void 0!==n?n:{};return i}function k({pinId:e,onDismiss:t}){var n,a,o,s,l;const{logContextEvent:c}=(0,p.v)(),{locale:d}=(0,w.B)(),{country:u=""}=(0,m.Z)(),h=(0,b.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),_=(0,b.Z)({name:"LocalesResource"}),g=(0,x.S6)()(e);(0,i.useEffect)((()=>{c({event_type:120,component:13756})}),[c]);const{ad_targeting_attribution:v,promoter:y}=null!=g?g:{},{is_age_matched:S=!1,is_behavior_targeting_matched:P=!1,is_customer_list_matched:k=!1,is_geo_postal_code_matched:I=!1,is_geo_region_matched:A=!1,is_shopping_retargeting_matched:C=!1,is_actalike_matched:E=!1,is_engagement_matched:j=!1,is_expand_targeting_matched:R=!1,is_from_gps_location:D=!1,is_visitor_matched:O=!1,matched_age_bucket:L="",matched_locale:F="",matched_interest:N="",matched_gender:M="",matched_device:z="",geo_region:Z="",geo_postal_code:B=""}=null!==(n=function(e=null,t=4){return e&&Object.keys(e).filter((t=>"boolean"==typeof e[t]||"string"==typeof e[t])).slice(0,t).reduce(((t,n)=>({...t,[n]:e[n]})),{})}(v))&&void 0!==n?n:{},U=null!==(a=null==y?void 0:y.full_name)&&void 0!==a?a:"",H=function(e,t){var n;const{name:i=""}=null!==(n=e.find((e=>e.key===t)))&&void 0!==n?n:{};return i}(null!==(o=h.data)&&void 0!==o?o:[],u),V=T(null!==(s=_.data)&&void 0!==s?s:[],d),$=null!==(l=null==y?void 0:y.username)&&void 0!==l?l:"";return(0,r.jsx)(f,{brandName:U,userName:$,country:H,language:V,ageBucketMatch:L,localeMatch:F,interestMatch:N,genderMatch:M,deviceMatch:z,isAgeMatched:S,isBehaviorTargetingMatched:P,isCustomerListMatched:k,isGeoPostalCodeMatched:I,isGeoRegionMatched:A,isShoppingTargetingRematched:C,isActAlikeMatched:E,isEngagementMatched:j,isExpandTargetingMatched:R,isFromGPSLocation:D,isVisitorMatched:O,onDismiss:t,geoRegion:Z,geoPostalCode:B})}},62700:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(605028),a=n(66699),o=n(898781),r=n(287072),s=n(35495),l=n(883119),c=n(407043),d=n(243943),u=n(576440),p=n(785893);function h({sizing:e="default",children:t,collageChipId:n,componentType:h,contextLogData:m,elementType:_,pin:g,viewParameter:v,viewType:y}){const f=(0,o.ZP)(),{logContextEvent:b}=(0,c.v)(),x=(0,u.E)(),{carousel_data:w,id:S}=g,{isLeadPin:P}=(0,i.Z)(g);let T,k=`/pin/${n||S}/`;const I=(0,d.Xx)();if(null!=I&&I.variantUrl&&(k=`/pin/${I.variantUrl}/`),w){const{carousel_slots:e=[],id:t,index:n=0}=w;k=`/pin/${S}/`,T={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n}}T={...T||{},...(0,s.Kl)(g,m)||{}};const A=(0,r.Z)({href:k,externalData:{auxData:T,pin:g}});return(0,p.jsx)(l.iP,{accessibilityLabel:(0,a.Z)(f._('{{ pinTitle }} pin page', 'pinRep.closeupLink.tapArea.accessibilityLabel', 'Accessibility label with pin title on individual links'),{pinTitle:g.grid_title||g.title||g.description||""}),mouseCursor:"zoomIn",rounding:2,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{var n,i;t(),P?(b({event_type:8948,view_type:y||x.viewType,view_parameter:v||x.viewParameter,component:null,object_id_str:g.id,aux_data:{closeup_navigation_type:"click",lead_form_id:null===(n=g.promoted_lead_form)||void 0===n?void 0:n.lead_id}}),b({event_type:12,view_type:y||x.viewType,view_parameter:v||x.viewParameter,component:null,object_id_str:g.id,aux_data:{lead_form_id:null===(i=g.promoted_lead_form)||void 0===i?void 0:i.lead_id,...(0,s.Kl)(g,{})||{}}})):(b({event_type:101,component:h||x.componentType,element:_,object_id_str:S,view_type:y||x.viewType,view_parameter:v||x.viewParameter,aux_data:{...m,...(0,s.Kl)(g,m)||{}}}),b({event_type:8948,view_type:y||x.viewType,view_parameter:v||x.viewParameter,component:h||x.componentType,element:_,object_id_str:S,aux_data:{closeup_navigation_type:"click",...m,...(0,s.Kl)(g,m)||{}}})),A({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:k,role:"link",children:t})}},841509:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(785893);function o({children:e,additionalStyles:t={}}){return(0,a.jsx)(i.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}},"data-test-id":"contentLayer",children:e})}},337986:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),a=n(499128),o=n(898781),r=n(883119),s=n(785893);function l(e){const t=(0,o.ZP)(),{onHide:n}=e,i=(0,s.jsx)(r.xv,{children:t._('Thank you for helping improve signal detection on Pinterest!', 'pinRep.actionBar.signalDetector.toast', 'Toast text displayed when a user submits a signal for review')});return(0,s.jsx)(a.ZP,{onHide:n,text:i})}var c=n(214494),d=n(19121),u=n(343341);const p=function({anchor:e,onDismiss:t,pinId:n,signals:a}){const p=(0,o.ZP)(),[h,m]=(0,i.useState)(0),_=(0,d.Z)(),{showOneToast:g}=(0,u.F9)();if(!_.isEmployee)return null;const v=a.map((({signal_message:e})=>({href:"#",text:null!=e?e:""}))),{background_color:y,icon_url:f,signal_id:b,signal_message:x}=a[h];return(0,s.jsx)(r.mh,{children:(0,s.jsx)(r.J2,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:(0,s.jsxs)(r.xu,{padding:4,width:"100%",children:[a.length>1&&(0,s.jsx)(r.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,s.jsx)(r.mQ,{activeTabIndex:h,onChange:({event:e,activeTabIndex:t,dangerouslyDisableOnNavigation:n})=>{n(),(({activeTabIndex:e,event:t})=>{t.preventDefault(),m(e)})({activeTabIndex:t,event:e})},tabs:v})}),(0,s.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,s.jsx)(r.X6,{size:"400",children:p._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,s.jsx)(r.xu,{paddingY:3,children:(0,s.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,s.jsx)(r.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:f?(0,s.jsx)(r.Ee,{alt:p._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:f}):(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:y}},height:40,width:40})}),(0,s.jsx)(r.xv,{size:"200",children:x})]})}),(0,s.jsx)(r.xu,{marginBottom:3,children:(0,s.jsx)(r.xv,{size:"200",children:p._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,s.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,s.jsx)(r.zx,{fullWidth:!0,color:"red",size:"md",text:p._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:()=>{const e={pin_id:n,signal_id:b,user:_.id};c.Z.create("SignalReviewRequestResource",e).callCreate(),t(),g((({hideToast:e})=>(0,s.jsx)(l,{onHide:e})))}}),(0,s.jsx)(r.zx,{fullWidth:!0,color:"gray",size:"md",text:p._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:t})]})]})})})};var h=n(241244),m=n(319915),_=n(947599),g=n(215292);function v({signals:e,pinId:t}){const{background_color:n,icon_url:a,signal_message:o}=e[0],[l,c]=(0,i.useState)(!1),d=(0,i.useRef)();return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(m.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,s.jsx)(_.Z,{children:(0,s.jsx)(r.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,s.jsx)(h.Z,{children:(0,s.jsx)(g.q,{children:({hovered:e,onMouseEnter:t,onMouseLeave:i})=>(0,s.jsx)(r.iP,{onTap:()=>c((e=>!e)),rounding:"pill",onMouseEnter:t,onMouseLeave:i,children:(0,s.jsxs)(r.xu,{color:e?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:d,children:[(0,s.jsx)(r.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"default",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,s.jsx)(r.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,s.jsx)(r.Ee,{alt:"",color:n,src:null!=a?a:"",naturalHeight:1,naturalWidth:1})})}),(0,s.jsx)(r.xv,{color:"inverse",size:"200",weight:"bold",children:o})]})})})})})})}),l&&d&&d.current&&(0,s.jsx)(p,{anchor:d.current,onDismiss:()=>c(!1),pinId:t,signals:e})]})}const y=({signal:e,anchor:t,setShowFlyout:n,setStore:i})=>{var a;const{hovered:o,onMouseEnter:l,onMouseLeave:c}=(0,g.Z)();return(0,s.jsx)(r.iP,{onTap:()=>(e=>{n((e=>!e)),i(e)})(e),rounding:"pill",onMouseEnter:l,onMouseLeave:c,children:(0,s.jsxs)(r.xu,{color:o?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:t,children:[(0,s.jsx)(r.xu,{display:"flex",minWidth:24,height:24,rounding:"circle",marginEnd:1,color:"default",justifyContent:"center",alignItems:"center",children:(0,s.jsx)(r.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,s.jsx)(r.Ee,{alt:"",color:e.background_color,src:null!==(a=e.icon_url)&&void 0!==a?a:"",naturalHeight:1,naturalWidth:1})})}),(0,s.jsx)(r.xv,{color:"inverse",size:"200",weight:"bold",children:e.signal_message})]})})};const f=function({anchor:e,onDismiss:t,pinId:n,signal:i}){const a=(0,o.ZP)(),p=(0,d.Z)(),{showOneToast:h}=(0,u.F9)();if(!p.isEmployee)return null;const{background_color:m,icon_url:_,signal_id:g,signal_message:v}=i;return(0,s.jsx)(r.mh,{children:(0,s.jsx)(r.J2,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:(0,s.jsxs)(r.xu,{padding:4,width:"100%",children:[(0,s.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,s.jsx)(r.X6,{size:"400",children:a._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,s.jsx)(r.xu,{paddingY:3,children:(0,s.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,s.jsx)(r.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:_?(0,s.jsx)(r.Ee,{alt:a._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:_}):(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:m}},height:40,width:40})}),(0,s.jsx)(r.xv,{size:"200",children:v})]})}),(0,s.jsx)(r.xu,{marginBottom:3,children:(0,s.jsx)(r.xv,{size:"200",children:a._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,s.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,s.jsx)(r.zx,{fullWidth:!0,color:"red",size:"md",text:a._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:()=>{const e={pin_id:n,signal_id:g,user:p.id};c.Z.create("SignalReviewRequestResource",e).callCreate(),t(),h((({hideToast:e})=>(0,s.jsx)(l,{onHide:e})))}}),(0,s.jsx)(r.zx,{fullWidth:!0,color:"gray",size:"md",text:a._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:t})]})]})})})};function b({signals:e,pinId:t}){const[n,a]=(0,i.useState)(!1),o=(0,i.useRef)(null),[l,c]=(0,i.useState)(e[0]);return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(m.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,s.jsx)(_.Z,{children:(0,s.jsx)(r.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,s.jsx)(h.Z,{children:(0,s.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",children:e.map((e=>(0,s.jsx)(r.xu,{marginEnd:2,children:(0,s.jsx)(y,{signal:e,anchor:o,setShowFlyout:a,setStore:c})},e.signal_id)))})})})})}),n&&(0,s.jsx)(f,{anchor:o.current,onDismiss:()=>a(!1),pinId:t,signal:l})]})}var x=n(276775);function w({pin:e}){const t=(0,d.Z)(),{search:n}=(0,x.useLocation)(),a=(0,i.useMemo)((()=>new URLSearchParams(n)),[n]);if(!t.isEmployee)return null;const{id:o,deb_ads:r,deb_content_quality:l,deb_inclusive_product:c,deb_shopping:u,deb_trust_and_safety:p}=e;if(r)return(0,s.jsx)(v,{pinId:o,signals:r});if(l)return(0,s.jsx)(v,{pinId:o,signals:l});if(c){if("skin_tone"===a.get("type")){const e=c.filter((e=>"visual_signals_hair_pattern_v1"!==e.signal_id));return(0,s.jsx)(b,{pinId:o,signals:e})}{const e=c.filter((e=>"visual_body_analyses_v2_0"!==e.signal_id));return(0,s.jsx)(b,{pinId:o,signals:e})}}return u?(0,s.jsx)(v,{pinId:o,signals:u}):p?(0,s.jsx)(v,{pinId:o,signals:p}):null}},525199:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),a=n(225692),o=n(785893);function r(e,t){return{hidden:{opacity:0,transition:t?`opacity ${t}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function s({children:e,fadeInDuration:t=0,fadeOutDuration:n=a.X,visibility:s}){return"none"!==s&&e?(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:r(t,n)[s]},children:e}):null}},43671:(e,t,n)=>{n.d(t,{ZP:()=>g});var i=n(667294),a=n(841509),o=n(898781),r=n(55275),s=n(310227),l=n(407043),c=n(883119),d=n(785893);const u={base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:s.Oc,filter:"blur(10px)",opacity:1}},p={base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},h={base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},m=["followed","related","search"],_=["pfy","pfyBoard"];function g({feedbackType:e,pin:t,hideContents:n=!1}){var g;const{logContextEvent:v}=(0,l.v)(),y=(0,o.ZP)(),[f,b]=(0,i.useState)(!1),[x,w]=(0,i.useState)(!1);(0,i.useEffect)((()=>b(!0)),[]);const S=()=>w(!0),{feedbackText:P,images:T,showFeedbackOverlay:k,undoAction:I}=t,A=T&&(null===(g=T["236x"])||void 0===g?void 0:g.url),{image:C,subTitle:E,title:j,unfollow:R}=null!=P?P:{},D=!m.includes(e),O=_.includes(e),L="Reported"===j,F=()=>{v({event_type:101,view_type:1,view_parameter:92,element:11347})};return(0,d.jsxs)(c.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,d.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[A&&(0,d.jsx)(a.Z,{additionalStyles:{...u.base,...f?u.blurred:{},backgroundImage:`url("${A}")`}}),(0,d.jsx)(a.Z,{additionalStyles:{...p.base,...p.blurred}})]}),(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{...h.base,...!k&&f?h.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!n&&(0,d.jsx)(c.xu,{height:"100%",children:(0,d.jsxs)(c.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,d.jsx)(c.xu,{marginBottom:2,children:(0,d.jsx)(c.X6,{color:"light",size:"400",children:j})}),(0,d.jsxs)(c.xu,{display:"flex",marginBottom:1,children:[C&&(0,d.jsx)(c.xu,{marginEnd:3,children:(0,d.jsx)(c.zd,{width:C.width,height:C.height,rounding:2,wash:!0,children:(0,d.jsx)(c.Ee,{alt:E||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:C.url||""})})}),(0,d.jsx)(c.xv,{color:"light",overflow:"normal",children:E})]}),(0,d.jsxs)(i.Fragment,{children:[I&&!L&&(0,d.jsx)(c.xu,{children:(0,d.jsx)(c.iP,{onTap:I,children:(0,d.jsx)(c.xv,{color:"inverse",weight:"bold",overflow:"normal",children:y._('Undo', 'Text on the button to navigate to undo hiding a pin', 'Text on the button to navigate to undo hiding a pin')})})}),(0,d.jsxs)(c.xu,{marginTop:"auto",children:[!I&&!x&&R&&!O&&(0,d.jsx)(c.zx,{fullWidth:!0,color:"white",onClick:()=>(0,r.t)(R.action,R.actionOptions,S),text:y._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),D&&(0,d.jsx)(c.zx,{role:"link",color:"white",fullWidth:!0,href:"/edit",onClick:F,text:y._('Tune your feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})]})]})]})})})]})}},379884:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(852964),a=n(898781),o=n(55275),r=n(883119),s=n(814197),l=n(407043),c=n(680046),d=n(785893);function u({anchor:e,feedbackData:t,feedbackType:n,pinId:u,onDismiss:p,onHide:h,recommendationReason:m,viewParameter:_,viewType:g}){const{logContextEvent:v}=(0,l.v)(),y=(0,a.ZP)(),f=(e,a)=>{const r=(0,i.Z)(m),s=m&&(0,c.yl)(m),l=m&&(0,c.XZ)(m),{action:d,actionOptions:p}=(0,c.fJ)({feedbackData:t,feedbackType:n,pinId:u,recommendationReasonId:r,throughId:s,throughProperties:l,complaintReason:e});(e=>{v({event_type:101,view_type:g,view_parameter:_,element:e,component:(0,c.nb)(n)})})(a),(0,o.t)(d,p),h()},b="promoted"===n?[{text:y._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:y._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:11172},{text:y._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898}]:[{text:y._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:y._('Not in a language I understand', 'homefeed.hideReasons.reason.languageDontUnderstand', 'Feedback option for Pin that is in a language I dont understand'),reason:15,elementType:11178},{text:y._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:295},{text:y._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898},{text:y._('Other', 'homefeed.hideReasons.reason.other', 'Feedback option for Pin hidden for other reasons'),reason:8,elementType:11179}];return(0,d.jsx)(r.Lt,{anchor:e,idealDirection:"down",onDismiss:p,zIndex:s.lI,id:"pin-action-dropdown",children:(0,d.jsx)(r.Lt.Section,{label:y._('Got a moment? Tell us why.', 'homefeed.hideReasons.title', 'Title of follow up question after negative Pin feedback'),children:b.map((({text:e,reason:t,elementType:n})=>(0,d.jsx)(r.Lt.Item,{onSelect:()=>f(t,n),option:{value:`hide-reason-${e.split(" ").join("-")}`,label:e},dataTestId:`hide-reason-${e.split(" ").join("-")}`})))})})}},685909:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),a=n(294184),o=n.n(a),r=n(391254),s=n(149230),l=n(927104),c=n(898781),d=n(883119),u=n(785893);class p extends i.Component{constructor(...e){var t,n,i;super(...e),i={showBoardName:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.timer=setTimeout((()=>{this.setState({showBoardName:!0})}),950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isDenseView:t,isNewlySaved:n,name:a,shouldUseLegoStyles:c,type:p,url:h}=this.props;if(c&&t)return null;const m="boardless"===p?this.props.i18n._('Saved to Profile', 'Saved.render.title', 'Text indicating saved to your profile'):a;let _,g;if(!n||e||c){const e=c?(0,u.jsx)(d.xv,{color:"inverse",size:"300",weight:"bold",children:m.length<=20?m:(0,l.Z)(m,20)}):(0,u.jsx)(d.X6,{color:"inverse",size:"400",lineClamp:1,children:m}),t=(0,s.Z)({url:h})?"nofollow":"none";_=h?(0,u.jsx)(d.rU,{rel:t,href:h,children:e}):e}else _=(0,u.jsx)(d.xv,{color:"inverse",children:(0,u.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._('Saved!', 'Indication that a pin has been saved', 'Indication that a pin has been saved')})});return n&&(g=e?"board":"saved"),(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(r.Z,{unsafeCSS:"\n.SavedAnimation {\n  &.saved {\n    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n\n  &.board {\n    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n}\n\n@keyframes SavedAnimation--down-then-right {\n  0% {\n    opacity: 0;\n    transform: translateY(-24px);\n  }\n\n  33% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  80% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  100% {\n    opacity: 0;\n    transform: translateX(24px);\n  }\n}\n\n@keyframes SavedAnimation--to-right {\n  from {\n    opacity: 0;\n    transform: translateX(-16px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n"}),(0,u.jsx)("div",{"data-test-id":"savedInfo",className:!c&&o()("SavedAnimation",g),children:_})]})}}const h=function(e){const t=(0,c.ZP)();return(0,u.jsx)(p,{...e,i18n:t})}},108529:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(333155);function a(e){return i.zI.includes(e)}},852964:(e,t,n)=>{n.d(t,{Z:()=>a});const i={REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,RECOMMENDED_GEO_INTERESTS:192,USER_SEQUENCE_INTERESTS_PINS:193,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,INTENTIONAL_DISTRIBUTION_RECOMMENDED_GRAPHSAGE_BOARDS:191,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,PINNABILITY_PRODUCT_PIN_EMBEDDINGS:195,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,LANDING_PAGE_PIN_RECOMMENDATIONS:188,PINNERSAGE_LEARNED_EMBEDDINGS:189,TOPIC_FEED:190,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184,XPIXIE_TO_PRODUCT_PINS:194};function a(e){return e&&e.reason&&i[e.reason]}},333155:(e,t,n)=>{n.d(t,{UP:()=>s,Wv:()=>a,ZF:()=>i,zI:()=>o,zl:()=>r});const i=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],a=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],o=[...a,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],r=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],s=["BaseBoardPinGrid"]},675725:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(680046);function a({feedbackType:e,pin:t,viewParameter:n}){var a,o;return(0,i.hP)({boardFollowedByMe:!(null==t||null===(a=t.board)||void 0===a||!a.followed_by_me),feedbackType:e,promotion:t&&t.promoter&&{isDownstreamPromotion:!!t.is_downstream_promotion},pinnerFollowedByMe:!(null==t||null===(o=t.pinner)||void 0===o||!o.explicitly_followed_by_me),recommendationReason:(null==t?void 0:t.recommendation_reason)&&{hasBoard:!!t.recommendation_reason.board,reason:t.recommendation_reason.reason},viewParameter:n})}},784521:(e,t,n)=>{n.d(t,{Z:()=>i});const i={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1}},439506:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(702664),a=n(116303),o=n(46584),r=n(792182),s=n(407043),l=n(599997),c=n(883119),d=n(332611),u=n(785893);function p({isFullWidth:e,actionType:t,buttonAction:n,buttonText:p,experience:h,hideCompleteButton:m,imageAlt:_,imageUrl:g,openNewTab:v,avatarImageDetails:y,examplePinImage:f,titleText:b,titleTextColor:x,titleTextCustomization:w,descriptionText:S,descriptionTextCustomization:P}){var T,k;const{logContextEvent:I}=(0,s.v)(),A=(e=>0===e?3833:1===e?3834:2===e?3835:null)(t),C=(0,i.useDispatch)(),{experience_id:E,placement_id:j}=h||{},R=(0,o.Z)({onVisibilityChanged:e=>{e&&h&&(h.status="viewed",I({event_type:13,view_type:604,view_parameter:A}),C((0,d.UT)(j,E,!1,!0)))}}),{width:D}=(0,r.Z)()||{width:8},O=D-8,L=(0,l.IA)(D),F=O*L,N=L===l.LX||L===l.Ec,{url:M,full_name:z}=y||{},Z=F*l.l0,{url:B}=f,U=B?F*l.l0:0,H=B?l.ml*U:0,{color:V,fontStyle:$,fontWeight:K,horizontalAlignment:G,fontSize:W}=(0,l.Mf)(w||{},"mweb"),{color:q,fontStyle:Y,fontWeight:J,horizontalAlignment:X,fontSize:Q}=(0,l.Mf)(P||{},"mweb");return(0,u.jsx)(c.xu,{position:"relative",padding:1,marginBottom:2,ref:R,children:(0,u.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)",backgroundColor:e?"#003441":"education"}},color:e?"default":"education",paddingX:e?0:3,paddingY:e?0:6,position:"relative",rounding:4,children:[e&&g&&M&&(0,u.jsx)(c.xu,{height:F,width:O,children:(0,u.jsx)(c.Ee,{alt:_||b||"",color:"rgb(111, 91, 77)",naturalHeight:F,naturalWidth:O,src:g,fit:"cover",children:(0,u.jsx)(c.xu,{paddingY:M?12:3,children:(0,u.jsxs)(c.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",width:"100%",justifyContent:"center",children:[z&&M&&(0,u.jsx)(c.xu,{height:Z,width:Z,children:(0,u.jsx)(a.Z,{name:z,src:M,size:"fit"})}),(0,u.jsx)(c.xv,{align:G,color:x,italic:"italics"===$,weight:K,children:(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(T=V||x)&&void 0!==T?T:void 0,fontSize:N?l.SF:W}},children:b})}),(0,u.jsx)(c.xv,{align:X,italic:"italics"===Y,weight:J,children:(0,u.jsx)(c.xu,{paddingX:12,dangerouslySetInlineStyle:{__style:{color:null!=q?q:void 0,fontSize:N?l._e:Q}},children:S})})]})})})}),(!e||e&&B)&&(0,u.jsxs)(c.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",justifyContent:"center",children:[f&&B&&(0,u.jsx)(c.xu,{paddingY:4,children:(0,u.jsx)(c.zd,{height:U,width:H,rounding:4,children:(0,u.jsx)(c.Ee,{alt:"Your first saved Pin",naturalHeight:U,naturalWidth:H,src:B,fit:"cover"})})}),(0,u.jsx)(c.xv,{align:G,color:x,italic:"italics"===$,weight:K,children:(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(k=V||x)&&void 0!==k?k:void 0,fontSize:N&&e?l._e:W}},children:b})}),S&&P&&(0,u.jsx)(c.xu,{paddingX:e?2:0,paddingY:2,children:(0,u.jsx)(c.xv,{align:X,italic:"italics"===Y,weight:J,children:(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{color:null!=q?q:void 0,fontSize:N&&e?l._e:Q}},children:S})})}),!m&&(0,u.jsx)(c.kC.Item,{alignSelf:e?"center":"stretch",children:(0,u.jsx)(c.xu,{marginTop:2,marginBottom:e?4:1,children:(0,u.jsx)(c.zx,{accessibilityLabel:p,color:"white",fullWidth:!0,text:p,size:"lg",role:"link",href:n,target:v?"blank":null,onClick:()=>{h&&(I({event_type:102,view_type:604,view_parameter:A}),C((0,d.CK)(j,E,!1,!0)))}})})})]})]})})}},8320:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(63552),a=n(883119),o=n(785893);const r={__style:{borderRadius:"4px",padding:"10px 14px"}},s={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},l={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},c=({accessibilityLabel:e,color:t,customStyles:n,forwardedRef:c,icon:d,inline:u=!1,minHeight:p=40,minWidth:h=70,onTouch:m,pressState:_,shape:g,text:v})=>{const y=(e=>"primary"===e||"transparent"===e||"dark"===e?"inverse":"default")(t),f=(({color:e,icon:t})=>t?l:"transparent"===e?{__style:{...r.__style,...s}}:r)({color:t,icon:d}),b=(0,o.jsx)(a.xu,{position:"relative",children:(0,o.jsx)(a.xu,{color:t,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:h,dangerouslySetInlineStyle:"pill"===g?(x=n,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...x}}):f,children:(0,o.jsxs)(a.kC,{alignItems:"center",justifyContent:"center",children:[d&&(0,o.jsx)(a.xu,{paddingX:"check"===d?2:0,children:(0,o.jsx)(a.JO,{accessibilityLabel:e,color:y,icon:d,inline:!0,size:"check"===d?16:20})}),(0,o.jsx)(a.xv,{color:y,inline:!0,size:"300",lineClamp:1,weight:"bold",children:v})]})})});var x;return m?(0,o.jsx)(i.Z,{onTouch:m,rounding:"pill"===g?"pill":2,pressState:_||"none",children:(0,o.jsx)(a.xu,{ref:c,children:b})}):b}},167234:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),a=n(977558),o=n(883119),r=n(992813),s=n(697335),l=n(49028),c=n(785893);function d({children:e,className:t,forwardRef:n,offset:d=0,position:u,shouldShowShadow:p=!1,style:h={},top:m}){const{setIsContentHeaderPresent:_}=(0,r.i)();(0,i.useEffect)((()=>(_(!0),function(){_(!1)})),[]);const{currentScrollPosition:g,isScrolled:v,setSubheaderShadow:y}=(0,l.WQ)();(0,i.useEffect)((()=>(p&&y("contentHeader"),()=>{p&&y(null)})),[p]);let f=!1;"pending"!==m&&(f=null!=m?g>=m:v);const b=(0,s.t)(),x=(0,c.jsx)("div",{className:t,ref:n,style:{...h,top:b+d,...f&&p?{...a.Rz,zIndex:499}:{},...u&&"sticky"!==u?{position:u}:{}},children:e});return"sticky"===u?(0,c.jsx)(o.Le,{top:b+d,children:x}):x}},992813:(e,t,n)=>{n.d(t,{Z:()=>l,i:()=>s});var i=n(667294),a=n(425288),o=n(785893);const{Provider:r,useHook:s}=(0,a.Z)("ContentHeader");function l({children:e}){const[t,n]=(0,i.useState)(!1),a=(0,i.useMemo)((()=>({isContentHeaderPresent:t,setIsContentHeaderPresent:n})),[t]);return(0,o.jsx)(r,{value:a,children:e})}},313951:(e,t,n)=>{n.d(t,{i5:()=>f,sX:()=>w,aX:()=>b,Z5:()=>y,NG:()=>x,MT:()=>S,iu:()=>P});var i=n(667294),a=n(214494),o=n(682492),r=n.n(o);const s=(e,t)=>e.data[t]&&e.data[t].messages||[];function l(e,t){const n={};return e.filter((e=>!!e)).reduce(((e,i)=>{const a=t(i);return n[a]?(r()(n[a],i),e):(n[a]=i,e.concat([i]))}),[])}function c(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function d(e,t,n){return c(l(s(e,t).concat(n),(e=>e.id)))}const u={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function p(e=u,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const n={...e,data:{...e.data}},{id:i}=t.payload;return delete n.data[i],n}if("FETCH_COMPLETE"===t.type){const{options:n,resource:i,response:a}=t.payload,o=a.resource_response.data;if("ConversationMessagesResource"===i){const t=o||[],i=(null==n?void 0:n.conversation_id)||"",a=d(e,i,t),r=a[a.length-1];return{...e,data:{...e.data,[i]:{...e.data[i],id:i,messages:a,unread:0,last_message:r}}}}if("ConversationsResource"===i){const t=o||[],n={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:i,name:a,board:o,emails:r,unread:s,users:l,last_message:c}=e,u=d(n,t,[c]);n.data[t]={...n.data[t],id:t,created_at:i,name:a,board:o,emails:r||[],unread:s||0,users:l||[],last_message:c,messages:u}})),n}if("ConversationResource"===i){const t=o||{},{id:n}=t,i={...e,data:{...e.data}};return n&&(i.data[n]={...i.data[n],...t}),i}if("NewsHubBadgeResource"===i){if(o){const t=o.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:n,message:i}=t.payload;return e.data[n]?{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:[...e.data[n].messages,i]}}}:e}if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){const{id:n,tempMessage:i,newMessage:a}=t.payload;if(e.data[n]){if(s(e,n).find((e=>e.id===i.id&&e.created_ms===i.created_ms))){const t=c(l(s(e,n).filter((e=>e.id!==i.id)).concat([a]),(e=>e.id)));return{...e,data:{...e.data,[n]:{...e.data[n],last_message:a,messages:t}}}}}return e}if("MESSAGE_SEND_PENDING_FAILURE"===t.type){const{id:n,tempMessageId:i}=t.payload;if(e.data[n]){const t=s(e,n).filter((e=>e.id!==i));return{...e,data:{...e.data,[n]:{...e.data[n],messages:t}}}}return e}if("OPEN_NEW_MESSAGE"===t.type){const{objectAttachment:n}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:n}}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload};if("CLEAR_MESSAGE_BADGE"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],unread:0}}}}if("CONVERSATION_SAVE_POSITION"===t.type){const{id:n,position:i}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],position:i}}}}if("CONVERSATION_RESET_POSITION"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],position:null}}}}if("SET_OBJECT_ATTACHMENT"===t.type){const{objectAttachment:n}=t.payload;return{...e,objectAttachment:n}}if("REMOVE_OBJECT_ATTACHMENT"===t.type)return{...e,objectAttachment:null}}return e}var h=n(425288),m=n(505920),_=n(785893);const g=(()=>{let e=0;return()=>e++})(),{Provider:v,useHook:y}=(0,h.Z)("Conversations");function f({children:e}){const[t,n]=(0,i.useReducer)(p,u),o=(0,i.useCallback)((e=>n({type:"FETCH_COMPLETE",payload:e})),[]);(0,m.Z8)("ConversationMessagesResource",o),(0,m.my)("ConversationMessagesResource",o),(0,m.Z8)("ConversationsResource",o),(0,m.Z8)("ConversationResource",o),(0,m.Z8)("NewsHubBadgeResource",o);const r=(0,i.useCallback)(((e,t=!1,i="")=>n({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:i}})),[]),s=(0,i.useCallback)(((e,t="",i=!1)=>n({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:i}})),[]),l=(0,i.useCallback)((e=>n({type:"CONVERSATION_CREATE",payload:e})),[]),c=(0,i.useCallback)((e=>n({type:"CONVERSATION_DELETE",payload:{id:e}})),[]),d=(0,i.useCallback)(((e,t)=>n({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:t}})),[]),h=(0,i.useCallback)((e=>n({type:"CONVERSATION_RESET_POSITION",payload:{id:e}})),[]),g=(0,i.useCallback)(((e,t,i)=>{a.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;n({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";i(t)}))}),[]),y=(0,i.useCallback)((()=>{n({type:"CLOSE_DROPDOWN"})}),[]),f=(0,i.useCallback)((()=>{n({type:"OPEN_DROPDOWN"})}),[]),b=(0,i.useCallback)((e=>{n({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})}),[]),x=(0,i.useCallback)(((e,t)=>n({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}})),[]),w=(0,i.useCallback)(((e,t,i)=>n({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:i}})),[]),S=(0,i.useCallback)(((e,t)=>n({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}})),[]),P=(0,i.useCallback)((e=>n({type:"UPDATE_NEWSHUB_COUNT",payload:e})),[]),T=(0,i.useCallback)((e=>n({type:"UPDATE_UNREAD_COUNT",payload:e})),[]),k=(0,i.useCallback)((e=>n({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}})),[]),I=(0,i.useCallback)((e=>n({type:"SET_OBJECT_ATTACHMENT",payload:{objectAttachment:e}})),[]),A=(0,i.useCallback)((()=>n({type:"REMOVE_OBJECT_ATTACHMENT"})),[]),C=(0,i.useMemo)((()=>({clearMessageBadge:k,conversationOpen:r,conversationClose:s,conversationCreate:l,conversationDelete:c,conversationGet:g,saveConversationPosition:d,resetConversationPosition:h,dropdownClose:y,dropdownOpen:f,newMessageOpen:b,pendingMessageSend:x,pendingMessageSuccess:w,pendingMessageFailure:S,updateNewsHubCount:P,updateUnreadCount:T,conversations:t,setObjectAttachment:I,removeObjectAttachment:A})),[k,r,s,l,c,g,d,h,y,f,b,x,w,S,P,T,t,I,A]);return(0,_.jsx)(v,{value:C,children:e})}function b(){const{conversationCreate:e}=y();return async t=>{let n;const i=a.Z.create("ConversationsResource",t);try{var o;const t=null===(o=(await i.callCreate()).resource_response)||void 0===o?void 0:o.data;t&&(e(t),n=t)}catch(r){throw new Error(r.message)}return n}}function x(){const{conversations:e,conversationCreate:t,pendingMessageSend:n,pendingMessageSuccess:i,pendingMessageFailure:o}=y();return async(r,s,l,c)=>{const{text:d,pinId:u,boardId:p,userId:h,didItId:m}=s;async function _(){const e=a.Z.create("ConversationMessagesResource",{conversation_id:r,text:d,pin:u,board:p,user:h,user_did_it_data:m,source:l}),t=`${g()}`,s={text:d,sender:c,created_at:(new Date).toString(),created_ms:Date.now(),id:t,type:"tempMessage"};n(r,s);try{var _;const t=null===(_=(await e.callCreate()).resource_response)||void 0===_?void 0:_.data;t&&i(r,s,t)}catch(v){throw o(r,t),new Error(v.message)}}if(e.data[r])await _();else{const e=a.Z.create("ConversationResource",{conversation_id:r});try{var v;const n=null===(v=(await e.callGet()).resource_response)||void 0===v?void 0:v.data;n&&(t(n),await _())}catch(y){throw new Error(y.message)}}}}function w(e){const{conversations:t}=y();return t.data[e]}function S(e){const{conversations:t}=y();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}function P(){const{conversations:{data:e}}=y(),t=(n=e,Object.keys(n).map((e=>n[e]))).filter((e=>e.users&&e.last_message));var n,i;return i=t,Array.from(i).sort(((e,t)=>new Date((t.last_message||t).created_at)-new Date((e.last_message||e).created_at)))}},57791:(e,t,n)=>{n.d(t,{MZ:()=>j,di:()=>D,Ai:()=>R});var i=n(667294),a=n(296679),o=n(8320),r=n(329900),s=n(926275),l=n(250059),c=n(149230),d=n(407043),u=n(48714),p=n(276775);const h=({children:e,external:t,externalQueryParams:n,target:i,href:a})=>{const{logContextEvent:o}=(0,d.v)(),r=(0,p.useHistory)(),s=(0,p.useLocation)();if(!a)return null;const h=(0,l.Z)(a);return e({navigate:e=>{e.preventDefault(),(0,c.Z)({url:h})||t?(0,u.lI)({href:h,queryParams:n,location:s},o,null):(0,u.G3)({event:e,href:a,history:r,target:"blank"===i?"blank":null})}})};var m=n(883119),_=n(785893);const g=({accessibilityLabel:e,children:t,external:n,externalQueryParams:i,inline:a=!1,newTab:o,nofollow:r,onTouch:s,onBlur:c,onFocus:d,pressState:u,rounding:p,to:g})=>(0,_.jsx)(h,{external:n,target:o?"blank":null,externalQueryParams:i,href:g,children:({navigate:n})=>(0,_.jsx)(m.rU,{accessibilityLabel:e,onBlur:c?({event:e})=>c(e):void 0,onFocus:d?({event:e})=>d(e):void 0,underline:"none",href:(0,l.Z)(g),display:a?"inlineBlock":"block",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),null==s||s(e),e.defaultPrevented||n(e)},rel:r?"nofollow":"none",rounding:p,tapStyle:(Array.isArray(u)?u:[u]).includes("compress")?"compress":"none",children:t})}),v=({external:e,externalQueryParams:t,newTab:n,onTouch:i,to:a,...r})=>(0,_.jsx)(h,{external:e,target:n?"blank":null,externalQueryParams:t,href:a,children:({navigate:e})=>(0,_.jsx)(o.Z,{onTouch:t=>{null==i||i(t),t.defaultPrevented||e(t)},...r})});var y=n(938917),f=n(112690),b=n(19121),x=n(30287),w=n(598615),S=n(948376),P=n(773285),T=n(780280),k=n(698330),I=n(844974),A=n(339363),C=n(53987);const E=(e,t=!1)=>function({isAppUpsellDisabled:n,...o}){const{children:l,clientTrackingParams:c,deeplinkUri:d,external:u,onTouch:h,refresh:g,to:v,viewParameter:E,viewType:j}=o,R=(0,y.Z)(),[D,O]=(0,i.useState)(!1),[L,F]=(0,i.useState)(!1),[N,M]=(0,i.useState)(!1),[z,Z]=(0,i.useState)("control"),{isAuth:B}=(0,b.Z)(),{userAgent:{platform:U},locale:H}=(0,T.B)(),V=(0,k.Tt)(),$=(0,f.Z)(),{checkExperiment:K}=(0,P.F)(),G=(0,p.useLocation)();(0,i.useEffect)((()=>{!async function(){if("getInstalledRelatedApps"in navigator){M(!0);(await navigator.getInstalledRelatedApps()).length>0&&F(!0)}}()}),[]);const W=()=>{$({event_type:1701,view_type:j,view_parameter:E}),D&&O(!1)};return(0,_.jsxs)(m.xu,{"data-test-id":"deeplink-wrapper",children:[D&&(0,_.jsx)(a.Z,{clientTrackingParams:c,copyChangeGroup:z,deepLinkUri:d,isOpen:!0,onDismiss:()=>{$({component:14157,element:10308,event_type:10220,view_type:j||202,view_parameter:E,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,I.Nh)("deeplinkBehavior","branchfallback"),W()},shouldTrackDismiss:!0,to:v,viewParameter:E,viewType:j,within:"deep-link-app-upsell-modal"}),(0,_.jsx)(r.Z,{children:i=>(0,_.jsx)(e,{...o,onTouch:e=>{const a=R&&!n&&B&&!u&&!g&&!(0,x.FP)(window)&&!("ios"===U&&(H||"").startsWith("ar"))&&(0,S.kp)((0,s.Z)(null==V?void 0:V.created_at));if(a){let t=!0,n=!1;if("string"==typeof d&&(d||"").startsWith("/pin/")&&((0,C.uM)(G)||(0,C.am)(G)||(0,C.C$)(G))){if(N){if(L&&K("mweb_auth_deep_link_app_installed_user").anyEnabled){const e=K("mweb_auth_deep_link_app_installed_user").group;"enabled_triggering_change"===e?t=!1:Z(e)}!L&&K("mweb_auth_deep_link_no_app_installed_user").anyEnabled&&Z(K("mweb_auth_deep_link_no_app_installed_user").group)}}else K("mweb_auth_deep_link_other_triggering").anyEnabled&&(t=!1,"enabled_no_deeplink"===K("mweb_auth_deep_link_other_triggering").group&&(n=!0));t?(e.stopPropagation(),e.preventDefault(),O(!0)):n||(e.stopPropagation(),e.preventDefault(),i(null!=d?d:(0,w.B)(G),"deep-link-app-upsell-modal"))}else"branchfallback"!==(0,I.qn)("deeplinkBehavior")||(0,A.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,A.Nh)("fallbackAttempt",1),i(d,"deep-link-app-upsell-modal",`${window.location.origin}${o=v,"string"==typeof o?o:`${o.pathname||""}${o.search?`?${o.search}`:""}`}`),W());var o;t&&a||!h||h(e)},children:l})})]})},j=E(g),R=E(v),D=E(o.Z,!0)},329900:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(172071),a=n(826067);const o="http://play.google.com/store/apps/details?id=com.pinterest",r=["access_token","new_password","new_password_confirm","password","next"],s=(e,t)=>t?(0,a.ru)(e,{invite_code:t}):e,l=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){const t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return"string"==typeof e?s(e,n):"ios"===t||"ipad"===t?s(e.iOS,n):"android"===t?s(e.android,n):null},c=({deeplinkUri:e,fallbackUrl:t,invite_code:n,logContextEvent:s,platform:c,redirectToLite:d,unauthId:u,userAgent:p,within:h})=>{if(e){const m=(({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:i,unauthId:o})=>({deeplink_path:l(e,n,t),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",r),install_id:o,utm_source:140,utm_medium:2152,...i?{af_r:i}:null}))({deeplinkUri:e,fallbackUrl:t,invite_code:n,platform:c,unauthId:u,userAgent:p});if(i.Z.increment("mweb.deeplink",1,{platform:c}),n&&i.Z.increment("mweb.deeplink.invite_code",1),i.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(u)}),d){i.Z.increment("mweb.deeplink.lite_link",1),null==s||s({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:h}});const e=(({unauthId:e})=>{const t=(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(t)}})({unauthId:u});window.location.href=(0,a.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===c){const t=(({deeplinkUri:e,invite_code:t,platform:n,unauthId:i})=>{const o=JSON.stringify({deeplink_path:l(e,n,t),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",r),install_id:i});return{referrer:(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:o})}})({deeplinkUri:e,invite_code:n,platform:c,unauthId:u});"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((e=>{if(e.length>0){null==s||s({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:h}});const e=(0,a.ru)(window.location.href,m);window.open(e)}else null==s||s({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:h}}),window.location.href=(0,a.ru)(o,t)})).catch(i.Z.increment("mweb_android.deeplink.playStore.error",1)):(null==s||s({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:h}}),window.location.href=(0,a.ru)(o,t))}else{if(i.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===c&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,a.ru)("https://pinterest.com/pinterest-predicts",m));null==s||s({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:h}}),window.location.href=(0,a.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",m)}}};var d=n(619277),u=n(948376),p=n(407043),h=n(780280),m=n(785893);function _({children:e,invite_code:t}){const{unauthId:n,userAgent:{platform:i,raw:a}}=(0,h.B)(),{logContextEvent:o}=(0,p.v)();return e((async(e,r,s)=>{c({deeplinkUri:e,fallbackUrl:s,invite_code:t,logContextEvent:o,platform:i,redirectToLite:(0,u.Rp)({platform:i,userAgent:a}),unauthId:n,userAgent:a,within:r})}))}const g=e=>(0,m.jsx)(d.ty,{children:t=>(0,m.jsx)(_,{...e,invite_code:t})});g.displayName="DeepLinkNavigator";const v=g},79113:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),a=n(124580),o=n(740990),r=n(223815),s=n(643010),l=n(968121),c=n(965900),d=n(883119),u=n(785893);const p={border:(0,s.Yc)()?void 0:"1px solid #efefef",width:"100vw",maxHeight:"100%",height:"100%",overflow:"auto",top:"0",left:"0",position:"fixed",backgroundColor:(0,s.Yc)()?"#000":"#fff",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"},h={modalOpen:{__style:{...p}},modalClose:{__style:{...p,transform:"translate3d(0px, 100%, 0px)"}}};function m({accessibilityModalLabel:e,allowClickAndDrag:t,children:n,isOpen:s}){const{setAppFocusState:p}=(0,c.I)(),m=(0,i.useRef)(null);return(0,i.useEffect)((()=>(s&&(a.Z.pause(),p(!1),document.body&&(document.body.style.overflow="hidden")),()=>{s&&(a.Z.resume(),p(!0),document.body&&(document.body.style.overflow=""))})),[s,p]),(0,u.jsx)(r.Z,{allowClickAndDrag:t,children:(0,u.jsx)(d.mh,{zIndex:l.b7,children:(0,u.jsx)(d.xu,{display:"inlineBlock",role:"dialog","aria-label":e,children:(0,u.jsx)(d.xu,{ref:m,dangerouslySetInlineStyle:{__style:s?h.modalOpen.__style:h.modalClose.__style},children:(0,u.jsx)(o.Z.Provider,{value:m.current,children:n})})})})})}},326960:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(172071),o=n(883119),r=n(813401),s=n(112690),l=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d=(e,t)=>{const n=e&&e.replace(".","_");return t?n&&n.substring(0,50):n};class u extends i.Component{constructor(...e){super(...e),c(this,"state",{href:void 0}),c(this,"onEvent",(()=>new Promise(((e,t)=>{"undefined"==typeof window&&t();const{filename:n,imgSrc:i,isAndroidTwa:o,isChromeOnIOS:r,isUnauth:s,logContextEvent:l,category:c,viewParameter:u,viewType:p,pinId:h,imageSignature:m}=this.props,{href:_}=this.state;window.AndroidTwa&&window.AndroidTwa.downloadImage?(window.AndroidTwa.downloadImage(i,d(n,o)),e()):r?(this.imageDownload&&this.imageDownload.click(),e()):null==_&&fetch(i,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((t=>{this.setState({href:window.URL.createObjectURL(t)},(()=>{this.imageDownload&&(this.imageDownload.click(),e())}))})).catch((()=>this.setState({href:this.DOWNLOAD_ERROR}))),a.Z.increment(`mweb.${s?"unauth":"auth"}.download.click.${c||"no_category"}`),l({event_type:82,object_id_str:h,view_type:p||3,view_parameter:u||139,aux_data:{image_signature:m}})})))),c(this,"DOWNLOAD_ERROR","error")}render(){const{children:e,filename:t,imgSrc:n,isAndroidTwa:a,isChromeOnIOS:r}=this.props,{href:s}=this.state,c=null!=s&&s!==this.DOWNLOAD_ERROR;return(0,l.jsxs)(i.Fragment,{children:[e(this.onEvent),r&&n?(0,l.jsx)(o.xu,{display:"none",children:(0,l.jsx)("a",{ref:e=>this.imageDownload=e,rel:"noopener noreferrer",tabIndex:-1,target:"_blank",href:n})}):c&&(0,l.jsx)(o.xu,{display:"none",children:(0,l.jsx)("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:d(t,a),href:s})})]})}}function p(e){const t=(0,r.xC)(),n=(0,s.Z)();return(0,l.jsx)(u,{...e,isAndroidTwa:t,logContextEvent:n})}},920085:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(867820);async function a({filename:e,imgSrc:t,imageDownloadSuccessCallback:n,category:a,isUnauth:o,pinId:r,viewParameter:s,viewType:l},c){return"undefined"==typeof window?Promise.resolve():((0,i.My)(`web.${o?"unauth":"auth"}.download.click.${a||"no_category"}`),c({event_type:82,object_id_str:r,view_type:l||3,view_parameter:s||139}),t&&document?fetch(t,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((t=>{var i,a;const o=document.createElement("a");o.href=window.URL.createObjectURL(t),o.setAttribute("download",e&&e.replace(".","_")),o.style.display="none",null===(i=document.body)||void 0===i||i.appendChild(o),o.click(),null===(a=document.body)||void 0===a||a.removeChild(o),null==n||n()})).catch((()=>{throw new Error("Download image error")})):Promise.resolve())}},616211:(e,t,n)=>{n.d(t,{W:()=>s,Z:()=>l});var i=n(898781),a=n(883119),o=n(785893);const r={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},s={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function l({isCloseupButton:e,isDisabled:t,isFavorited:n,onTap:l,size:c}){const d=(0,i.ZP)();return e?(0,o.jsx)(a.hU,{accessibilityLabel:d._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),dangerouslySetSvgPath:n?s:r,disabled:t,iconColor:"darkGray",onClick:l,size:"lg"}):(0,o.jsx)(a.iP,{disabled:t,onTap:l,children:(0,o.jsx)(a.JO,{accessibilityLabel:d._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),color:"default",dangerouslySetSvgPath:n?s:r,size:c})})}},676464:(e,t,n)=>{function i(e){const t=e.split("/");return[t[2],t[1]]}function a(e,t){return!e||!e.some((e=>e.pin_type===t))}n.d(t,{E:()=>a,J:()=>i})},765980:(e,t,n)=>{n.d(t,{Zt:()=>be,iK:()=>xe,ZP:()=>we,cV:()=>ve});var i=n(667294),a=n(702664),o=n(157796),r=n(391254),s=n(283698),l=n(313047),c=n(100183),d=n(639952),u=n(81636),p=n(898781),h=n(883119),m=n(785893);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g="BizNuxHomefeedLoader",v=[140,220,265],y=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],f=e=>({position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${g}_FadeOut`,animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${g}_FadeOut`}:{}}),b=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${g}_FadeOut`,animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:`${g}_FadeOut`}:{},x=[`${g}_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }`,`${g}_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }`];class w extends i.PureComponent{constructor(...e){super(...e),_(this,"state",{enterAnimationFinished:!1,startExitAnimation:!1}),_(this,"enterAnimationDidFinished",(()=>{this.setState({enterAnimationFinished:!0})})),_(this,"startExitAnimation",(()=>{const{dismissLoader:e}=this.props;this.setState({startExitAnimation:!0},(()=>{this.exitAnimationTimeout=setTimeout((()=>{e()}),1700)}))}))}componentDidMount(){window.scrollTo(0,0),this.enterAnimationTimeout=setTimeout((()=>{this.enterAnimationDidFinished()}),2e3)}componentDidUpdate(e){const{homefeedLoading:t}=this.props,{enterAnimationFinished:n,startExitAnimation:i}=this.state;!n||t||i||(0,s.Z)(this.startExitAnimation)}componentWillUnmount(){clearTimeout(this.enterAnimationTimeout),clearTimeout(this.exitAnimationTimeout)}get gridCellDimensionsByColumn(){const{gridContainerRef:e}=this.props;if(!e.current)return null;const t=e.current.querySelectorAll(".PinCard__imageWrapper"),n=Array.from({length:this.numberOfColumns},(e=>[]));for(let i=0;i<t.length;i+=1){const e=t[i].getBoundingClientRect();n[Math.round(e.left/(window.innerWidth/this.numberOfColumns))].push(e)}return n}get numberOfColumns(){return Math.max(Math.floor(window.innerWidth/200),2)}computeGridCellLayout(e,t,n){const i=this.numberOfColumns+1,a=(window&&window.innerWidth-16*i)/this.numberOfColumns;return{left:e*a+16*(e+1),top:n,width:a,height:v[(e+t)%v.length]}}renderGrid(){const{selectedTopics:e}=this.props,{startExitAnimation:t}=this.state,n=Array(this.numberOfColumns).fill(l.DEFAULT_HEIGHT),i=this.gridCellDimensionsByColumn,a=e.map(((e,a)=>{const o=a%this.numberOfColumns,r=Math.floor(a/this.numberOfColumns),s=y[a%y.length],l=n[o],c=this.computeGridCellLayout(o,r,l),d=(({color:e,startAnimation:t,originDimension:n,destinationDimension:i={}})=>{const a=i&&i.height>0?{top:i.top,left:i.left,width:i.width,height:i.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:n.height,width:n.width,left:n.left,top:n.top,backgroundColor:e,borderRadius:"8px",...t?a:{}}})({color:s,startAnimation:t,originDimension:c,destinationDimension:i&&i[o][r]});return n[o]+=16+c.height,(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:d},children:(0,m.jsx)(h.xu,{margin:5,display:"flex",justifyContent:"start",alignItems:"start",dangerouslySetInlineStyle:{__style:b(t)},children:(0,m.jsx)(h.X6,{color:"light",size:"500",children:e.name})})},a)}));return(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100%",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"1.2s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${g}_SlideUp`,transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${g}_SlideUp`}},children:a})}render(){const{startExitAnimation:e}=this.state;return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(r.Z,{unsafeCSS:(0,c.Ll)(x)}),(0,m.jsx)(h.xu,{color:"default",dangerouslySetInlineStyle:{__style:f(e)},children:(0,m.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(o.Z,{duration:3700,finalProgress:100}),(0,m.jsx)(h.xu,{margin:10,dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"1.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${g}_FadeOut`,animationDuration:".5s",animationDelay:"1.25s",animationFillMode:"forwards",animationName:`${g}_FadeOut`}},children:(0,m.jsx)(h.X6,{children:this.props.i18n._('Personalizing your feed with...', 'Loading homefeed details', 'Loading homefeed details')})})]}),this.renderGrid()]})})]})}}function S(e){const t=(0,p.ZP)(),n=(0,a.useSelector)((({topics:e})=>e)),i=(0,a.useDispatch)();return(0,u.Q)({view_type:24,view_parameter:261}),(0,m.jsx)(w,{...e,dismissLoader:()=>i((0,d.MI)(!1)),i18n:t,selectedTopics:Object.keys(n).filter((e=>n[e].is_followed)).map((e=>n[e]))})}var P=n(223019),T=n(491563),k=n(920231),I=n(698629),A=n(720946),C=n(439506),E=n(368156),j=n(934494),R=n(112690),D=n(19121),O=n(773285),L=n(350118),F=n(861411),N=n(276775);function M({pin:e,width:t,height:n,showDivider:i}){var a,o,r,s,l,c,d;const u=null===(a=e.images)||void 0===a?void 0:a["236x"];return(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:i?{borderRight:"2px solid #fff"}:{}},children:(0,m.jsx)(h.GH,{contentAspectRatio:(null!==(o=null==u?void 0:u.width)&&void 0!==o?o:1)/(null!==(r=null==u?void 0:u.height)&&void 0!==r?r:1),height:n,width:t,children:(0,m.jsx)(h.Ee,{alt:null!==(s=e.description)&&void 0!==s?s:"",naturalWidth:null!==(l=null==u?void 0:u.width)&&void 0!==l?l:1,naturalHeight:null!==(c=null==u?void 0:u.height)&&void 0!==c?c:1,src:null!==(d=null==u?void 0:u.url)&&void 0!==d?d:""})})})}function z({storyId:e,slotIndex:t}){const n=(0,N.useHistory)(),o=(0,N.useLocation)(),{isAuth:r}=(0,D.Z)(),{checkExperiment:s}=(0,O.F)(),[l,c]=(0,i.useState)(0),d=(0,i.useRef)(),u=(0,R.Z)(),p=(0,L.S6)();(0,i.useLayoutEffect)((()=>{const e=d.current;e&&c(e.offsetWidth)}),[]);const _=(0,a.useSelector)((({stories:t})=>t[e])),g=_.objects.map((e=>p(e.id))).filter(Boolean).slice(0,2),{story_type:v,action:y}=_,f=`${o.pathname}products/${o.search}`,b=()=>{u({component:200,event_type:102,view_parameter:3050,view_type:72}),n.push(f)};return s(r?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,m.jsx)(F.qS,{auxData:{story_type:v,content_ids:g.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:({impressionTrackerRef:e})=>l?(0,m.jsx)(h.xu,{padding:2,ref:e,children:(0,m.jsx)(h.zd,{rounding:2,children:(0,m.jsxs)(h.iP,{onTap:b,children:[(0,m.jsx)(h.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:g.map(((e,t)=>(0,m.jsx)(M,{pin:e,width:(l-16)/2-1,height:l-16,showDivider:!t},e.id)))}),(0,m.jsx)(h.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,m.jsx)(h.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,m.jsx)(h.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,m.jsx)(h.xv,{weight:"bold",children:y.text})})})})]})})}):(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})}):(0,m.jsx)(F.Hs,{auxData:{story_type:v,content_ids:g.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:l?(0,m.jsx)(h.xu,{padding:2,children:(0,m.jsx)(h.zd,{rounding:2,children:(0,m.jsxs)(h.iP,{onTap:b,children:[(0,m.jsx)(h.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:g.map(((e,t)=>(0,m.jsx)(M,{pin:e,width:(l-16)/2-1,height:l-16,showDivider:!t},e.id)))}),(0,m.jsx)(h.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,m.jsx)(h.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,m.jsx)(h.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,m.jsx)(h.xv,{weight:"bold",children:y.text})})})})]})})}):(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",ref:d})})}var Z=n(172071),B=n(706794),U=n(566102),H=n(946036),V=n(57791);const $="49.5%";function K({buttonAction:e,buttonText:t,colorImgs:n}){if(!n||n.length<4)return null;const i=e=>{var t,n,i,a;return(0,m.jsx)(h.xu,{width:$,height:"100%",children:(0,m.jsx)(h.Ee,{alt:null!==(t=e.title)&&void 0!==t?t:"",color:"rgb(111, 91, 77)",naturalHeight:null!==(n=e.height)&&void 0!==n?n:1,naturalWidth:null!==(i=e.width)&&void 0!==i?i:1,src:null!==(a=e.url)&&void 0!==a?a:"",fit:"cover"})})};return(0,m.jsx)(h.xu,{position:"relative",padding:1,marginBottom:2,children:(0,m.jsxs)(V.MZ,{to:e,children:[(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:(0,m.jsx)(h.xu,{height:"100%",width:"100%",rounding:4,direction:"column",display:"flex",justifyContent:"between",children:[n.slice(0,2),n.slice(2,4)].map((e=>(0,m.jsx)(h.kC,{width:"100%",height:$,justifyContent:"between",children:e.map(i)})))})})}),(0,m.jsx)(h.xu,{width:"100%",display:"flex",rounding:"pill",color:"secondary",justifyContent:"center",alignItems:"center",paddingX:2,height:48,marginTop:2,children:(0,m.jsx)(h.xv,{weight:"bold",children:(0,m.jsx)(h.xu,{children:t})})})]})})}var G=n(163321),W=n(962551),q=n(826067);const Y=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],J=e=>Y[e.charCodeAt(0)%Y.length];function X({guides:e,storyId:t,slotIndex:n,titleFormat:a}){var o;const{isAuth:r}=(0,D.Z)(),{checkExperiment:s}=(0,O.F)(),l=null!==(o=(0,q.mB)((0,N.useLocation)().search).q)&&void 0!==o?o:"";return s(r?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,m.jsx)(F.qS,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:n,viewParameter:43,viewType:2,children:({impressionTrackerRef:t})=>(0,m.jsxs)(h.xu,{ref:t,children:[a&&(0,m.jsx)(h.xu,{paddingY:1,marginTop:2,children:(0,m.jsx)(h.xv,{align:"center",children:a})}),(0,m.jsx)(W.Z,{guides:e.map((e=>({display:e.display,dominant_color:J(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:l})]})}):(0,m.jsx)(F.Hs,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:n,viewParameter:43,viewType:2,children:(0,m.jsxs)(i.Fragment,{children:[a&&(0,m.jsx)(h.xu,{paddingY:1,marginTop:2,children:(0,m.jsx)(h.xv,{align:"center",children:a})}),(0,m.jsx)(W.Z,{guides:e.map((e=>({display:e.display,dominant_color:J(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:l})]})})}function Q({slotIndex:e,storyId:t,viewParameter:n,viewType:a,storyData:o}){const{actionText:r,actionUrl:s,colorImgsFromObjects:l,contextualSearchFromObjects:c,customProperties:d,descriptionFormat:u,displayOptions:p,experience:_,storyType:g,titleFormat:v}=o;switch((0,i.useEffect)((()=>{Z.Z.increment("webapp.graphql.pinStory",.1,{viewType:a,storyType:g})}),[a,g]),g){case H.q:{var y,f,b;if(!d||!p)return null;const{numColumnsRequested:e,titleTextColor:t}=p;return 2===e?null:(0,m.jsx)(C.Z,{isFullWidth:!1,actionType:d.actionType,buttonAction:null!=s?s:"",buttonText:null!=r?r:"",experience:null!=_?_:void 0,hideCompleteButton:d.hide_complete_button,imageAlt:d.image_alt,imageUrl:d.image,openNewTab:d.open_new_tab,avatarImageDetails:null!==(y=d.avatar_image_details)&&void 0!==y?y:{},examplePinImage:null!==(f=null===(b=d.example_pin_image_details)||void 0===b?void 0:b.originals)&&void 0!==f?f:{},titleText:null!=v?v:"",titleTextColor:G.e[t],titleTextCustomization:d.title_text_customization,descriptionText:null!=u?u:"",descriptionTextCustomization:d.description_text_customization})}case"feed_card_default":case"feed_card_video":return(0,m.jsx)(G.Z,{buttonAction:null!=s?s:"",buttonCustomization:d.button_customization,buttonText:null!=r?r:"",experience:null!=_?_:void 0,hideCompleteButton:d.hide_complete_button,imageAlt:d.image_alt,imageUrl:d.image,openNewTab:d.open_new_tab,storyType:g,titleText:null!=v?v:"",titleTextColor:G.e[p.titleTextColor],titleTextCustomization:d.title_text_customization,videoPin:d.video_pin,videoPlaceholderImage:d.video_placeholder_image});case"user_brand_story":case"user_color_story":case"general_shopping_upsell":return(0,m.jsx)(G.Z,{buttonAction:null!=s?s:"",buttonText:null!=r?r:"",imageAlt:null==d?void 0:d.image_alt,imageUrl:null==d?void 0:d.image,storyType:g,titleText:null!=v?v:"",titleTextColor:G.e[p.titleTextColor]});case"user_color_story_v1":return(0,m.jsx)(K,{buttonAction:null!=s?s:"",buttonText:null!=r?r:"",colorImgs:l});case"BUBBLE_ONE_COL":return(0,m.jsx)(h.xu,{padding:2,children:(0,m.jsx)(E.Z,{slotIndex:e,storyId:t,viewType:a,viewParameter:n})});case"pinner_authority":case"pinner_authority_unified":return(0,m.jsx)(B.Z,{storyId:t,slotIndex:e});case"stela_in_flashlight_onecol":return(0,m.jsx)(z,{storyId:t,slotIndex:e});case"search_guides":return(0,m.jsx)(X,{guides:null!=c?c:[],slotIndex:e,storyId:t,titleFormat:null!=v?v:""});default:return null}}const ee=(0,j.Z)({useGraphQLAdapter:()=>null,useLegacyAdapter:e=>{const t=(0,L.S6)(),n=(0,a.useSelector)((({stories:t})=>t[e]));if(!n)return null;const{action:i,container_type:o,custom_properties:r,display_options:s,experience:l,story_type:c,title:d,description:u,objects:p}=n;if(!c)return null;const h=p,m=null==h?void 0:h.filter((e=>"contextual_search"===e.schema)).map((e=>{var t,n;return{schema:"contextual_search",display:null!==(t=e.display)&&void 0!==t?t:"",term:null!==(n=e.term)&&void 0!==n?n:""}})),_=null==h?void 0:h.filter((e=>"pin"===e.schema)).slice(0,4).map((e=>{var n,i,a,o,r,s;const l=t(e.id);return{title:null==l?void 0:l.description,height:null==l||null===(n=l.images)||void 0===n||null===(i=n["736x"])||void 0===i?void 0:i.height,width:null==l||null===(a=l.images)||void 0===a||null===(o=a["736x"])||void 0===o?void 0:o.width,url:null==l||null===(r=l.images)||void 0===r||null===(s=r["736x"])||void 0===s?void 0:s.url}}));return{actionText:null==i?void 0:i.text,actionUrl:null==i?void 0:i.url,customProperties:r,displayOptions:s?{numColumnsRequested:s.num_columns_requested,titleTextColor:s.title_text_color}:null,experience:l,storyType:(0,U.Z)({containerTypeIsItemGrid:56===o,numColumnsRequested:null==s?void 0:s.numColumnsRequested,storyType:c})?"BUBBLE_ONE_COL":c,titleFormat:null==d?void 0:d.format,descriptionFormat:null==u?void 0:u.format,contextualSearchFromObjects:m,colorImgsFromObjects:_}}}),te=e=>(0,m.jsx)(ee,{input:{enabled:!1,data:e.storyId},children:({data:t})=>t&&(0,m.jsx)(Q,{...e,storyData:t})});var ne=n(889884),ie=n(740990),ae=n(182476),oe=n(784590),re=n(844887),se=n(780280),le=n(317254),ce=n(50286),de=n(444445),ue=n(679031);const pe=e=>`BREAK_IN_${e}`,he=new Map,me=e=>{const t=he.get(e);if(t)return t;const n=Object.freeze({type:"FEED_BREAK_IN",id:pe(e)});return he.set(e,n),n};function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ge={},ve=e=>{ge[e]&&ge[e].handlePullToRefresh()},ye=()=>{const{plpImageRenderData:e}=(0,re.HW)(),[t]=e;return t?t.pin_id:null};class fe extends i.PureComponent{constructor(...e){super(...e),_e(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:ye(),feedItem:null}:null}),_e(this,"backOnlineAutoFetchResource",(()=>{this.props.pagination.loadNext()})),_e(this,"handlePullToRefresh",(()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})})),_e(this,"gridContainerRef",(0,i.createRef)()),_e(this,"renderFeedPin",((e,t)=>{const{feedItemProps:n,location:i,performanceOptimization:a,renderSquarePins:o,showSeoMetadata:r,squarePins:s,trafficSource:l,duploUnauthRelatedPinsAutoplayExpGroup:c,unauthRelatedProductsExpGroup:d}=this.props,{auxData:u,componentType:p,feedback:h,imageOnly:_,impressionData:g,objectIdStr:v,oneTapSave:y,onFeedItemClick:f,onPinLinkClick:b,shouldAllowProductPriceIndicator:x,showSeoMetadata:w,viewData:S,viewParameter:P,viewType:T}=n||{},k=(i.search||"").includes("force_seo"),I=!(null==a||!a.lazyLoadBelowFoldIndex)&&t>a.lazyLoadBelowFoldIndex,C=!(null==a||!a.priorityFetchAboveFoldIndex)&&t<=a.priorityFetchAboveFoldIndex;return(0,m.jsx)(A.default,{auxData:u,componentType:p||0,duploFeedItemProps:{onPinClick:f,onPinLinkClick:b,showSeoMetadata:r||k||w},duploIsSquarePin:o||s,duploLazyLoadImage:I,duploOneTapSave:y,duploPriorityFetchImage:C,duploShouldAllowProductPriceIndicator:x,feedback:h,imageOnlyOption:_?"image-only":"default",impressionData:g,objectIdStr:v,pinId:e.id,slotIndex:t,trackingParams:e.trackingParams,trafficSource:l,viewData:S,viewParameter:P,duploUnauthRelatedPinsAutoplayExpGroup:c,unauthRelatedProductsExpGroup:d,viewType:T||1})}))}componentDidMount(){var e,t;window.addEventListener("online",this.backOnlineAutoFetchResource),e=this.props.feedKey,t=this,ge[e]=t}componentWillUnmount(){var e;window.removeEventListener("online",this.backOnlineAutoFetchResource),e=this.props.feedKey,delete ge[e]}componentDidUpdate(e){const{refreshing:t,unauthLandingPinStateForAuthHomefeed:n}=this.state,{feedItems:i,authHomefeedComponentDidUpdate:a}=this.props,o=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(o&&this.setState({refreshing:!1}),a&&n){const t=a({feedItems:i,prevFeedItems:e.feedItems,finishedRefresh:o,unauthLandingPinStateForAuthHomefeed:n});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){const{deviceType:e,emptyState:t,feedItemProps:n,feedItems:a,feedItemsAdjustment:o,feedKey:r,gridConfig:s,pagination:l,pullToRefresh:c,renderFeedItem:d,serverRender:u,showBizNuxHomefeedLoader:p,trafficSource:_,visuallyCompleteProfilerOptions:g}=this.props,{unauthLandingPinStateForAuthHomefeed:v}=this.state,y=null!=v&&v.feedItem&&a.length?[v.feedItem,...a]:a,{viewParameter:f,viewType:b}=n||{},{key:x}=s||{},w=r+(x?`|${x}`:""),A="user_search"===_,C=A?window.innerWidth-16:200,E={columnWidth:"desktop"===e?de.yF:C,renderItem:({data:e,itemIdx:t})=>{if(d){const n=d(e,t);if("FALLBACK_TO_DEFAULT"!==n)return n}switch(e.type){case"pin":return(0,m.jsx)(ue.cn,{children:this.renderFeedPin(e,t)});case"user":return(0,m.jsx)(T.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:"user_search"===_,viewParameter:f,viewType:b});case"board":return(0,m.jsx)(P.Z,{boardId:e.id,type:"grid",viewParameter:f,viewType:b});case"topic":return(0,m.jsx)(ae.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:f,viewType:b});case"story":return"number"==typeof f?(0,m.jsx)(te,{slotIndex:t,storyId:e.id,viewParameter:f,viewType:b||1}):null;case"FEED_BREAK_IN":return o&&"breakIn"===o.type&&o.value.content;default:return null}},gutterWidth:"desktop"===e?4*de.jC:void 0,loadItems:l.loadNext,minCols:A?1:2,...s},j=!p&&l.isLoadingNext&&0===y.length&&!this.state.refreshing,[R,D,O]="fullWidthBreakIn"===(null==o?void 0:o.type)?[y.slice(0,o.value.index),o.value.content,y.slice(o.value.index)]:[y,null,[]],L="desktop"===e&&"flashlight"===_,F=L?0:de.qG;return(0,m.jsxs)(h.xu,{"data-test-id":"MobileFeed",children:[(0,m.jsx)(ne.Z,{enabled:!!c,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing}),(0,m.jsxs)(h.xu,{marginStart:F,marginEnd:F,"data-test-id":"grid",ref:this.gridContainerRef,opacity:this.state.refreshing?.5:1,children:[(0,m.jsx)(le.Z,{includeBackgroundImages:null==g?void 0:g.includeBackgroundImages,includeVideos:null==g?void 0:g.includeVideos,isAtEndOfFeed:!l.hasNext,itemCount:y.length,pinData:null==g?void 0:g.pins,children:y.length?(0,m.jsx)(h.xu,{"data-test-id":"feed",marginTop:(0,ue.kk)({isDesktop:"desktop"===e}),children:(0,m.jsx)(ie.Z.Consumer,{children:e=>(0,m.jsx)(i.Fragment,{children:(0,m.jsxs)(ue.c$,{feedRef:this.gridContainerRef,viewParameter:f,viewType:b||1,children:[(0,m.jsx)(k.Z,{cacheKey:w,id:u?r:void 0,items:R,scrollContainerRef:e,serverRender:u,...E}),D,O.length>0&&(0,m.jsx)(k.Z,{cacheKey:`${w}_afterBreak`,items:O,scrollContainerRef:e,...E})]})})})}):l.isLoadingNext?(0,m.jsx)(ue.gG,{}):null!=t?t:null}),j&&(0,m.jsx)(h.xu,{column:12,paddingY:2,children:(0,m.jsx)(I.Z,{partialViewportWidth:L})}),p&&(0,m.jsx)(S,{homefeedLoading:l.isLoadingNext,gridContainerRef:this.gridContainerRef})]})]})}}function be({feedItems:e,pagination:t,...n}){const{feedItemsAdjustment:i}=n,o=(0,N.useLocation)(),r=(0,ce.ZP)(),{isAuthenticated:s,isBot:l}=(0,se.B)(),{isBizNuxHomefeedLoadShown:c}=(0,a.useSelector)((({session:e})=>e));let d=e;return"breakIn"===(null==i?void 0:i.type)?d=(({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),me(e),...t.slice(e)])({items:e,breakIn:i.value}):"offset"===(null==i?void 0:i.type)&&(d=e.slice(i.value)),(0,m.jsx)(fe,{...n,deviceType:r,feedItems:d,isAuthenticated:s,pagination:t,location:o,showBizNuxHomefeedLoader:!!c,showSeoMetadata:l||!s})}function xe({resource:{isAtEnd:e,isFetching:t,fetchMore:n,refresh:i},...o}){const r=(0,a.useSelector)((({feeds:e})=>{var t;return null!==(t=e[o.feedKey])&&void 0!==t?t:[]}));return(0,m.jsx)(be,{...o,feedItems:r,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>n(),refetch:()=>i()}})}function we({resourceConfig:e,...t}){const n=(0,oe.Z)(e);return(0,m.jsx)(xe,{...t,resource:n})}},427806:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(785893);function o({text:e}){return(0,a.jsx)(i.xu,{display:"visuallyHidden",children:(0,a.jsx)(i.X6,{accessibilityLevel:1,children:e})})}},697335:(e,t,n)=>{n.d(t,{c:()=>a,t:()=>o});var i=n(883521);function a({children:e}){const{height:t}=(0,i.J)();return e(t)}function o(){const{height:e}=(0,i.J)();return e}},883521:(e,t,n)=>{n.d(t,{J:()=>c,Z:()=>h});var i=n(667294),a=n(522679),o=n(425288),r=n(977558),s=n(785893);const{Provider:l,useHook:c}=(0,o.Z)("Header"),d={childList:!0,attributes:!0,subtree:!0},u={height:r.cI,isInBiznuxFullscreen:!1,repinPinId:null,repinStartAnimation:!1,showAccountMenuFlyout:!1};function p(e,t){switch(t.type){case"showAccountMenuFlyout":return{...e,showAccountMenuFlyout:!0};case"hideAccountMenuFlyout":return{...e,showAccountMenuFlyout:!1};case"showRepinAnimation":return{...e,repinStartAnimation:!0,repinPinId:t.payload};case"hideRepinAnimation":return{...e,repinStartAnimation:!1,repinPinId:null};case"updateHeight":return{...e,height:t.payload};case"updateIsInBiznuxFullscreen":return{...e,isInBiznuxFullscreen:t.payload};default:throw new Error("action type not supported")}}function h({children:e}){const t=(0,i.useRef)(null),[{height:n,isInBiznuxFullscreen:o,repinPinId:c,repinStartAnimation:h,showAccountMenuFlyout:m},_]=(0,i.useReducer)(p,u);(0,i.useEffect)((()=>{const e=document.getElementById(r.WZ),n=()=>{e&&_({type:"updateHeight",payload:e.clientHeight})};return e&&"undefined"!=typeof MutationObserver&&(t.current=new MutationObserver(n),t.current.observe(e,d)),()=>{var e;null===(e=t.current)||void 0===e||e.disconnect()}}));const g=(0,i.useMemo)((()=>({height:n,isInBiznuxFullscreen:o,repinPinId:c,repinStartAnimation:h,showAccountMenuFlyout:m,updateHeaderState:_})),[_,n,o,c,h,m]);return(0,s.jsx)(l,{value:g,children:(0,s.jsx)(a.t,{children:e})})}},977558:(e,t,n)=>{n.d(t,{L1:()=>o,Rz:()=>l,WZ:()=>r,cI:()=>a,fe:()=>s,hu:()=>i});const i=64,a=80,o=22,r="HeaderContent",s=671,l={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},49028:(e,t,n)=>{n.d(t,{Hv:()=>c,WQ:()=>l});var i=n(667294),a=n(766935),o=n(425288),r=n(785893);const{Provider:s,useHook:l}=(0,o.Z)("HeaderShadow");function c({children:e}){const[t,n]=(0,i.useState)(!1),[o,l]=(0,i.useState)(0),[c,d]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const e=(0,a.Z)((()=>{n(window.scrollY>0),l(window.scrollY)}),50);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),(0,r.jsx)(s,{value:{currentScrollPosition:o,isScrolled:t,setSubheaderShadow:d,subheaderShadow:c},children:e})}},889884:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),a=n(883119),o=n(785893);function r({text:e,isSelected:t,icon:n,animationType:i,position:r,hasStartPulling:s,isExecuted:l}){return(0,o.jsxs)(a.xu,{display:"flex",direction:"column",alignItems:"center",marginBottom:6,children:[(0,o.jsx)(a.xu,{color:t?"dark":"secondary","data-test-id":"action-animated-icon",rounding:"circle",padding:s?4:0,dangerouslySetInlineStyle:t&&l?{__style:{transform:"rotate(360deg)",transition:"all .9s ease-out"}}:{__style:{transition:"all .3s ease-out",marginTop:t&&"move"===i?40:0}},children:(0,o.jsx)(a.JO,{size:100*r<24?100*r:24,icon:n,accessibilityLabel:e,color:t?"light":"dark"})}),(0,o.jsx)(a.xu,{padding:1,"data-test-id":"action-animated-text",dangerouslySetInlineStyle:{__style:{opacity:t?1:0,transition:"all .3s ease-out"}},children:(0,o.jsx)(a.xv,{align:"center",size:"100",children:e})})]})}var s=n(898781);function l({enabled:e,onSelect:t,refreshing:n}){const a=(0,i.useRef)(null),[o,r]=(0,i.useState)(0),[s,l]=(0,i.useState)(!1),c=n?0:o/250,d=c>0,u=()=>{l(!1),r(0)};(0,i.useEffect)((()=>{if(e){const e=e=>{window.scrollY<=0&&!n&&(a.current=e.touches[0].clientY)},i=e=>{if(a.current){const t=.5*(e.touches[0].clientY-a.current);t>0&&(r(t),e.preventDefault())}},s=e=>{a.current&&(l(!0),t({pullDistance:o,position:c,resetState:u}),a.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",i,{passive:!1}),window.addEventListener("touchend",s),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",i,{passive:!1}),window.removeEventListener("touchend",s)}}}),[e,t,o,n,c]);const p=a.current;return{pullDistance:o,hasStartPulling:d,position:c,startYRefCurrent:p,PULL_MENU_DISTANCE:250,isExecuted:s}}var c=n(407043),d=n(276775);function u({enabled:e,onPull:t,refreshing:n}){const i=(0,s.ZP)(),u=(0,d.useHistory)(),{logContextEvent:p}=(0,c.v)(),h=e=>e>=.6,m=e=>e>.4&&e<.6,{position:_,hasStartPulling:g,PULL_MENU_DISTANCE:v,isExecuted:y}=l({enabled:e,onSelect:e=>{const{position:n,resetState:i}=e;m(n)?setTimeout((()=>{p({view_type:1,event_type:158,view_parameter:92}),t(),i()}),500):h(n)?setTimeout((()=>{p({view_type:1,event_type:10144,view_parameter:92}),u.push("edit/"),i()}),500):i()},refreshing:n}),f=i._('Refresh', 'pullMenu.refresh', 'Pull down on grid to refresh items'),b=i._('Edit Feed', 'pullMenu.goTuner', 'Pull down on grid to edit your feed');return(0,o.jsx)(a.xu,{children:e&&(0,o.jsxs)(a.xu,{display:"flex",alignItems:"center",direction:"column",height:_*v,justifyContent:"center",marginBottom:g?4:0,children:[(0,o.jsx)(r,{text:b,isSelected:h(_),icon:"edit",animationType:"move",position:_,hasStartPulling:g,isExecuted:y}),(0,o.jsx)(r,{text:f,isSelected:m(_),icon:"refresh",position:_,hasStartPulling:g,isExecuted:y})]})})}function p({enabled:e,onPull:t,refreshing:n}){const i=(0,s.ZP)(),{logContextEvent:r}=(0,c.v)(),{position:d,startYRefCurrent:u,pullDistance:p}=l({enabled:e,onSelect:e=>{const{pullDistance:n,resetState:i}=e;n>=120&&(r({view_type:1,event_type:158,view_parameter:92}),t()),i()},refreshing:n}),h=Math.min(d,1),m=i._('Pull to refresh', 'Pull down on grid to refresh items', 'Pull down on grid to refresh items');return(0,o.jsx)(a.xu,{children:e&&(0,o.jsx)(a.xu,{display:"flex",alignItems:"center",justifyContent:"center",height:120*d,dangerouslySetInlineStyle:{__style:{opacity:h,transition:null===u?"all .3s ease-out":void 0}},children:(0,o.jsx)(a.JO,{size:40,icon:u&&p<120?"arrow-circle-down":"arrow-circle-up",accessibilityLabel:m})})})}var h=n(773285);function m({enabled:e,onPull:t,refreshing:n}){const{checkExperiment:a}=(0,h.F)(),{anyEnabled:r}=a("hfp_drive_traffic_to_homefeed_tuner_mweb");return(0,o.jsx)(i.Fragment,{children:r?(0,o.jsx)(u,{enabled:e,onPull:t,refreshing:n}):(0,o.jsx)(p,{enabled:e,onPull:t,refreshing:n})})}},861411:(e,t,n)=>{n.d(t,{fv:()=>v,GR:()=>h,Hs:()=>f,Mv:()=>_,uc:()=>g,dL:()=>m,qS:()=>y,Y4:()=>w,HE:()=>x,Cy:()=>b});var i=n(667294),a=n(973935),o=n(124580),r=n(407043),s=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),l(this,"observe",(()=>{try{if(this.node=(0,a.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=this.props.eventData;o.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||t||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),l(this,"logImpression",(e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}})}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&o.Z.stop(this.node)}render(){return i.Children.only(this.props.children)}}function d(e){const{logImpression:t}=(0,r.v)();return(0,s.jsx)(c,{...e,logImpression:t})}var u=n(773285);function p({auxData:e,component:t,eventData:n,eventType:a,impressionType:s,isPaused:l,objectIdStr:c,viewData:d,viewType:p,viewParameter:h}){const m=(0,i.useRef)(null),{logImpression:_}=(0,r.v)(),{checkExperiment:g}=(0,u.F)(),v=g("web_mweb_pin_impression_add_width_height").anyEnabled,y=(0,i.useCallback)((()=>{const i=i=>{var o,r,l,u;_({viewData:d||{},viewType:p,viewParameter:h,eventType:a,impressionType:s,auxData:e,component:t,objectIdStr:c,eventData:{endTime:i.endTime,time:i.startTime,pinCellWidth:v?(null===(o=m.current)||void 0===o?void 0:o.getBoundingClientRect().width)||0:void 0,pinCellHeight:v?(null===(r=m.current)||void 0===r?void 0:r.getBoundingClientRect().height)||0:void 0,windowWidth:v?null===(l=window)||void 0===l?void 0:l.innerWidth:void 0,windowHeight:v?null===(u=window)||void 0===u?void 0:u.innerHeight:void 0,...n}})};try{if(m.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=n;o.Z.start(m.current).onExitViewport(i).setDebugId(e||t||"unknown")}}catch(r){window.console.error('Can only track impressions for type "HTMLElement"')}}),[m.current]);return(0,i.useEffect)((()=>{l||y();const e=m.current;return()=>{e instanceof HTMLElement&&o.Z.stop(e)}}),[l,y]),m}const h=e=>(0,s.jsx)(d,{eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),m=e=>{const t=p({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},_=e=>{const t=p({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},g=e=>{const t=p({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},v=e=>(0,s.jsx)(d,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),y=e=>{const t=p({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},f=e=>(0,s.jsx)(d,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),b=e=>{const t=p({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},x=e=>{const t=p({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},w=e=>{const t=p({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},63552:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(785893);function o({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:o,rounding:r,fullWidth:s=!1,pressState:l="none",accessibilityLabel:c,role:d}){const u=(Array.isArray(l)?l:[l]).includes("compress");return(0,a.jsx)(i.iP,{fullWidth:s,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:o&&(({event:e})=>o(e)),rounding:r,tapStyle:u?"compress":"none",accessibilityLabel:c,role:d,children:e})}},807532:(e,t,n)=>{n.d(t,{C:()=>l,f:()=>s});var i=n(667294),a=n(425288),o=n(785893);const{Provider:r,useHook:s}=(0,a.Z)("MostRecentPin");function l({children:e}){const[t,n]=(0,i.useState)(),[a,s]=(0,i.useState)(),l=(0,i.useCallback)((e=>{const t=a?a.slice(0,10):[],n=[e].concat(t.filter((t=>t!==e)));s(n)}),[a]),c=(0,i.useMemo)((()=>({id:t,plpImageSignatures:a,setMostRecentPinId:n,setMostRecentPinImage:l})),[t,a,l]);return(0,o.jsx)(r,{value:c,children:e})}},379764:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(183007);const a=new(n(883119).H3)([i.N])},872482:(e,t,n)=>{n.d(t,{D:()=>a,a:()=>o});var i=n(425288);const{Provider:a,useMaybeHook:o}=(0,i.Z)("unauthPageWrapperContext")},948945:(e,t,n)=>{n.d(t,{Z:()=>be});var i=n(667294),a=n(81226),o=n(702664),r=n(8320),s=n(977734),l=n(499128),c=n(898781),d=n(112690),u=n(927383),p=n(662089),h=n(52022),m=n(332611),_=n(639952),g=n(57791),v=n(881802),y=n(698330),f=n(883119),b=n(276775),x=n(785893);const w=new f.Ry(1);function S({buttonText:e,clientTrackingParams:t,color:n="primary",deeplinkUri:a,experience:S,inline:P=!0,minWidth:T,onTouch:k,onUnsave:I,pinId:A,pinnedToBoardId:C,shape:E,shouldShowSavedButton:j,viewType:R,viewParameter:D,showSaveHandoffExperience:O}){var L;const F=(0,c.ZP)(),N=(0,o.useDispatch)(),M=(0,b.useHistory)(),z=(0,b.useLocation)().pathname.startsWith("/pin"),Z=(0,o.useSelector)((({session:e})=>e.hasSavedUnauthPin)),B=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),U=null===(L=(0,y.Tt)())||void 0===L?void 0:L.pin_count,H=(0,d.Z)(),V=(0,h.Z)(),$=e=>M.push(e),{showToast:K,showRepinConfirmation:G}=(0,p.Z)(),W=()=>{N((0,s.Z)({history:M,i18n:F,logContextEvent:H,onSuccess:()=>{S&&N((0,m.CK)(S.placement_id,S.experience_id))},originalPinId:A,pinId:A,trackingParams:{clientTrackingParams:t,pinnedToBoardId:C},showRepinConfirmation:O&&!z?()=>{}:G,disableRepinAnimation:B===A,pinCount:U,historyPush:$})).catch((e=>K((({hideToast:t})=>(0,x.jsx)(l.ZP,{type:"error",text:e.message||F._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:t})))))},q=(0,i.useRef)(null),Y=O&&!Z,J=(0,u.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),k&&k(e),j?j&&I&&I():W()},modalHeader:(0,v.Bx)(F)});(0,i.useEffect)((()=>{Y&&!q.current&&(V({action:"trigger",item:"unauth-save-button-quicksave"}),W(),N((0,_.e2)())),q.current=Y}));const X=()=>F._('Pin', 'quickSave.quickSaveButton.icon.accessibilityLabel', 'Pin accessibility label'),Q=()=>e||F._('Save', 'quickSave.quickSaveButton.buttonText', 'Auth mobile web save button for pin closeup');return Z&&!z?null:(0,x.jsx)(f.xu,{"data-test-id":"save-button-mobile",zIndex:w,children:a?(0,x.jsx)(g.di,{accessibilityLabel:X(),color:n,customStyles:{padding:"14px 16px"},deeplinkUri:a,inline:P,minHeight:48,minWidth:T,onTouch:J,pressState:["compress","background"],shape:E,size:"lg",text:Q(),to:M.location.pathname,upsellType:"save",viewType:R,viewParameter:D}):(0,x.jsx)(r.Z,{accessibilityLabel:X(),color:n,customStyles:{padding:"14px 16px"},inline:P,minHeight:48,minWidth:T,onTouch:J,pressState:"compress",shape:E,size:"300",text:Q()})})}var P=n(364034),T=n(139574),k=n(826067),I=n(850431),A=n(867820),C=n(50286),E=n(780280),j=n(177891),R=n(343341);function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends i.PureComponent{constructor(...e){var t;super(...e),t=this,D(this,"state",{saveState:void 0}),D(this,"legoFixedZIndex",new f.Ry(2)),D(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:n,i18n:i,oneTapSave:a,pinId:o,pinnedToBoardId:r,showToast:s,viewType:c,historyPush:d}=t.props;try{const i=await n((0,I.w)({i18n:t.props.i18n,logContextEvent:t.props.logContextEvent,originalPinId:o,pinId:o,boardId:null==a?void 0:a.boardId,isOneTapSave:!0,onUndo:()=>{t.onDeletePin()},section:null==a?void 0:a.section,showToast:s,trackingParams:{clientTrackingParams:e,pinnedToBoardId:r},viewType:c,historyPush:d}));t.setState({saveState:"saved"}),n((0,j.a)({boardId:null==a?void 0:a.boardId,localPinId:i.id,pinId:o}))}catch(u){s((({hideToast:e})=>(0,x.jsx)(l.ZP,{type:"error",text:u.message||i._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),onHide:e}))),t.setState({saveState:void 0})}})),D(this,"onDeletePin",(async function(){const{dispatch:e,clientTrackingParams:n,i18n:i,pinId:a,savedInfo:o,showToast:r}=t.props;if(o){e((0,j.k)({boardId:o.boardId,localPinId:o.localPinId,pinId:a}));try{await e((0,T.q)({pinId:o.localPinId,boardId:o.boardId,clientTrackingParams:n})),r((({hideToast:e})=>(0,x.jsx)(l.ZP,{text:i._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e}))),t.setState({saveState:void 0})}catch(s){r((({hideToast:e})=>(0,x.jsx)(l.ZP,{type:"error",text:i._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e}))),t.setState({saveState:"saved"})}}})),D(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:t}=this.state,{history:n,pinId:i,isOneTapExploreLocalTab:a,pinnedToBoard:o}=this.props;["saving","deleting"].includes(t)||a&&o||(t||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),a?n.push({pathname:`/pin/${i}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,v.Bx)(this.props.i18n)})),D(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:t,savedInfo:n})=>e?!!t:!!n))}render(){const{children:e,clientTrackingParams:t,homepageExperience:n,i18n:a,isOneTapExploreLocalTab:o,isRTL:r,oneTapSave:s,pinId:l,pinnedToBoard:c,pinnedToBoardId:d,savedInfo:u,shouldShowSaveHandoffExp:p,useSmallSaveIcon:h}=this.props;if(!s&&!o&&!p)return e;const m=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:o,pinnedToBoard:c,savedInfo:u}),_="#000",g="rgba(255, 255, 255, 0.8)",v="light",y="dark";return(0,x.jsxs)(i.Fragment,{children:[e,(0,x.jsx)(f.xu,{bottom:!0,left:r,padding:2,position:"absolute",right:!r,zIndex:this.legoFixedZIndex,children:p?(0,x.jsx)(S,{buttonText:c?a._('Saved', 'OneTapSave.QuickSaveButton.Saved', 'Message on saved pin'):"",clientTrackingParams:t,color:c?"default":"primary",deeplinkUri:"deeplinkUri",experience:n,inline:!0,pinnedToBoardId:d,minWidth:54,pinId:l,shape:"pill",shouldShowSavedButton:!!c,showSaveHandoffExperience:p}):(0,x.jsx)(f.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,x.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:m?_:g}},padding:2,rounding:"circle",children:(0,x.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,x.jsx)(f.JO,{accessibilityLabel:m?a._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):a._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:m?"check":"add",color:m?v:y,size:h?16:24})})})})})]})}}const L=(0,o.connect)(((e,{pinId:t})=>({savedInfo:e.pins[t]&&e.pins[t].savedInfo,pinnedToBoard:e.pins[t]&&e.pins[t].pinned_to_board,homepageExperience:e.experiences[40001]})))((function(e){const{showToast:t}=(0,R.F9)(),n=(0,b.useLocation)(),a=(0,c.ZP)(),r=(0,d.Z)(),l=(0,u.Z)(),p=(0,o.useDispatch)(),h=(0,b.useHistory)(),{isRTL:m,isAuthenticated:_}=(0,E.B)(),g=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),v=_&&!!g&&g===e.pinId,{pins:y,clear:f}=(0,P.Z)(),w=(0,i.useRef)(!1),S=(0,k.mB)(n.search).ideas_referrer,T=!(0,C.HG)()&&S===String(25),I=e=>h.push(e);return(0,i.useEffect)((()=>{_&&!w.current&&y.length>0&&(w.current=!0,y.forEach((({id:e})=>{p((0,s.Z)({history:h,i18n:a,logContextEvent:r,onSuccess:()=>{},originalPinId:e,pinId:e,trackingParams:{clientTrackingParams:"",pinnedToBoardId:""},showRepinConfirmation:()=>{},disableRepinAnimation:!0,historyPush:I})).catch((e=>{(0,A.My)(`error.unauth_profile_pin_merge.${e}`)}))})),f())})),(0,x.jsx)(O,{...e,i18n:a,requireAuthForLimitedLogin:l,history:h,logContextEvent:r,showToast:t,shouldShowSaveHandoffExp:v,isRTL:m,historyPush:I,useSmallSaveIcon:T})}));L.displayName="OneTapSave";const F=L;var N=n(883561),M=n(349700);function z({boardUrl:e,boardName:t,isQuicksave:n,sectionName:i,sectionSlug:a}){const o=(0,c.ZP)(),r=(0,b.useHistory)(),s=new f.Ry(1),l=!!a&&`${e}${a}/`;return(0,x.jsx)(f.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:s,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,x.jsx)(f.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:(0,x.jsx)(f.iP,{onTap:t=>{t.event.preventDefault(),r.push(n?"/me/":l||e)},children:(0,x.jsx)(f.xv,{color:"light",children:i?(0,M.nk)(o._('Saved to {{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay'),{sectionName:(0,x.jsx)(f.xv,{color:"light",weight:"bold",inline:!0,children:(0,N.ZP)(i,22)},`pincard-${i}`)}):(0,M.nk)(o._('Saved to {{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay'),{boardName:(0,x.jsx)(f.xv,{color:"light",weight:"bold",inline:!0,children:n?o._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,N.ZP)(t,22)},`pincard-${t}`)})})})})})}var Z=n(167525),B=n(964082),U=n(934494),H=n(36971),V=n(463045);function $({isSquarePin:e,color:t,description:n,imageUrl:i,imageHeight:a,imageWidth:o,onError:r,onLoad:s}){const l=(0,x.jsx)(f.Ee,{alt:n||"",color:t,naturalHeight:null!=a?a:1,naturalWidth:null!=o?o:1,onError:r,onLoad:s,src:null!=i?i:"",fit:e?"cover":void 0});return e?(0,x.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,x.jsx)(f.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:l})}):l}var K,G=n(350445),W=n(46584),q=n(926749),Y=n(623568),J=n(965900),X=n(350118),Q=n(167912);const ee=void 0!==K?K:K=n(365885);function te({inAdsVideoExperiment:e,unauthRelatedPinsAutoplayExpGroup:t,isAutoplay:n,cropHeight:a,currentTime:o,onLoad:r,onError:s,onTimeChange:l,pinData:d,playing:u,rootMargin:p,viewType:h,viewParameter:m,onVisibilityChanged:_,trackFullVisible:g,videoDuration:v,imageHeightModifier:y,image:b,isSquarePin:w}){var S,P,T,k;const I=(0,c.ZP)(),[A,E]=(0,i.useState)(!1),[j,R]=(0,i.useState)(!0),{isDownstreamPromotion:D,hasPromoter:O}=d,L=(0,Y.jL)(!!D,!!O),F=L&&!d.isEligibleForWebCloseup,N=3372===m||42===h,M=L&&d.isEligibleForWebCloseup&&!N,{setCurrentVideo:z,pauseAutoplay:B}=(0,J.I)(),U=F||!L,H=(0,W.Z)({onVisibilityChanged:_,inAdsDesktopVideoExperiment:e,trackFullVisible:g,rootMargin:p});let V=!u;(e||null!=t&&t.startsWith("enabled"))&&(V=j,n&&u&&j&&R(!1));const{image236xUrl:K,pinId:X}=d,Q=(0,C.HG)()&&d.videos?null===(S=d.videos.videoList)||void 0===S?void 0:S.vHLSV4:null===(P=d.videos)||void 0===P||null===(T=P.videoList)||void 0===T?void 0:T.v720P,ee=(0,C.HG)()&&d.videos?"video/m3u8":"video/mp4",te=(0,i.useCallback)((({event:e})=>{e.preventDefault(),e.stopPropagation(),z({pinId:X,isPromoted:Boolean(L),currentTime:0}),E(!1)}),[L,X,z]),ne=(0,i.useCallback)((()=>{L&&E(M),B({pinId:X,isPromoted:Boolean(L),currentTime:0})}),[M,L,X,B]);if(!d.videos||!Q)return null;const{height:ie,thumbnail:ae,width:oe,url:re}=Q||{},se=d.videos.id,le=[{type:ee,src:re}];let ce,de=(null!=oe?oe:1)/(null!=ie?ie:1);return e&&w&&(de=1,ce="transparent",y&&(de-=y-1)),A&&L?(0,x.jsx)(f.xu,{"data-test-id":"pin-video-mobile-end-card",ref:H,children:(0,x.jsx)(G.Z,{backgroundImage:null!=K?K:"",naturalHeight:null!=ie?ie:1,naturalWidth:null!=oe?oe:1,pinId:X,onRestartVideo:te})}):V?(0,x.jsxs)(f.xu,{"data-test-id":"pin-video-mobile-image",ref:H,children:[v&&(0,x.jsx)(Z.Z,{text:v}),(0,x.jsx)($,{imageHeight:null!==(ue=null==b?void 0:b.height)&&void 0!==ue?ue:1,imageWidth:null!==(pe=null==b?void 0:b.width)&&void 0!==pe?pe:1,onError:s,onLoad:r,imageUrl:null!==(he=null==b?void 0:b.url)&&void 0!==he?he:"",isSquarePin:w})]}):(0,x.jsx)(f.xu,{"data-test-id":"pin-video-mobile-video",ref:H,children:(0,x.jsx)(q.ZP,{isAutoPlay:!!n,cropHeight:a,rootMargin:p,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:m,component:0,objectId:X,video_id:null!=se?se:"",view:h},accessibilityMaximizeLabel:I._('Maximize', 'pinLayouts.PinVideo.accessibilityMaxVideoBtn', 'Maximize button on video'),accessibilityMinimizeLabel:I._('Minimize', 'pinLayouts.PinVideo.accessibilityMinVideoBtn', 'Minimize button on video'),accessibilityMuteLabel:I._('Mute', 'pinLayouts.PinVideo.accessibilityMuteVideoBtn', 'Mute button on video'),accessibilityPauseLabel:I._('Pause', 'pinLayouts.PinVideo.accessibilityPauseVideoBtn', 'Pause button on video'),accessibilityPlayLabel:I._('Play', 'pinLayouts.PinVideo.accessibilityPlayVideoBtn', 'Play button on video'),accessibilityProgressBarLabel:I._('Progress bar', 'pinLayouts.PinVideo.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:I._('Unmute', 'pinLayouts.PinVideo.accessibilityUnmuteVideoBtn', 'Unmute button on video'),aspectRatio:de,backgroundColor:ce,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:o||-1},loop:U,onTimeChange:l,playing:u,onPlay:()=>{},onPlayError:()=>{},poster:null!==(k=null!=K?K:ae)&&void 0!==k?k:"",src:null!=le?le:[],videoStartTime:o,volume:0,onEnded:ne})});var ue,pe,he}const ne=(0,U.Z)({useGraphQLAdapter:e=>{const t=(0,Q.useFragment)(ee,e),{entityId:n,isDownstreamPromotion:i,isEligibleForWebCloseup:a,imageSpec_236x:o,videos:r,promoter:s}=t;return{pinId:n,isDownstreamPromotion:i,isEligibleForWebCloseup:a,hasPromoter:!!s,image236xUrl:null==o?void 0:o.url,videos:r?{id:r.entityId,videoList:r.videoList}:null}},useLegacyAdapter:e=>{var t;const n=(0,X.S6)()(e);if(!n)return null;const{is_downstream_promotion:i,is_eligible_for_web_closeup:a,images:o,videos:r,promoter:s}=n,l=e=>{if(!e)return null;const{duration:t,...n}=e;return n};return{pinId:e,isDownstreamPromotion:i,isEligibleForWebCloseup:a,hasPromoter:!!s,image236xUrl:null==o||null===(t=o["236x"])||void 0===t?void 0:t.url,videos:r?{id:r.id,videoList:(c=r.video_list,c?{v720P:l(c.V_720P),vHLSV4:l(c.V_HLSV4)}:null)}:null};var c}});function ie({pinGraphqlRef:e,pinId:t,...n}){return(0,x.jsx)(ne,{input:e?{enabled:!0,data:e}:{enabled:!1,data:t},children:({data:e})=>e&&(0,x.jsx)(te,{...n,pinData:e})})}var ae;function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const re=void 0!==ae?ae:ae=n(524861);class se extends i.Component{constructor(...e){super(...e),oe(this,"calculateCurrentVideoTime",(()=>{const{currentTimeFromPinRep:e,pinData:t,videosAutoplaying:n}=this.props,{pinId:i}=t,a=(0,H.Z)(i,n);return this.currentVideoCurrentTime||a||e})),oe(this,"handleVisibilityChanged",(e=>{const{currentTimeFromPinRep:t,pinData:n,setCurrentVideo:i,pauseAutoplay:a,videosAutoplaying:o}=this.props,{pinId:r,isDownstreamPromotion:s,hasPromoter:l}=n,c=(0,Y.jL)(!!s,l),d=(0,V.Z)(r,o),u=(0,B.Z)(r,o);e?c?i({pinId:r,isPromoted:c,currentTime:this.calculateCurrentVideoTime()}):u&&i({pinId:r,isPromoted:Boolean(c),currentTime:this.calculateCurrentVideoTime()}):!e&&d&&a({pinId:r,isPromoted:Boolean(c),currentTime:t||this.currentVideoCurrentTime})})),oe(this,"handleVideoTimeChange",(e=>{const{pinData:t,onTimeChange:n,videosAutoplaying:i}=this.props,{pinId:a}=t;(0,V.Z)(a,i)&&(this.currentVideoCurrentTime=e.time),n&&n(e)}))}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,currentTimeFromPinRep:i,pauseAutoplay:a,pinData:o,setCurrentVideo:r,videosAutoplaying:s}=this.props,{pinId:l,isDownstreamPromotion:c,hasPromoter:d}=o,u=(0,Y.jL)(!!c,d),p=(0,V.Z)(l,s);n!==t&&!n&&p?(this.pausedDueToBrowserOutOfFocus=!0,a({pinId:l,isPromoted:Boolean(u),currentTime:i||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,r({pinId:l,isPromoted:Boolean(u),currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:t,pinData:n,videosAutoplaying:i}=this.props,{pinId:a,isDownstreamPromotion:o,hasPromoter:r}=n,s=(0,Y.jL)(!!o,r);(0,V.Z)(a,i)&&t({pinId:a,isPromoted:Boolean(s),currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:t,pinData:n,videosAutoplaying:i,videoDuration:a,viewParameter:o,viewType:r,onError:s,onLoad:l,inAdsVideoExperiment:c,unauthRelatedPinsAutoplayExpGroup:d,isSquarePin:u,rootMargin:p,imageHeightModifier:h,image:m,isHovering:_}=this.props,{pinId:g,pinGraphqlRef:v}=n,y=(0,H.Z)(g,i),f="enabled_hover"===d,b=(0,V.Z)(g,i),w=_&&f||b&&t;return(0,x.jsx)(ie,{cropHeight:e,rootMargin:p,currentTime:y,inAdsVideoExperiment:c,unauthRelatedPinsAutoplayExpGroup:d,isAutoplay:t,isSquarePin:u,image:m,viewParameter:o,viewType:r,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pinId:g,playing:w,trackFullVisible:!1,onError:s,onLoad:l,imageHeightModifier:h,videoDuration:a,pinGraphqlRef:v})}}const le=(0,U.Z)({useGraphQLAdapter:e=>{const t=(0,Q.useFragment)(re,e),{entityId:n,isDownstreamPromotion:i,promoter:a}=t;return{pinId:n,isDownstreamPromotion:i,hasPromoter:!!a,pinGraphqlRef:t}},useLegacyAdapter:e=>{const t=(0,X.S6)()(e);if(!t)return null;const{is_downstream_promotion:n,promoter:i}=t;return{pinId:e,isDownstreamPromotion:n,hasPromoter:!!i,pinGraphqlRef:null}}});function ce({pinGraphqlRef:e,pinId:t,...n}){const{appUI:{appInFocus:i,isAutoplay:a,videosAutoplaying:o},pauseAutoplay:r,setCurrentVideo:s}=(0,J.I)();return(0,x.jsx)(le,{input:e?{enabled:!0,data:e}:{enabled:!1,data:t},children:({data:e})=>e&&(0,x.jsx)(se,{...n,pinData:e,appInFocus:i,isAutoplay:a,pauseAutoplay:r,setCurrentVideo:s,videosAutoplaying:o})})}var de=n(690035),ue=n(310227),pe=n(773285),he=n(130460),me=n(780679),_e=n(627995);const ge=({domainLinkData:e})=>{const t=(0,c.ZP)(),n=(0,me.g)();return(0,x.jsxs)(f.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,x.jsx)(f.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,x.jsx)(f.X6,{size:"400",align:"center",color:"light",children:t._('Open', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.')})}),!!e&&(0,x.jsx)(f.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,x.jsx)(_e.Z,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==n?void 0:n.pinLinkClickHandler)||(()=>{})})})]})};var ve=n(53987);const ye=({width:e,height:t,minY:n,maxY:i})=>{const a=t=>e<=0||!t?"0%":Math.round(t/e*100)+"%";return{top:n<=0?"0%":a(-1*n*t),bottom:i>=1?"0%":a(-1*(1-i)*t)}},fe=({children:e,margin:t,disableRounding:n})=>(0,x.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:t?{marginTop:t.top,marginBottom:t.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,x.jsx)(f.zd,{wash:!0,rounding:n?0:ue.mv,children:e})}),be=({clientTrackingParams:e,color:t,description:n,domainLinkData:o,image:r,imageAltText:s,imageCrop:l,isPromoted:d,isOneTapExploreLocalTab:u,isSquarePin:p,lazyLoadImage:m,onError:_,oneTapSave:g,onLoad:v,pinId:y,priorityFetchImage:w,disableDefaultContextMenu:S,pinnedToBoardId:P,pinVideo:T,videoUrl:k,productPrice:I,disableRounding:j,storyDataExists:R,title:D,type:O,videoDuration:L,viewType:N,viewParameter:M,unauthRelatedPinsAutoplayExpGroup:B})=>{var U,H,V,$,K,G,W,q,J,Q;const ee=(0,c.ZP)(),te=(0,de.Z)(),{checkExperiment:ne}=(0,pe.F)(),[ie,ae]=(0,i.useState)(!1),{isAuthenticated:oe}=(0,E.B)(),re=(0,C.ZP)(),se=(0,X.S6)()(y),le=(0,he.gC)()(P||(se?String(null===(U=se.board)||void 0===U?void 0:U.id):"")),ue=P&&(null==se?void 0:se.savedThisSession),me=o&&o.link?"with-link":"without-link",_e=!oe&&"desktop"!==re,be=(0,i.useRef)(Date.now()),xe=(0,i.useRef)(null),we=ne("mweb_video_ads_autoplay").anyEnabled,Se="video"===O&&(B&&"enabled_hover"===B),Pe=(0,h.Z)();(0,i.useEffect)((()=>{Se||!ie||oe||Pe({action:"view",item:"unauth-video-autoplay-on-hover"})}),[Se,ie,Pe,oe]);const Te=(0,x.jsx)(f.Ee,{alt:s||D||n||"",color:t,naturalHeight:null!==(H=r.height)&&void 0!==H?H:1,naturalWidth:null!==(V=r.width)&&void 0!==V?V:1,onError:_,onLoad:v,src:null!==($=r.url)&&void 0!==$?$:"",fit:p?"cover":void 0,loading:m?"lazy":"auto",fetchPriority:w?"high":"auto"}),ke=p?(0,x.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,x.jsx)(f.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:Te})}):Te,Ie=(0,b.useLocation)(),Ae=()=>(0,ve.C$)(Ie)?"homefeed":(0,ve.L6)(Ie)?"related_pins":(0,ve.En)(Ie)?"search":"unknown";return(0,x.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,x.jsxs)(f.xu,{onContextMenu:e=>{if("desktop"!==re){const t=Ae();(0,A.My)((oe?"auth":"unauth")+".mweb_pin_feed.pin_image.long_press",{page:t}),"related_pins"!==t||oe||(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==re){const t=Ae();if((0,A.My)("unauth.mweb.related_pin.image.touch.start"),"related_pins"===t&&!oe&&(null==S||S(),be.current=Date.now(),e.changedTouches&&e.changedTouches.length>0)){const t=e.changedTouches.item(0);t&&(xe.current={x:t.pageX,y:t.pageY})}}},onTouchEnd:e=>{if("desktop"!==re){const t=Ae();if((0,A.My)("unauth.mweb.related_pin.image.touch.end"),Date.now()-be.current>500&&!oe&&"related_pins"===t){const t=xe.current;if(e.changedTouches&&e.changedTouches.length>0&&t){const n=e.changedTouches.item(0);if(n&&Math.pow(n.pageX-t.x,2)+Math.pow(n.pageY-t.y,2)>100)return;null==S||S(),te({pinId:y,location:"related-pins-long-press"}),e.stopPropagation()}}}},"data-test-id":`pincard-${O}-${me}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:_e?void 0:()=>ae(!0),onMouseLeave:_e?void 0:()=>ae(!1),position:"relative",rounding:j?0:4,children:[(0,x.jsxs)(F,{clientTrackingParams:e||"",oneTapSave:g,isOneTapExploreLocalTab:u,pinId:y,pinnedToBoardId:P,viewType:N,children:[(()=>{if("gif"===O&&!ue)return(0,x.jsx)(Z.Z,{text:ee._('GIF', 'pin.pinCard.gifIconIdentifier', 'pin type identifier for gifs')});if("video"===O&&L&&!ue)return(0,x.jsx)(Z.Z,{text:L});if("storyPin"===O&&R&&!ue){const{page_count:e=0,static_page_count:t=0,total_video_duration:n=0}=(null==se?void 0:se.story_pin_data)||{};if(n>0){const e=n+t*Y.oN;return(0,x.jsx)(Z.Z,{text:(0,a.Z)(e)})}if("number"==typeof e&&e>0)return(0,x.jsx)(Z.Z,{icon:"idea-pin",text:e.toString()})}return"product"===O&&I?(0,x.jsx)(Z.Z,{text:I}):null})(),(0,x.jsx)(fe,{disableRounding:j,margin:l?ye({width:null!==(K=r.width)&&void 0!==K?K:1,height:null!==(G=r.height)&&void 0!==G?G:1,minY:l.minY,maxY:l.maxY}):void 0,children:T&&d&&we&&se||null!=B&&B.startsWith("enabled")&&k&&se?(0,x.jsx)(ce,{image:r,inAdsVideoExperiment:we,unauthRelatedPinsAutoplayExpGroup:B,isHovering:ie,isSquarePin:p,onError:_,onLoad:v,pinId:se.id,videoDuration:L,viewParameter:M,viewType:N,pinGraphqlRef:null}):ke})]}),!Se&&ie&&!oe&&(0,x.jsx)(ge,{domainLinkData:o}),oe&&ue&&(0,x.jsx)(z,{boardName:null!==(W=null==le?void 0:le.name)&&void 0!==W?W:"",boardUrl:null!==(q=null==le?void 0:le.url)&&void 0!==q?q:"",sectionName:null==g||null===(J=g.section)||void 0===J?void 0:J.title,sectionSlug:null==g||null===(Q=g.section)||void 0===Q?void 0:Q.slug,isQuicksave:"quick_saves"===(null==le?void 0:le.layout)})]})})}},904779:(e,t,n)=>{n.d(t,{K:()=>r,T:()=>s});var i=n(667294),a=n(785893);const o=(0,i.createContext)({getPinFeedbackStatus:()=>{},setPinFeedbackStatus:()=>{}}),r=()=>(0,i.useContext)(o);function s({children:e}){const[t,n]=(0,i.useState)(Object.freeze({})),r=(0,i.useMemo)((()=>({getPinFeedbackStatus:({pinId:e})=>t[e],setPinFeedbackStatus:({pinId:e,pinFeedbackStatus:i})=>n({...t,[e]:i})})),[t]);return(0,a.jsx)(o.Provider,{value:r,children:e})}},720946:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ke,pinRepPaddingInBoint:()=>Le});var i=n(667294),a=n(702664),o=n(934494),r=n(319915),s=n(886076),l=n(248975),c=n(830157),d=n(958007),u=n(926275),p=n(81226),h=n(116303),m=n(63552),_=n(561195),g=n(883119),v=n(785893);function y({maxRating:e,rating:t,text:n}){return(0,v.jsxs)(g.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,v.jsx)(_.Z,{max_rating:e||"",rating:t||"",width:10}),n&&(0,v.jsx)(i.Fragment,{children:(0,v.jsx)(g.xu,{marginStart:1,overflow:"hidden",children:(0,v.jsx)(g.xv,{size:"100",lineClamp:1,children:n})})})]})}var f,b=n(898781),x=n(62409),w=n(643010),S=n(350118),P=n(167912);const T=void 0!==f?f:f=n(860389),k=({data:{pinProduct:{maxPrice:e,minPrice:t,inStock:n,standardPrice:a,price:o},domain:r}})=>{const s=(0,b.ZP)(),{textColor:l,inStockColor:c}=(({isDarkMode:e,inStock:t})=>e?{textColor:"light",inStockColor:"light"}:{textColor:"dark",inStockColor:t?"dark":"subtle"})({isDarkMode:(0,w.Yc)(),inStock:n||!1});return(0,v.jsxs)(i.Fragment,{children:[r&&(0,v.jsx)(g.xv,{color:l,size:"100",children:r}),(0,v.jsxs)(g.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[t&&e?(0,v.jsxs)(g.xv,{size:"100",color:c,weight:"bold",children:[t," - ",e]}):(0,v.jsx)(g.xv,{size:"100",color:c,weight:"bold",children:a||o}),!n&&(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(g.xu,{paddingX:1,children:(0,v.jsx)(g.xv,{size:"100",color:c,weight:"bold",children:""})}),(0,v.jsx)(g.xv,{size:"100",color:c,weight:"bold",children:s._('Out of stock', 'pinCard.priceLego.outOfStock', 'display if a product is out of stock')})]})]})]})},I=(0,o.Z)({useGraphQLAdapter:e=>{var t,n;const i=(0,P.useFragment)(T,e),{linkDomain:a,richMetadata:o,richSummary:r}=i,s=(0,x.kb)({hasLinkDomain:!!a,richMetadata:o&&{recipe:o.recipe&&{fromAggregatedData:o.recipe.fromAggregatedData},products:(null!==(t=o.products)&&void 0!==t?t:[]).map((e=>({name:e.name,offerSummary:e.offerSummary})))},richSummary:r&&{products:(null!==(n=r.products)&&void 0!==n?n:[]).map((e=>({name:e.name,offerSummary:e.offerSummary})))}});return s&&s.price?{pinProduct:s,domain:null==r?void 0:r.siteName}:null},useLegacyAdapter:e=>{var t,n,i;const a=(0,S.S6)()(e);if(!a)return null;const{link_domain:o,rich_metadata:r,rich_summary:s}=a,l=(0,x.kb)({hasLinkDomain:!!o,richMetadata:r&&{recipe:r.recipe&&{fromAggregatedData:r.recipe.from_aggregated_data},products:(null!==(t=r.products)&&void 0!==t?t:[]).map((e=>({name:e.name,offerSummary:e.offer_summary&&{inStock:e.offer_summary.in_stock,maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})))},richSummary:s&&{products:(null!==(n=s.products)&&void 0!==n?n:[]).map((e=>({name:e.name,offerSummary:e.offer_summary&&{inStock:e.offer_summary.in_stock,maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})))}});return l&&l.price?{pinProduct:l,domain:null===(i=a.rich_summary)||void 0===i?void 0:i.site_name}:null}});function A(e){return(0,v.jsx)(I,{input:e.pinGraphqlRef?{enabled:!0,data:e.pinGraphqlRef}:{enabled:!1,data:e.pinId},children:({data:e})=>e&&(0,v.jsx)(k,{data:e})})}var C=n(947599),E=n(914142),j=n(941646),R=n(50286),D=n(865673),O=n(52022),L=n(350948),F=n(923297),N=n(867820),M=n(773285),z=n(130460),Z=n(276775),B=n(780280),U=n(53987);const H=(0,i.lazy)((()=>n.e(94950).then(n.bind(n,494950)))),V=({title:e})=>{const t=(0,R.ZP)(),n=(0,O.Z)();return(0,v.jsx)(j.Z,{id:"related-pins-title",children:(0,v.jsx)(g.iP,{onTap:()=>{n({action:"click",item:"related-pins-title"})},children:(0,v.jsx)(g.xv,{size:"desktop"===t?"300":"100",weight:"bold",lineClamp:2,children:e})})})},$=({allowPriceIndicator:e,contextMenu:t,credits:n,hidePinMetadata:a,hasAffiliatedProducts:o,isPromotedPin:s,isSponsoredPin:l,isSquarePin:c,marginTop:d,marginStart:u,marginEnd:p,onCreditsClick:_,pinDescription:f,pinId:x,pinnedToBoardId:w,pinReactionCounts:P,recipeCookTime:T,recipeMaxRating:k,recipeRating:I,recipeReviewCount:$,shouldShowReactions:K,style:G="default",title:W,type:q,duploConversationPin:Y})=>{var J,X,Q,ee,te,ne,ie,ae,oe;const re=(0,b.ZP)(),{checkExperiment:se}=(0,M.F)(),le=(0,Z.useLocation)(),ce=(0,O.Z)(),{isAuthenticated:de}=(0,B.B)(),ue=(0,R.ZP)(),pe=W||f||"oneTap"===q,he=(0,S.S6)()(x),me=(0,z.gC)()(w||(he?String(null===(J=he.board)||void 0===J?void 0:J.id):"")),_e=null==he?void 0:he.pinner,ge=s&&(null==he||null===(X=he.promoter)||void 0===X?void 0:X.id)===(null==he||null===(Q=he.native_creator)||void 0===Q?void 0:Q.id),ve=null!=he&&he.sponsorship?(0,v.jsx)(g.xv,{inline:!0,size:"100",weight:"bold",children:null==n?void 0:n.subtitle}):void 0,ye="overlay"===G,fe=K&&P&&Object.keys(P).length>0&&(0,v.jsx)(g.xu,{height:18,display:ye?"flex":void 0,justifyContent:"center",children:(0,v.jsx)(r.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,v.jsx)(C.Z,{children:(0,v.jsx)(H,{pinReactionCounts:P})})})}),be=a?0:d||1,xe=(0,v.jsx)(h.Z,{accessibilityLabel:(null==n?void 0:n.title)||"string"==typeof(null==n?void 0:n.subtitle)&&n.subtitle||re._('Creator\'s avatar', 'pinCardDetails.tapArea.avatar', 'The avatar of the creator of this pin.'),name:(null==n?void 0:n.title)||"",outline:ye,size:ye?"lg":"sm",src:ye&&(null==n?void 0:n.largeAvatar)||(null==n?void 0:n.mediumAvatar)||(null==n?void 0:n.avatar)||void 0}),we=(0,v.jsxs)(i.Fragment,{children:[(null==n?void 0:n.title)&&(0,v.jsx)(g.xv,{lineClamp:1,size:"100",weight:l&&!ge||o?"normal":"bold",children:n.title===(null==_e?void 0:_e.full_name)&&(null!=_e&&_e.is_verified_merchant||null!=_e&&null!==(ee=_e.verified_identity)&&void 0!==ee&&ee.verified)?(0,v.jsx)(D.Z,{badgeSize:"sm",badgeSpacing:2,fullName:n.title,verifiedType:_e.is_verified_merchant?"verifiedMerchant":"verifiedIdentity"}):n.title}),null!=n&&n.subtitle?(!l&&!a||ge)&&(0,v.jsx)(g.xv,{lineClamp:l||o?void 0:1,size:"desktop"===ue?"200":"100",weight:"desktop"===ue?"bold":"normal",children:n.subtitle}):!de&&me&&"protected"!==me.privacy?(0,v.jsx)(j.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(g.rU,{underline:"hover",href:null!==(te=me.url)&&void 0!==te?te:"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,N.NC)("click_board_pin_attribution_profile"),ce({action:"click",item:"related-pin-text-below-name"})},children:(0,v.jsx)(g.xv,{size:"200",children:me.name})})}):null]});return(0,v.jsx)(i.Fragment,{children:(0,v.jsxs)(g.xu,{display:"flex",height:c?e?104:72:void 0,marginEnd:p||1,marginStart:u||1,position:"relative",children:[(0,v.jsxs)(g.xu,{flex:"grow",children:[(0,v.jsx)(g.xu,{display:"flex",marginTop:be,children:(0,v.jsx)(g.xu,{flex:"grow",children:(0,v.jsxs)(i.Fragment,{children:[(0,v.jsxs)(i.Fragment,{children:[(l||o)&&!ge&&(0,v.jsx)(g.xu,{marginBottom:1,children:(0,v.jsx)(g.xu,{flex:"grow",overflow:"hidden",children:(0,v.jsx)(E.Z,{hasAffiliatedProducts:o,isPromoted:s,sponsorName:ve,sponsorshipStatus:null==he||null===(ne=he.sponsorship)||void 0===ne?void 0:ne.status})})}),W&&(0,v.jsx)(g.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:de&&!a&&(0,v.jsx)(V,{title:W})}),"desktop"===ue&&!de&&f&&!(0,U.$Y)(le)&&!(0,U.E0)(le)&&(0,v.jsx)(g.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,v.jsx)(g.iP,{onTap:()=>{ce({action:"click",item:"related-pins-description"})},children:(0,v.jsx)(g.xv,{size:"100",inline:!0,children:f})})})]}),e&&(0,v.jsx)(A,{pinId:x,pinGraphqlRef:null}),"recipe"===q&&!!$&&(0,v.jsx)(i.Fragment,{children:(0,v.jsxs)(g.xu,{alignItems:"center",display:"flex",marginTop:1,children:[!!$&&(0,v.jsx)(y,{maxRating:k||"",rating:I||"",text:""}),!!T&&(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(g.xu,{paddingX:1,children:(0,v.jsx)(g.xv,{size:"100",children:""})}),(0,v.jsx)(g.xv,{size:"100",children:(0,L.IS)({...(0,F.u)(T),i18n:re})})]})]})})]})})}),!ye&&fe,n&&(0,v.jsx)(m.Z,{onTouch:e=>_&&_(e),pressState:"none",children:(0,v.jsx)(g.xu,{children:(!a||l||ge)&&(0,v.jsxs)(g.xu,{display:"flex",marginTop:ye?-9:d||(pe&&!a?1:0),marginBottom:a?2:0,position:"relative",direction:ye?"column":"row",children:[(0,v.jsx)(g.xu,{flex:"none",display:ye?"flex":void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:se(de?"mweb_auth_feed_a11y_fix":"mweb_unauth_feed_a11y_fix").anyEnabled?xe:(0,v.jsx)(g.iP,{onTap:()=>{ce({action:"click",item:"related-pins-avatar-image"})},children:xe})}),(0,v.jsx)(g.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",alignItems:ye?"center":void 0,marginStart:1,"data-test-id":"related-pins-name",children:se(de?"mweb_auth_feed_a11y_fix":"mweb_unauth_feed_a11y_fix").anyEnabled?we:(0,v.jsx)(g.iP,{onTap:()=>{ce({action:"click",item:"related-pins-name"})},children:we})})]})})}),!n&&"desktop"===ue&&!!_e&&((0,U.L6)(le)||(0,U.cD)(le)||(0,U.$Y)(le))&&(0,v.jsxs)(g.xu,{display:"flex",marginTop:pe?2:0,children:[(0,v.jsx)(g.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,v.jsx)(g.iP,{onTap:()=>{ce({action:"click",item:"related-pins-avatar-image"})},children:(0,v.jsx)(h.Z,{name:_e.username||"",size:"sm",src:null!==(ie=_e.image_small_url)&&void 0!==ie?ie:void 0})})}),(0,v.jsxs)(g.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,v.jsx)(g.rU,{underline:"hover",href:`/${_e.username}/`,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,N.NC)("click_board_pin_attribution_board"),ce({action:"click",item:"related-pins-name"})},children:(0,v.jsx)(g.xv,{size:"200",weight:"bold",children:_e.full_name||_e.username})}),me&&"protected"!==me.privacy?(0,v.jsx)(j.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(g.rU,{underline:"hover",href:null!==(ae=me.url)&&void 0!==ae?ae:"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,N.NC)("click_board_pin_attribution_profile"),ce({action:"click",item:"related-pin-text-below-name"})},children:(0,v.jsx)(g.xv,{size:"200",children:null!==(oe=me.name)&&void 0!==oe?oe:""})})}):null]})]}),ye&&fe]}),(0,v.jsx)(g.xu,{position:ye?"absolute":void 0,right:!0,children:!Y&&t})]})})};var K,G=n(857079),W=n(349700),q=n(296011);const Y=void 0!==K?K:K=n(7745),J=(e,t)=>{const n=(0,P.useRelayEnvironment)();return(0,v.jsx)(q.t,{invite_code:e,relayEnvironment:n,inviteQuery:Y,children:e=>{const n=null!=e&&e.data?e.data.sender:null,i=n&&n.first_name?n.first_name.substring(0,30):"";if(!i)return null;const a=n&&!n.is_default_image?n.image_medium_url:"",o=(0,W.nk)(t._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:i});return(0,v.jsxs)(g.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,v.jsx)(g.zd,{height:32,width:32,children:(0,v.jsx)(h.Z,{name:i,src:a})}),(0,v.jsx)(g.xu,{width:"80%",paddingY:2,children:(0,v.jsx)(g.xv,{align:"center",size:"200",weight:"bold",children:o})})]})}})},X=({inviteCode:e})=>{const t=(0,b.ZP)();return(0,v.jsx)(g.xu,{minHeight:82,children:(0,v.jsx)(r.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,v.jsx)(C.Z,{fallback:(0,v.jsx)(G.Z,{accessibilityLabel:t._('Loading Invitation component', 'Loading InviteFetch component', 'loading InviteFetch component')}),children:J(e,t)})})})};var Q=n(948945),ee=n(55275);const te={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},ne=(e,t,n)=>(0,v.jsx)(g.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(g.rU,{display:"inlineBlock",href:t,tapStyle:"none",underline:"hover",children:n})},e);function ie({color:e,getFeedbackText:t,onUnfollow:n,showing:a,unfollowed:o}){const r=(0,b.ZP)(),[s,l]=(0,i.useState)(a?"fadeIn":"initial"),c=(0,i.useRef)(null);(0,i.useEffect)((()=>("initial"===s&&a&&(c.current=window.requestAnimationFrame((()=>l("fadeIn")))),()=>{c.current&&window.cancelAnimationFrame(c.current)})),[s,l,a]);const{subTitle:d,title:u,unfollow:p}=t(ne);let h=u,m=d;p&&o&&(h=p.title,m=p.subTitle);const _=()=>p?(0,ee.t)(p.action,p.actionOptions,n):void 0;return a&&(0,v.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...te[s]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,v.jsxs)(g.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,v.jsxs)(g.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,v.jsxs)(g.xu,{children:[(0,v.jsx)(g.X6,{size:"400",color:"light",children:h}),!!m&&(0,v.jsxs)(g.xu,{marginTop:1,children:[(0,v.jsx)(g.xv,{color:"light",size:"200",inline:!0,children:m}),(0,v.jsx)(g.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(g.rU,{href:"/edit",display:"inlineBlock",rounding:2,tapStyle:"none",underline:"hover",children:r._('Tune your home feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})})]})]}),!o&&p&&(0,v.jsx)(g.xu,{paddingY:1,children:(0,v.jsx)(g.zx,{fullWidth:!0,color:"white",text:r._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:_})})]}),!o&&p&&(0,v.jsx)(g.xu,{paddingY:1,children:(0,v.jsx)(g.zx,{fullWidth:!0,color:"white",text:r._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:_})})]})})}var ae=n(21384),oe=n(992750);function re({description:e,gridTitle:t,pinId:n,richMetadataTitle:i,richSummaryDisplayName:a,storyPinDataId:o,storyPinDataMetadataPinTitle:r,title:s}){return(0,v.jsxs)(g.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,v.jsx)(g.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,v.jsx)(g.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,oe.fs)({pinTitle:s,gridTitle:t,richSummaryDisplayName:a,richMetadataTitle:i,storyPinDataId:o,storyPinDataMetadataPinTitle:r})||e})}),(0,v.jsx)(g.xu,{children:(0,v.jsx)(ae.Z,{pinId:n,size:"sm",graphqlRef:null})})]})}var se,le=n(248299),ce=n(327476),de=n(829407),ue=n(394332),pe=n(529195),he=n(57791),me=n(477802),_e=n(255607),ge=n(874317),ve=n(861411),ye=n(772486),fe=n(763839),be=n(378518),xe=n(813401);const we=void 0!==se?se:se=n(975261),Se=({attribute:e,deviceType:t,location:n})=>{const i=(0,O.S)(n);(0,N.My)("unuath.product_attribution.click",{item:e,page:i,device:t})};function Pe({description:e,displayMerchant:t,domain:n,graphqlRef:a,gridTitle:o,isSquarePin:r,pinId:s,priceSummary:l,richMetadataTitle:c,richSummaryDisplayName:d,storyPinDataId:u,storyPinDataMetadataPinTitle:p,title:m,unauthMerchantAttribution:_,isUnauthRelatedProductsExp1LineGroup:y}){const f=(0,R.ZP)(),x=(0,Z.useLocation)(),w=(0,b.ZP)(),S=l&&(l.price||l.standardPrice||(({maxPrice:e,minPrice:t,price:n})=>e&&t?`${t}-${e}`:n)(l)),P=(0,i.useMemo)((()=>y?1:r?2:S?3:2),[r,y,S]);if(!s)return null;const T=(0,oe.fs)({pinTitle:m,gridTitle:o,richSummaryDisplayName:d,richMetadataTitle:c,storyPinDataId:u,storyPinDataMetadataPinTitle:p})||e,k=`/pin/${s}/`;return(0,v.jsx)(g.xu,{paddingX:2,marginBottom:r?4:-1,marginTop:2,display:"flex",direction:"column",height:r?87:"start",children:(0,v.jsxs)(g.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,v.jsx)(g.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,v.jsxs)(he.MZ,{to:k,accessibilityLabel:T,deeplinkUri:k,children:[S&&(0,v.jsx)(g.iP,{onTap:()=>Se({deviceType:f,attribute:"price",location:x}),children:(0,v.jsx)(g.xv,{size:"100",weight:"bold",children:S})}),(0,v.jsx)(g.xu,{marginTop:1,children:(0,v.jsx)(g.iP,{onTap:()=>Se({deviceType:f,attribute:"title",location:x}),children:(0,v.jsx)(g.xv,{size:"100",weight:"bold",lineClamp:P,children:T})})}),t&&null!=_&&_.username?(0,v.jsx)(g.rU,{href:`/${_.username}/`,children:(0,v.jsxs)(g.xu,{display:"flex",marginTop:2,children:[(0,v.jsx)(g.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,v.jsx)(h.Z,{name:_.fullname||"",size:"sm",src:_.imageSmallUrl})}),(0,v.jsx)(g.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:(0,v.jsxs)(g.rU,{underline:"hover",href:`/${_.username}/`,children:[(0,v.jsx)(g.xv,{size:"200",weight:"bold",children:w._('See on', 'PinInFeed.ProductAttribution.Merchant.NavigateToProfileText', 'Text that invites user to view the product pin and other pins on the merchant\'s profile')}),(0,v.jsx)(g.xv,{size:"200",lineClamp:1,children:_.fullname})]})})]})}):n&&S&&(0,v.jsx)(g.xu,{marginTop:1,children:(0,v.jsx)(g.iP,{onTap:()=>Se({deviceType:f,attribute:"merchant",location:x}),children:(0,v.jsx)(g.xv,{size:"100",lineClamp:1,children:n})})})]})}),"desktop"!==f&&(0,v.jsx)(g.xu,{children:(0,v.jsx)(ae.Z,{pinId:s,size:"sm",graphqlRef:a})})]})})}const Te=(0,o.Z)({useGraphQLAdapter:({queryRef:e})=>(0,P.useFragment)(we,e),useLegacyAdapter:()=>{}});function ke({queryRef:e,...t}){return(0,v.jsx)(Te,{input:e?{enabled:!0,data:{queryRef:e}}:{enabled:!1,data:{pinId:t.pinId}},children:({data:e})=>(0,v.jsx)(Pe,{...t,graphqlRef:e})})}var Ie,Ae=n(112690),Ce=n(680046),Ee=n(305324),je=n(904779),Re=n(780679);function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Oe=void 0!==Ie?Ie:Ie=n(741316),Le=({isDesktop:e})=>e?0:1,Fe=e=>Boolean(e.isEligibleForWebCloseup),Ne=e=>Boolean(e.promoter&&!e.isDownstreamPromotion),Me={width:1,height:1,url:""},ze=e=>{const{attribution:t,embed:n,isEligibleForWebCloseup:i,richSummary:a,videos:o,storyPinDataId:r}=e,s=n||t&&t.embed;return i?"oneTap":o||s&&"video"===s.type?"video":s&&"gif"===s.type?"gif":a&&"product"===a.typeName?"product":a&&"recipe"===a.typeName?"recipe":r?"storyPin":"image"},Ze=e=>{if(("video"===ze(e)||Ne)&&e.videos&&e.videos.videoList){const{duration:t}=e.videos.videoList[Object.keys(e.videos.videoList)[0]]||{};return(0,p.Z)(null!=t?t:0)}return""},Be=e=>{var t;if("product"!==ze(e))return null;const[n]=(null===(t=e.richSummary)||void 0===t?void 0:t.products)||[];if(!n)return null;const i=n.offerSummary;return i&&(i.price||i.maxPrice)},Ue=(0,i.lazy)((()=>n.e(26332).then(n.bind(n,926332))));class He extends i.Component{constructor(...e){super(...e),De(this,"state",{startImpressionTimer:!1,isShowingCustomContextMenu:!1}),De(this,"getPinImage",(()=>{const{pin:{imageSpec_136x136:e,imageSpec_170x:t,imageSpec_236x:n,imageSpec_474x:i,imageSpec_736x:a,imageSpec_orig:o},duploIsSquarePin:r}=this.props;return r?{height:136,url:null==n?void 0:n.url,width:136}:[n,t,e,a,i,o].find((e=>e&&e.url))||Me})),De(this,"getImpressionData",(()=>{var e,t,n;const{pin:i}=this.props,a=null===(e=i.videos)||void 0===e||null===(t=e.videoList)||void 0===t?void 0:t.v720P,o=a?{isNativeVideoAndWatchable:!!(a&&a.url&&a.height&&a.width)||void 0,videoIdStr:a&&(null===(n=i.videos)||void 0===n?void 0:n.entityId)||void 0}:{},r=this.getPinImage();return{richTypes:i.shoppingFlags||[],imageURL:r.url||"",...o,...this.props.impressionData}})),De(this,"getAuxCommerceData",(()=>{var e;const{pin:t}=this.props;return(0,s.Z)({isEligibleForPdp:t.isEligibleForPdp,isOosProduct:t.isOosProduct,isStaleProduct:t.isStaleProduct,pinShoppingFlags:null!==(e=t.shoppingFlags)&&void 0!==e?e:void 0})})),De(this,"getAuxData",(()=>{const{auxData:e={},pwaType:t}=this.props;return{commerce_data:this.getAuxCommerceData(),pwa_type:t,...e}})),De(this,"getFeedbackType",(()=>{var e,t,n;const{feedback:i,viewParameter:a,pin:o}=this.props;return(0,Ce.hP)({boardFollowedByMe:!(null===(e=o.board)||void 0===e||!e.followedByMe),feedbackType:null==i?void 0:i.type,viewParameter:a,promotion:o&&o.promoter&&{isDownstreamPromotion:!!o.isDownstreamPromotion},pinnerFollowedByMe:!(null===(t=o.pinner)||void 0===t||!t.explicitlyFollowedByMe),recommendationReason:o.recommendationReason&&{hasBoard:!!o.recommendationReason.board,reason:null!==(n=o.recommendationReason.reason)&&void 0!==n?n:void 0}})})),De(this,"getRecommendationDescription",(e=>{var t,n,i;const{pin:a,i18n:o}=this.props,r={i18n:o,makeNavigateLink:e};switch(this.getFeedbackType()){case"pfy":return(0,Ce.Ud)({...r,feedback:{type:"pfy"}});case"pfyBoard":return(0,Ce.Ud)({...r,feedback:{type:"pfyBoard",recommendationReasonBoard:(null===(t=a.recommendationReason)||void 0===t?void 0:t.board)&&{name:null!==(n=a.recommendationReason.board.name)&&void 0!==n?n:"",url:null!==(i=a.recommendationReason.board.url)&&void 0!==i?i:""}}});case"topic":return(0,Ce.Ud)({...r,feedback:{type:"topic",sourceInterest:a.sourceInterest&&a.sourceInterest.name&&a.sourceInterest.urlName?{name:a.sourceInterest.name,url_name:a.sourceInterest.urlName}:null}});case"followed":return(0,Ce.Ud)({...r,feedback:{type:"followed",followed:a.pinner&&a.pinner.explicitlyFollowedByMe?{type:"pinner",pinner:a.pinner.fullName&&a.pinner.username?{full_name:a.pinner.fullName,username:a.pinner.username}:null}:{type:"board",board:a.board&&a.board.name&&a.board.url?{name:a.board.name,url:a.board.url}:null}}});case"promoted":return(0,Ce.Ud)({...r,feedback:{type:"promoted",promoter:!a.adMatchReason&&a.promoter&&a.promoter.fullName?{full_name:a.promoter.fullName,username:a.promoter.username}:null}});default:return null}})),De(this,"getPinHiddenFeedbackText",(e=>{const{pin:t,i18n:n}=this.props,i=t.promoter;if(Ne(t)&&null!=i&&i.fullName)return{title:"",subTitle:(0,W.nk)(this.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'pinRep.promotedPinfeedbackText.subtitle', 'message displayed after hiding a promoted pin'),{promoter:i.fullName})};let a;switch(this.getFeedbackType()){case"followed":const{board:i,pinner:o}=t;i&&o&&(a=(0,Ce.oK)({boardId:i.entityId,i18n:n,makeNavigateLink:e,display:o.explicitlyFollowedByMe?{type:"board",data:{name:i.name,url:i.url}}:{type:"pinner",data:{full_name:o.fullName,username:o.username}}}));break;case"topic":const{sourceInterest:r}=t;r&&(a=(0,Ce.Iv)({i18n:n,makeNavigateLink:e,sourceInterest:{id:r.entityId,name:r.name,url_name:r.urlName}}))}return a?{title:n._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:this.getRecommendationDescription(e),unfollow:a}:{title:n._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:n._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}})),De(this,"logOneTap",(()=>{const{logContextEvent:e,trackingParams:t,viewType:n,viewParameter:i,auxData:a,pin:o}=this.props,{entityId:r}=o,s=(0,c.Z)(t,o.trackingParams),l={view_type:this.props.viewType,view_parameter:this.props.viewParameter,element:o.storyPinDataId?12372:35,component:this.props.componentType,object_id_str:r,aux_data:{commerce_data:this.getAuxCommerceData(),grid_index:this.props.slotIndex,image_signature:o.imageSignature,...this.props.auxData},clientTrackingParams:s};e({event_type:8948,view_type:n,view_parameter:i,object_id_str:r,clientTrackingParams:s,aux_data:{image_signature:o.imageSignature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...a}}),(0,ye.jC)(l),e({component:this.props.componentType,event_type:13,view_type:3,clientTrackingParams:s,aux_data:{closeup_navigation_type:"web_closeup",image_signature:o.imageSignature},object_id_str:r})})),De(this,"handleLoad",(()=>{this.setState({startImpressionTimer:!0})})),De(this,"handleError",(()=>{this.setState({startImpressionTimer:!1})})),De(this,"handleClick",(e=>{const{auxData:t,componentType:n,deviceType:i,logContextEvent:a,pin:o,slotIndex:r,trackingParams:s,viewParameter:l,viewType:d,duploFeedItemProps:u,isAuth:p,trackInteraction:h,unauthDesktopSignupModalPageContext:m}=this.props,{onPinClick:_}=null!=u?u:{},{entityId:g}=o,v=e=>(0,N.My)(`unauth_pin_rep.${e}.${String(l)}`);if(v("click"),a({view_type:d,view_parameter:l,element:o.storyPinDataId?12372:35,event_type:101,component:n,object_id_str:g,clientTrackingParams:(0,c.Z)(s,o.trackingParams),aux_data:{commerce_data:this.getAuxCommerceData(),grid_index:r,image_signature:o.imageSignature,...t}}),Fe(o)||a({event_type:8948,view_type:d,view_parameter:l,object_id_str:g,clientTrackingParams:(0,c.Z)(s,o.trackingParams),aux_data:{image_signature:o.imageSignature,commerce_data:this.getAuxCommerceData(),closeup_navigation_type:"click",grid_index:r,cosmic_ray_count:"3",...t}}),!p)switch(h({action:"click",item:"pin"}),d){case 3:(0,N.NC)("click_pin_related_image");break;case 5:(0,N.NC)("click_board_pin_image");break;case 210:(0,N.NC)("click_topic_pin_image")}if(Fe(o)&&this.logOneTap(),_&&_(),"desktop"===i){if(e.metaKey){v("click.cmd_button_pressed"),e.preventDefault();window.open(`/pin/${g}/`,"_blank").focus()}else if(!p&&m){const{pinImageClickHandler:t}=m;t({event:e,pinId:g,linkTarget:"duploClientNav",seoUrl:o.seoUrl})}}})),De(this,"handleCreditsClick",(e=>{var t;const{history:n,logContextEvent:i,pin:a}=this.props,{entityId:o,sponsorship:r,storyPinDataId:s}=a,{creator:l,sponsor:c}=r||{},{entityId:d}=l||{},{entityId:u}=c||{},p=!!s;e.stopPropagation(),e.preventDefault();const h=null===(t=this.getCredits())||void 0===t?void 0:t.link;h&&n.push(h),i({view_type:3,element:27,event_type:102,object_id_str:o,component:p?230:void 0,aux_data:{pin_id:o,...d&&u?{creator_id:d,sponsor_id:u}:{}}})})),De(this,"handleUnfollowPin",(()=>this.props.markPinUnfollowed())),De(this,"isOverrideImageOnly",(()=>{const{pin:{richSummary:e},viewerIsNewUser:t,viewParameter:n}=this.props;return e&&43===n&&!t||3375===n}))}componentDidMount(){const{isAuth:e,slotIndex:t,viewParameter:n,location:i,pin:a}=this.props;if(!e&&0===t&&3070===n){var o,r,s;const e=i.pathname,{imageSignature:t,entityId:n,imageSpec_236x:l,description:c}=a;(0,pe.H$)(e,t,n,l&&{dominant_color:null!==(o=l.dominantColor)&&void 0!==o?o:void 0,height:null!==(r=l.height)&&void 0!==r?r:void 0,url:l.url,width:null!==(s=l.width)&&void 0!==s?s:void 0},c)}}getIsClaimedContent(){var e,t;const{viewParameter:n,pin:i}=this.props;return 3375===n&&!(null===(e=i.linkDomain)||void 0===e||null===(t=e.officialUser)||void 0===t||!t.isPrimaryWebsiteVerified)}getCredits(){var e,t,n,i;const{adBlockTextTransform:a,viewParameter:o,pin:r}=this.props,{entityId:s}=r,l=r.storyPinData,c=r.pinner,d=r.promoter,u=null==l?void 0:l.hasProductPins,p=0===o,h=3173===o,m=3375===o,_=this.getIsClaimedContent(),g=r.nativeCreator,v=!!r.nativeCreator,y=Ne(r),{sponsorship:f}=r,{creator:b,sponsor:x}=f||{},w=y&&!!f&&(null==d?void 0:d.entityId)!==(null==g?void 0:g.entityId),S=!!f&&b;if(!(y||S||p||h||v||_))return;switch(w?"PROMOTED_SPONSORED":y?"PROMOTED":S?"SPONSORED":v?"AFFILIATED_PRODUCTS":u?"NATIVE_CONTENT":_?"CLAIMED_CONTENT":r.board&&"protected"===r.board.privacy?"SAVED_BY":"DEFAULT"){case"PROMOTED_SPONSORED":return{title:null==g?void 0:g.fullName,subtitle:null==d?void 0:d.fullName,avatar:this.getPinnerImage(null==g?void 0:g.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==g?void 0:g.imageMediumUrl),largeAvatar:this.getPinnerImage(null==g?void 0:g.imageLargeUrl),link:null!=g&&g.username?`/${g.username}/`:""};case"PROMOTED":return{title:a(this.props.i18n._('Promoted by', 'Grid pin annotation', 'Grid pin annotation')),subtitle:null==d?void 0:d.fullName,avatar:this.getPinnerImage(null==d?void 0:d.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==d?void 0:d.imageMediumUrl),largeAvatar:this.getPinnerImage(null==d?void 0:d.imageLargeUrl),link:null!=d&&d.username?`/${d.username}/`:""};case"SPONSORED":if(!f)throw new Error("sponsorship doesn't exist when expected");return{title:null==g?void 0:g.fullName,subtitle:null==x?void 0:x.fullName,avatar:this.getPinnerImage(null==g?void 0:g.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==g?void 0:g.imageMediumUrl),largeAvatar:this.getPinnerImage(null==g?void 0:g.imageLargeUrl),link:null!=g&&g.username?`/${g.username}/`:""};case"AFFILIATED_PRODUCTS":return{title:null==g?void 0:g.fullName,subtitle:"",avatar:this.getPinnerImage(null==g?void 0:g.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==g?void 0:g.imageMediumUrl),largeAvatar:this.getPinnerImage(null==g?void 0:g.imageLargeUrl),link:null!=g&&g.username?`/${g.username}/`:""};case"NATIVE_CONTENT":let o=(null===(e=r.board)||void 0===e?void 0:e.url)||`/pin/${s}/`;return m&&(o=null!=g&&g.username?`/${g.username}/`:""),{title:"",subtitle:null==g?void 0:g.fullName,avatar:this.getPinnerImage(null==g?void 0:g.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==g?void 0:g.imageMediumUrl),largeAvatar:this.getPinnerImage(null==g?void 0:g.imageLargeUrl),link:o};case"CLAIMED_CONTENT":const l=null===(t=r.linkDomain)||void 0===t?void 0:t.officialUser;return l?{subtitle:l.fullName,avatar:this.getPinnerImage(l.imageSmallUrl),mediumAvatar:this.getPinnerImage(l.imageMediumUrl),largeAvatar:this.getPinnerImage(l.imageLargeUrl),link:l.username?`/${l.username}/`:""}:void 0;case"SAVED_BY":return{title:this.props.i18n._('Saved by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:"",avatar:this.getPinnerImage(null==c?void 0:c.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==c?void 0:c.imageMediumUrl),largeAvatar:this.getPinnerImage(null==c?void 0:c.imageLargeUrl),link:(null===(n=r.board)||void 0===n?void 0:n.url)||`/pin/${s}/`};default:return{title:(null==c?void 0:c.fullName)||"",subtitle:"",avatar:this.getPinnerImage(null==c?void 0:c.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==c?void 0:c.imageMediumUrl),largeAvatar:this.getPinnerImage(null==c?void 0:c.imageLargeUrl),link:(null===(i=r.board)||void 0===i?void 0:i.url)||`/pin/${s}/`}}}getSharedHeaderInviteCode(){var e;const{viewParameter:t,viewedSharedPins:n,pin:{entityId:i}}=this.props;return 92===t?null===(e=n&&n[i])||void 0===e?void 0:e.inviteCode:void 0}getPinnerImage(e){return e&&e.includes("/user/default")?void 0:e}getPinText(){const{gridTitle:e,richSummary:t,description:n}=this.props.pin;return"string"==typeof e?{title:e,description:""}:{title:null==t?void 0:t.displayName,description:n}}renderPinCard(){var e,t,n,i,a,o,s,l,u,p,h,m,_,y,f,b,w,S,P,T,k,I,A,E,R,D,O,L,F,N,M,z,Z,B,U,H,V,K,G,W,q,Y,J,ee;const{checkExperiment:te,contextualMenuBestPinImgSrc:ne,country:ae,disableAppUpsell:se,duploDisablePinCardPadding:ce,disableRounding:de,disableReaction:pe,displayMerchant:ve,deviceType:ye,experience:fe,feedback:be,feedbackStatus:xe,imageOnlyOption:we,isAuth:Se,duploIsSquarePin:Pe,isImageOnlyExp:Te,location:Ie,duploFeedItemProps:Ae,duploLazyLoadImage:Ce,duploOneTapSave:Ee,duploPinCardDetailsMargin:je,duploPriorityFetchImage:Re,pin:De,slotIndex:Oe,viewParameter:Me,viewType:He,duploShouldAllowProductPriceIndicator:Ve,topLevelTrafficSource:$e,topLevelTrafficSourceDepth:Ke,trafficSource:Ge,duploUnauthRelatedPinsAutoplayExpGroup:We,unauthRelatedProductsExpGroup:qe,trackingParams:Ye,trackInteraction:Je,unauthMerchantAttribution:Xe,vaseDisplayMode:Qe,createUnauthContextMenuHandler:et,duploConversationPin:tt,pinGraphqlRef:nt}=this.props,{onPinLinkClick:it,showSeoMetadata:at}=null!=Ae?Ae:{},{category:ot,entityId:rt,linkDomain:st,imageSignature:lt,promoter:ct,richMetadata:dt,richSummary:ut,title:pt,sponsorship:ht,storyPinData:mt}=De,{description:_t,title:gt}=this.getPinText(),vt="desktop"===ye,yt=ze(De),ft=0===Me,bt=3475===Me,xt=43===Me,wt=Ne(De),St=!!ht,Pt=null==mt?void 0:mt.hasProductPins,Tt=null==mt?void 0:mt.isDeleted,kt=(0,c.Z)((Ie&&Ie.state||{}).trackingParams||Ye,De.trackingParams),It="product"===ze(De)&&!Se,At=!bt&&!xt&&"desktopParity"===Qe,Ct=Te&&!this.isOverrideImageOnly(),Et=this.getPinImage(),jt=null===(e=De.videos)||void 0===e||null===(t=e.videoList)||void 0===t?void 0:t.v720P,Rt=(null==jt?void 0:jt.url)||(null===(n=De.videos)||void 0===n||null===(i=n.videoList)||void 0===i||null===(a=i.vHLSV4)||void 0===a?void 0:a.url),Dt=(0,oe.hP)(null!==(o=De.description)&&void 0!==o?o:"",De.descriptionHtml||"",null===(s=De.pinJoin)||void 0===s?void 0:s.visualAnnotation,De.altText||""),Ot=Se?_t:(0,d.Z)({storyPinDataId:De.storyPinDataId,pinDescription:De.description,richMetadataDescription:null!==(l=null===(u=De.richMetadata)||void 0===u?void 0:u.description)&&void 0!==l?l:"",richSummaryDisplayName:null!==(p=null===(h=De.richSummary)||void 0===h?void 0:h.displayName)&&void 0!==p?p:"",closeupDescription:null!==(m=De.closeupDescription)&&void 0!==m?m:"",closeupUnifiedDescription:null!==(_=De.closeupUnifiedDescription)&&void 0!==_?_:""}),Lt=fe&&fe.display_data.hideReactions||!1,Ft=fe&&fe.display_data.hideDesc||!1,Nt=!pe&&(0,_e.J6)({boardIsCollaborative:null===(y=De.board)||void 0===y?void 0:y.isCollaborative,isDownstreamPromotion:De.isDownstreamPromotion,isPromoted:De.isPromoted,storyPinDataId:De.storyPinDataId,videosId:null===(f=De.videos)||void 0===f?void 0:f.entityId})&&!bt&&!Lt,Mt=!Se;let zt;zt=Fe(De)?De.trackedLink||De.link:Mt?(0,oe.bN)({pinId:rt,seoUrl:De.seoUrl}):(0,oe.BY)(rt);const Zt=!_t||Ct&&!ft?void 0:_t.trim(),Bt=this.getSharedHeaderInviteCode(),Ut={accessibilityLabel:Dt||gt||_t||"",country:ae,deeplinkUri:zt,external:Fe(De),externalQueryParams:{pin:rt,client_tracking_params:Ye},isAppUpsellDisabled:se,onTouch:this.handleClick,pinCategory:De.category,pressState:"none",rounding:4,title:this.props.i18n._('See this Pin', 'App Upsell Text after clicking on Pin in feed', 'App Upsell Text after clicking on Pin in feed'),to:{pathname:zt,state:{trackingParams:Ye,trafficSource:Ge,topLevelTrafficSource:$e,topLevelTrafficSourceDepth:Ke}},upsellType:"direct",viewParameter:Me,viewType:He,clientTrackingParams:kt},Ht=Le({isDesktop:vt}),Vt=De.nativeCreator||De.pinner,$t="search"===Ge&&"storyPin"===yt&&te("mweb_search_ideapin_module").anyEnabled,Kt=(0,x.kb)({hasLinkDomain:!!st,richMetadata:dt&&{recipe:dt.recipe&&{fromAggregatedData:dt.recipe.fromAggregatedData},products:dt.products},richSummary:ut&&{products:ut.products}});return(0,v.jsxs)(g.xu,{"data-test-id":"pin","data-test-pin-id":rt,marginBottom:vt?0:2,children:[(0,v.jsxs)(g.xu,{"data-test-id":Dt||gt||_t?"pin-with-alt-text":"pin-missing-alt-text",padding:ce?0:Ht,marginBottom:0,onContextMenu:Vt?et({pinId:rt,deviceOptions:{isDesktop:!0}}):void 0,dangerouslySetInlineStyle:{__style:this.state.isShowingCustomContextMenu?ge.Yw:{}},children:[(0,v.jsxs)(he.MZ,{...Ut,children:[!!Bt&&(0,v.jsx)(X,{inviteCode:Bt}),Tt?(0,v.jsx)(le.Z,{isPinRep:!0}):(0,v.jsx)(Q.Z,{clientTrackingParams:kt,color:null!==(b=De.dominantColor)&&void 0!==b?b:"",description:Zt,domainLinkData:De.domain&&De.link?{clickLoggingOptions:{auxData:{objectId:rt,grid_index:Oe,sanitized_url:De.link}},domain:De.domain,link:De.link,onClick:it}:void 0,disableRounding:de,image:Et&&{dominant_color:null!==(w=Et.dominantColor)&&void 0!==w?w:void 0,height:null!==(S=Et.height)&&void 0!==S?S:void 0,url:null!==(P=Et.url)&&void 0!==P?P:void 0,width:null!==(T=Et.width)&&void 0!==T?T:void 0},imageAltText:Dt,imageCrop:De.imageCrop&&"number"==typeof De.imageCrop.minY&&"number"==typeof De.imageCrop.maxY?{minY:De.imageCrop.minY,maxY:De.imageCrop.maxY}:void 0,isPromoted:wt,isSquarePin:Pe,lazyLoadImage:Ce,onError:this.handleError,oneTapSave:Ee,onLoad:this.handleLoad,priorityFetchImage:Re,disableDefaultContextMenu:()=>this.setState({isShowingCustomContextMenu:!0}),createUnauthContextMenuHandler:et,pinId:rt,pinnedToBoardId:null!==(k=null===(I=De.pinnedToBoard)||void 0===I?void 0:I.entityId)&&void 0!==k?k:"",pinVideo:wt&&jt||void 0,videoUrl:null!=Rt?Rt:void 0,productPrice:Ve&&!It?Be(De):null,slotIndex:Oe,storyDataExists:!!mt,title:!Ct||ft?gt:void 0,type:yt,videoDuration:Ze(De),unauthRelatedPinsAutoplayExpGroup:We,viewType:He,viewParameter:Me})]}),!("image-only"===we)&&(Se||"desktop"===ye)&&(0,v.jsxs)(g.xu,{children:[At&&(0,v.jsx)(ue.Z,{pinId:rt,mode:"inlineWithScrollArrows",graphqlRef:nt}),!It&&(0,v.jsx)(he.MZ,{...Ut,children:(0,v.jsx)($,{duploConversationPin:tt,allowPriceIndicator:!Ve&&!It&&["shop_feed"].includes(Ge),marginTop:je,hidePinMetadata:Ft,contextMenu:Se&&!Tt?(0,v.jsx)(g.xu,{marginStart:1,marginTop:je,children:(0,v.jsx)(g.xu,{height:26,width:24,children:(0,v.jsx)(r.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,v.jsx)(C.Z,{children:(0,v.jsx)(Ue,{adMatchReason:De.adMatchReason,bestPinImgSrc:ne,feedback:be,feedbackType:this.getFeedbackType(),getRecommendationDescription:this.getRecommendationDescription,graphqlRef:nt,imageSignature:null!=lt?lt:void 0,pinCategory:ot,pinDescription:Ot,pinId:rt,pinTitle:pt,sourceType:wt?"ad":ft?"following":void 0,viewParameter:Me,viewType:He,trackingParams:Ye})})})})}):null,credits:this.getCredits(),hasAffiliatedProducts:null!=Pt?Pt:void 0,isPromotedPin:wt,isSponsoredPin:St,isSquarePin:Pe,marginStart:je,marginEnd:je,onCreditsClick:this.handleCreditsClick,pinDescription:Ot,pinId:rt,pinnedToBoardId:null!==(A=null===(E=De.pinnedToBoard)||void 0===E?void 0:E.entityId)&&void 0!==A?A:"",pinReactionCounts:null!==(R=null===(D=De.reactionCountsData)||void 0===D?void 0:D.reduce(((e,{reactionCount:t,reactionType:n})=>({...e,[String(null!=n?n:0)]:null!=t?t:0})),{}))&&void 0!==R?R:void 0,promoterName:null!==(O=null==ct?void 0:ct.fullName)&&void 0!==O?O:void 0,recipeCookTime:Ct?void 0:De.richSummary&&De.richSummary.displayCookTime,recipeMaxRating:Ct||null==ut||null===(L=ut.aggregateRating)||void 0===L?void 0:L.bestRating,recipeRating:Ct||null==ut||null===(F=ut.aggregateRating)||void 0===F?void 0:F.ratingValue,recipeReviewCount:Ct||null==ut||null===(N=ut.aggregateRating)||void 0===N?void 0:N.reviewCount,shouldShowReactions:Nt,style:$t?"overlay":"default",title:$t?void 0:gt,type:yt})})]}),It&&(0,v.jsx)(ke,{queryRef:nt,unauthMerchantAttribution:Xe,displayMerchant:ve,description:De.description,domain:null===(M=De.richSummary)||void 0===M?void 0:M.siteName,isSquarePin:Pe,gridTitle:null!==(z=De.gridTitle)&&void 0!==z?z:void 0,pinId:rt,priceSummary:Kt&&{maxPrice:Kt.maxPrice,minPrice:Kt.minPrice,price:Kt.price,standardPrice:Kt.standardPrice},richMetadataTitle:null===(Z=De.richMetadata)||void 0===Z?void 0:Z.title,richSummaryDisplayName:null===(B=De.richSummary)||void 0===B?void 0:B.displayName,storyPinDataId:De.storyPinDataId,storyPinDataMetadataPinTitle:null===(U=De.storyPinData)||void 0===U||null===(H=U.metadata)||void 0===H?void 0:H.pinTitle,title:De.title,isUnauthRelatedProductsExp1LineGroup:(null==qe?void 0:qe.includes("square"))||(null==qe?void 0:qe.includes("1_line"))})]}),"reported"===xe?(0,v.jsx)(ie,{color:null!==(V=De.dominantColor)&&void 0!==V?V:"",getFeedbackText:()=>({title:this.props.i18n._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:this.props.i18n._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after reporting a pin', 'message displayed after reporting a pin')}),pinId:rt,showing:!0}):(0,v.jsx)(ie,{color:null!==(K=De.dominantColor)&&void 0!==K?K:"",getFeedbackText:this.getPinHiddenFeedbackText,onUnfollow:this.handleUnfollowPin,pinId:rt,showing:!!xe,unfollowed:"unfollowed"===xe,viewParameter:Me,viewType:He}),at&&"inlineHidden"===Qe&&!It&&(0,v.jsx)(j.Z,{id:"related-pins-title",children:(0,v.jsx)(g.iP,{onTap:()=>{Je({action:"click",item:"related-pins-title"})},fullWidth:!1,children:(0,v.jsx)(re,{description:De.description,gridTitle:null!==(G=De.gridTitle)&&void 0!==G?G:void 0,pinId:rt,richMetadataTitle:null===(W=De.richMetadata)||void 0===W?void 0:W.title,richSummaryDisplayName:null===(q=De.richSummary)||void 0===q?void 0:q.displayName,storyPinDataId:De.storyPinDataId,storyPinDataMetadataPinTitle:null===(Y=De.storyPinData)||void 0===Y||null===(J=Y.metadata)||void 0===J?void 0:J.pinTitle,title:De.title})})}),(null===(ee=De.legacyOnly)||void 0===ee?void 0:ee.debug)&&(0,v.jsx)(me.W,{data:De.legacyOnly.debug})]})}render(){const{componentType:e,pin:{entityId:t},trackingParams:n,viewParameter:i,viewType:a,slotIndex:o,objectIdStr:r,viewData:s}=this.props,{startImpressionTimer:l}=this.state;return(0,v.jsx)(ve.dL,{auxData:this.getAuxData(),component:e,impressionData:this.getImpressionData(),isPaused:!l,loggingId:t,objectIdStr:r,slotIndex:o,trackingParams:n,viewData:s,viewParameter:i,viewType:a,children:({impressionTrackerRef:e})=>(0,v.jsx)(g.xu,{ref:e,children:this.renderPinCard()})})}}function Ve(e){const t=(0,b.ZP)(),n=(0,Re.g)(),{checkExperiment:i}=(0,M.F)(),o=(0,Z.useHistory)(),r=(0,Z.useLocation)(),s=(0,R.ZP)(),c=(0,Ee.M)(),d=(0,xe.yz)(),p=(0,be._)({id:1000107}),h=(0,Ae.Z)(),m=(0,O.Z)(),{country:_,isAuthenticated:g,isBot:y}=(0,B.B)(),f=(0,ce.Z)(),{hasPoorConnection:x,viewedSharedPins:w}=(0,a.useSelector)((({session:e})=>e)),S=(0,a.useSelector)((({experiences:e})=>{const t=e[1000107];return!!t&&500678===t.experience_id})),P=(0,a.useSelector)((({session:e,users:t})=>(0,u.Z)(t[e.userId].created_at))),{getPinFeedbackStatus:T,setPinFeedbackStatus:k}=(0,je.K)(),{pin:I}=e,A=I.entityId,C={...[["136x136",I.imageSpec_136x136],["170x",I.imageSpec_170x],["236x",I.imageSpec_236x],["474x",I.imageSpec_474x],["736x",I.imageSpec_736x],["orig",I.imageSpec_orig]].reduce(((e,[t,n])=>{var i,a,o,r;return n?(e[t]={dominant_color:null!==(i=n.dominantColor)&&void 0!==i?i:void 0,height:null!==(a=n.height)&&void 0!==a?a:void 0,url:null!==(o=n.url)&&void 0!==o?o:void 0,width:null!==(r=n.width)&&void 0!==r?r:void 0},e):e}),{})},E=e=>{var t,n;return(0,l.Z)({embedSrc:null===(t=I.embed)||void 0===t?void 0:t.src,embedType:null===(n=I.embed)||void 0===n?void 0:n.type,images:C,preferredResolution:e})},j=(0,fe.z)();return(0,de.Z)((()=>{if(j&&"desktop"!==s&&"image"===ze(I)){const e=C["236x"]||C["136x136"],t=E("736x");t&&j.setData(A,{dominantColor:I.dominantColor,imageUrl:t,placeholder:e&&{width:e.width,height:e.height,url:e.url}})}})),(0,v.jsx)(He,{...e,adBlockTextTransform:f,checkExperiment:i,contextualMenuBestPinImgSrc:E(),country:_,createUnauthContextMenuHandler:c,deviceType:s,experience:p,feedbackStatus:T({pinId:A}),hasPoorConnection:x,history:o,i18n:t,isAuth:g,isBot:y,isImageOnlyExp:S,location:r,logContextEvent:h,markPinUnfollowed:()=>k({pinId:A,pinFeedbackStatus:"unfollowed"}),pwaType:d,trackInteraction:m,unauthDesktopSignupModalPageContext:n,vaseDisplayMode:"desktop"===s?"desktopParity":"inlineHidden",viewedSharedPins:w,viewerIsNewUser:P})}const $e=(0,o.Z)({useGraphQLAdapter:e=>{const t=(0,P.useFragment)(Oe,e);return{pin:t,pinGraphqlRef:t}},useLegacyAdapter:e=>{var t,n,i,a,o,r,s,l,c,d,u,p;const h=(0,S.S6)()(e);if(!h)return null;const m=e=>e&&{entityId:e.id,fullName:e.full_name,imageLargeUrl:e.image_large_url,imageMediumUrl:e.image_medium_url,imageSmallUrl:e.image_small_url,username:e.username},_=e=>e&&{dominantColor:e.dominant_color,height:e.height,url:e.url,width:e.width},g=h.reaction_counts;return{pin:{adMatchReason:h.ad_match_reason,altText:h.alt_text,attribution:h.attribution&&{embed:h.attribution.embed&&{type:h.attribution.embed.type}},board:h.board&&{entityId:h.board.id,followedByMe:h.board.followed_by_me,isCollaborative:h.board.is_collaborative,name:h.board.name,privacy:h.board.privacy,url:h.board.url},category:h.category,closeupDescription:h.closeup_description,closeupUnifiedDescription:h.closeup_unified_description,descriptionHtml:h.description_html,description:h.description,domain:h.domain,dominantColor:h.dominant_color,embed:h.embed&&{height:h.embed.height,src:h.embed.src,type:h.embed.type,width:h.embed.width},entityId:h.id,gridTitle:h.grid_title,imageCrop:h.image_crop&&{minY:h.image_crop.min_y,maxY:h.image_crop.max_y},imageSignature:h.image_signature,imageSpec_136x136:_(null===(t=h.images)||void 0===t?void 0:t["136x136"]),imageSpec_170x:_(null===(n=h.images)||void 0===n?void 0:n["170x"]),imageSpec_236x:_(null===(i=h.images)||void 0===i?void 0:i["236x"]),imageSpec_474x:_(null===(a=h.images)||void 0===a?void 0:a["474x"]),imageSpec_736x:_(null===(o=h.images)||void 0===o?void 0:o["736x"]),imageSpec_orig:_(null===(r=h.images)||void 0===r?void 0:r.orig),isDownstreamPromotion:h.is_downstream_promotion,isEligibleForPdp:h.is_eligible_for_pdp,isEligibleForWebCloseup:h.is_eligible_for_web_closeup,isOosProduct:h.is_oos_product,isPromoted:h.is_promoted,isStaleProduct:h.is_stale_product,linkDomain:h.link_domain&&{officialUser:h.link_domain.official_user&&{fullName:h.link_domain.official_user.full_name,entityId:null!==(s=h.link_domain.official_user.id)&&void 0!==s?s:"",imageLargeUrl:h.link_domain.official_user.image_large_url,imageMediumUrl:h.link_domain.official_user.image_medium_url,imageSmallUrl:h.link_domain.official_user.image_small_url,username:h.link_domain.official_user.username,isPrimaryWebsiteVerified:h.link_domain.official_user.is_primary_website_verified}},link:h.link,nativeCreator:m(h.native_creator),pinnedToBoard:h.pinned_to_board&&{entityId:null!==(l=h.pinned_to_board.id)&&void 0!==l?l:""},pinJoin:h.pin_join&&{visualAnnotation:h.pin_join.visual_annotation},pinner:h.pinner&&{entityId:h.pinner.id,explicitlyFollowedByMe:h.pinner.explicitly_followed_by_me,fullName:h.pinner.full_name,imageLargeUrl:h.pinner.image_large_url,imageMediumUrl:h.pinner.image_medium_url,imageSmallUrl:h.pinner.image_small_url,username:h.pinner.username},promoter:m(h.promoter),reactionCountsData:g&&Object.keys(g).map((e=>({reactionType:Number(e),reactionCount:g[e]}))),richMetadata:h.rich_metadata&&{description:h.rich_metadata.description,title:h.rich_metadata.title,recipe:h.rich_metadata.recipe&&{fromAggregatedData:h.rich_metadata.recipe.from_aggregated_data},products:h.rich_metadata.products&&h.rich_metadata.products.map((e=>{var t,n,i,a;return{name:e.name,offerSummary:{maxPrice:null===(t=e.offer_summary)||void 0===t?void 0:t.max_price,minPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.min_price,price:null===(i=e.offer_summary)||void 0===i?void 0:i.price,standardPrice:null===(a=e.offer_summary)||void 0===a?void 0:a.standard_price}}}))},richSummary:h.rich_summary&&{aggregateRating:h.rich_summary.aggregate_rating&&{bestRating:h.rich_summary.aggregate_rating.best_rating,ratingValue:h.rich_summary.aggregate_rating.rating_value,reviewCount:h.rich_summary.aggregate_rating.review_count},displayName:h.rich_summary.display_name,displayCookTime:h.rich_summary.display_cook_time,siteName:h.rich_summary.site_name,typeName:h.rich_summary.type_name,products:h.rich_summary.products&&h.rich_summary.products.map((e=>{var t,n,i,a;return{name:e.name,offerSummary:{maxPrice:null===(t=e.offer_summary)||void 0===t?void 0:t.max_price,minPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.min_price,price:null===(i=e.offer_summary)||void 0===i?void 0:i.price,standardPrice:null===(a=e.offer_summary)||void 0===a?void 0:a.standard_price}}}))},seoUrl:h.seo_url,shoppingFlags:h.shopping_flags,sourceInterest:h.source_interest&&{entityId:null!==(c=h.source_interest.id)&&void 0!==c?c:"",name:h.source_interest.name,urlName:h.source_interest.url_name},sponsorship:h.sponsorship&&{creator:h.sponsorship.creator&&{entityId:null!==(d=h.sponsorship.creator.id)&&void 0!==d?d:"",fullName:h.sponsorship.creator.full_name,imageLargeUrl:h.sponsorship.creator.image_large_url,imageMediumUrl:h.sponsorship.creator.image_medium_url,imageSmallUrl:h.sponsorship.creator.image_small_url,username:h.sponsorship.creator.username},sponsor:h.sponsorship.sponsor&&{entityId:null!==(u=h.sponsorship.sponsor.id)&&void 0!==u?u:"",fullName:h.sponsorship.sponsor.full_name,imageLargeUrl:h.sponsorship.sponsor.image_large_url,imageMediumUrl:h.sponsorship.sponsor.image_medium_url,imageSmallUrl:h.sponsorship.sponsor.image_small_url,username:h.sponsorship.sponsor.username}},storyPinDataId:h.story_pin_data_id,storyPinData:h.story_pin_data&&{hasProductPins:h.story_pin_data.has_product_pins,isDeleted:h.story_pin_data.is_deleted,metadata:h.story_pin_data.metadata&&{pinTitle:h.story_pin_data.metadata.pin_title}},title:h.title,trackedLink:h.tracked_link,trackingParams:h.tracking_params,videos:h.videos&&{entityId:null!==(p=h.videos.id)&&void 0!==p?p:"",videoList:h.videos.video_list&&{vHLSV4:h.videos.video_list.V_HLSV4&&{duration:h.videos.video_list.V_HLSV4.duration,height:h.videos.video_list.V_HLSV4.height,width:h.videos.video_list.V_HLSV4.width,url:h.videos.video_list.V_HLSV4.url},v720P:h.videos.video_list.V_720P&&{duration:h.videos.video_list.V_720P.duration,height:h.videos.video_list.V_720P.height,width:h.videos.video_list.V_720P.width,url:h.videos.video_list.V_720P.url}}},recommendationReason:h.recommendation_reason&&{reason:h.recommendation_reason.reason,board:h.recommendation_reason.board&&{name:h.recommendation_reason.board.name,url:h.recommendation_reason.board.url}},legacyOnly:{debug:h.debug}},pinGraphqlRef:null}}});function Ke(e){const{pinId:t,duploQueryRef:n,...i}=e;return(0,v.jsx)($e,{input:n?{enabled:!0,data:n}:{enabled:!1,data:t},children:({data:e})=>!!e&&(0,v.jsx)(Ve,{...i,pin:e.pin,pinGraphqlRef:e.pinGraphqlRef})})}},167525:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(898781),a=n(643010),o=n(883119),r=n(785893);function s({text:e,icon:t,largeIdentifier:n,largeMargin:s}){const l=(0,i.ZP)();return(0,r.jsxs)(o.xu,{zIndex:new o.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,a.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},display:"flex",margin:s?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:n?4:void 0,height:n?36:24,top:!0,children:[t&&(0,r.jsx)(o.xu,{marginEnd:n?2:1,children:(0,r.jsx)(o.JO,{accessibilityLabel:l._('identifier that shows the pin type', 'pin.pincard.iconAccessibilityLabel', 'shows an icon with the pin type'),color:"default",icon:t,inline:!0,size:n?18:12})}),(0,r.jsx)(o.xv,{inline:!0,size:n?"200":"100",weight:"bold",children:e})]})}},831539:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(474236),a=n(941646),o=n(898781),r=n(892819),s=n(349700),l=n(780280),c=n(561195),d=n(883119),u=n(785893);const p=({rating:e,textSize:t,type:n})=>{if("single"===n){const n=parseFloat(e);return Number.isNaN(n)?null:(0,u.jsxs)(d.kC,{alignItems:"center",children:[(0,u.jsx)(c.A,{fill:"full",width:12}),(0,u.jsx)(d.xv,{size:t,children:n.toFixed(1)})]})}return(0,u.jsx)(c.Z,{rating:e,width:12})},h=({bracket:e,count:t,countFormat:n,countType:i,marginStart:c,textSize:p,underline:h})=>{const{locale:m}=(0,l.B)(),_=(0,o.ZP)(),g=(0,r.Z)();if(null==t)return null;let v=g(m,t,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===n){const e="review"===i?_.ngettext('{{ count }} review', '{{ count }} reviews', t, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total reviews count'):_.ngettext('{{ count }} rating', '{{ count }} ratings', t, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total ratings count');v=(0,s.nk)(e,{count:t}).join("")}return e&&(v=`(${v})`),(0,u.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:h?"1px solid gray":"none"}},marginStart:c,children:(0,u.jsx)(d.xv,{color:h?"subtle":"default",size:p,underline:h,children:(0,u.jsx)(a.Z,{id:"ratings-count-text",display:"inlineBlock",children:v})})})};function m({bracket:e,count:t,countFormat:n,countType:a,rating:o,textSize:r,underline:s}){return(0,i.Z)({count:t,rating:o})?(0,u.jsxs)(d.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(p,{rating:o,textSize:r,type:"multiple"}),(0,u.jsx)(h,{bracket:e,count:t,countFormat:n,countType:a,textSize:r,underline:s})]}):null}},474236:(e,t,n)=>{function i({count:e,rating:t}){return Boolean(t&&"None"!==t&&Number.isFinite(e))}n.d(t,{Z:()=>i})},99137:(e,t,n)=>{n.d(t,{x:()=>s,y:()=>l});var i=n(667294),a=n(425288),o=n(785893);const{Provider:r,useMaybeHook:s}=(0,a.Z)("ProfileViewContext");function l({children:e}){const[t,n]=(0,i.useState)(),[a,s]=(0,i.useState)(new Map),[l,c]=(0,i.useState)(),[d,u]=(0,i.useState)(),p=(0,i.useCallback)(((e,t)=>{s(new Map(a.set(e,t)))}),[a]),h=(0,i.useMemo)((()=>({boardPinDensity:t,boardSortOrder:a,profileBoardView:l,profilePinDensity:d,setBoardPinDensity:n,updateBoardSortOrder:p,setProfileBoardView:c,setProfilePinDensity:u})),[t,a,l,d,p]);return(0,o.jsx)(r,{value:h,children:e})}},255607:(e,t,n)=>{function i(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,n)=>e[n]-e[t])).slice(0,3)}return null}function a(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function o({boardIsCollaborative:e,isDownstreamPromotion:t,isPromoted:n,storyPinDataId:i,videosId:a}){return!(n||t||!a&&!i||null!=e&&e)}n.d(t,{At:()=>i,J6:()=>o,Ud:()=>a})},130460:(e,t,n)=>{n.d(t,{bn:()=>s,fJ:()=>c,gC:()=>l});var i=n(702664),a=n(425288),o=n(785893);const{Provider:r,useHook:s}=(0,a.Z)("Boards");function l(){const e=s();return t=>e[t]}function c({children:e}){const t=(0,i.useSelector)((({boards:e})=>e),i.shallowEqual);return(0,o.jsx)(r,{value:t,children:e})}},350118:(e,t,n)=>{n.d(t,{AF:()=>s,H0:()=>l,S6:()=>c,_S:()=>d});var i=n(702664),a=n(425288),o=n(785893);const{Provider:r,useHook:s,useMaybeHook:l}=(0,a.Z)("Pins");function c(){const e=s();return t=>e[t]}function d({children:e}){const t=(0,i.useSelector)((({pins:e})=>e),i.shallowEqual);return(0,o.jsx)(r,{value:t,children:e})}},698330:(e,t,n)=>{n.d(t,{Tt:()=>u,cm:()=>d,kW:()=>l,kY:()=>p,mN:()=>c});var i=n(702664),a=n(19121),o=n(425288),r=n(785893);const{Provider:s,useHook:l}=(0,o.Z)("Users");function c(){const e=l();return t=>e[t]}function d(){const e=l();return t=>{const n=Object.keys(e).find((n=>e[n].username===t));return e[null!=n?n:""]}}function u(){const{id:e}=(0,a.Z)();return l()[null!=e?e:""]}function p({children:e}){const t=(0,i.useSelector)((({users:e})=>e),i.shallowEqual);return(0,r.jsx)(s,{value:t,children:e})}},349741:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(667294),a=n(327212),o=n(830157),r=n(499128),s=n(898781),l=n(349700),c=n(883119),d=n(785893);function u({hideToast:e,newPin:t,originalPinId:n}){var i,a;const o=(0,s.ZP)();return(0,d.jsx)(r.ZP,{primaryAction:{accessibilityLabel:o._('Change saved Pin button', 'RepinRequest.a11yChangeButton', 'Change saved Pin button'),href:`/pin/${t.id}/repin/?isEditingPin=true&pinBoardId=${null!==(i=null===(a=t.board)||void 0===a?void 0:a.id)&&void 0!==i?i:""}&&isFromToast=true&&originalPinId=${null!=n?n:""}`,label:o._('Change', 'RepinRequest.ChangeButton', 'Change saved Pin button'),size:"lg",onClick:e},duration:5e3,onHide:e,text:(0,d.jsx)(c.xv,{children:(0,l.nk)(o._('Saved to {{ profile }}', 'RepinRequest.ProfileSaveToastText', 'Toast for successfully saving to profile'),{profile:(0,d.jsx)(c.xv,{inline:!0,weight:"bold",children:o._('Profile', 'RepinRequest.ProfileSaveToastText.Profile', 'referring to pinner profile where pin was saved')})})}),thumbnail:{icon:(0,d.jsx)(c.JO,{accessibilityLabel:o._('Profile', 'RepinRequest.ProfileIcon', 'Icon signifying Pin was saved to profile without a board'),icon:"history",size:22})}})}var p=n(214494),h=n(483025),m=n(414327),_=n(332611),g=n(675752),v=n(56632),y=n(12918),f=n(782677);const b=({board:e,section:t})=>{const n=(0,s.ZP)();return t?(0,l.nk)(n._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:t&&t.title,boardName:e.name}).join(""):(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(c.xv,{color:"default",children:n._('Saved to', 'Saved to {{ boardName }}', 'Saved to {{ boardName }}')}),(0,d.jsx)(c.xv,{color:"default",weight:"bold",children:e.name})]})};class x{constructor({boardId:e,dispatch:t,history:n,isOneTapSave:i=!1,isQuickSave:a=!1,onSuccess:r,onUndo:s,originalPinId:l,pin:c,resourceName:d,section:u,showNewUserSavetoProfileAnimation:p=!1,showRepinToasts:m,trackingParams:_,userId:g,viewType:v=3,historyPush:y,suggestedBoardIds:b}){var x,w,S,P,T;T=e=>(0,f.Fv)(e.resource_response.data,h.Z[this.resourceName]),(P="_getNormalizedResponse")in(S=this)?Object.defineProperty(S,P,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[P]=T,this.boardId=e,this.trackingParams=_,this.clientTrackingParams=(0,o.Z)(_.clientTrackingParams||"",c.tracking_params),this.dispatch=t,this.history=n,this.onSuccess=r,this.onUndo=s,this.originalPinId=l,this.pin=c,this.pinnedToBoardId=_.pinnedToBoardId||(null!==(x=null===(w=c.pinned_to_board)||void 0===w?void 0:w.id)&&void 0!==x?x:""),this.resourceName=d,this.showNewUserSavetoProfileAnimation=p,this.showRepinToasts=m,this.section=u,this.isOneTapSave=i,this.isQuickSave=a,this.userId=g,this.viewType=v,this.historyPush=y,this.suggestedBoardIds=b}get resourceOptions(){const{link:e,title:t,promoted_is_removable:n,id:i}=this.pin,a=n?{is_removable:!0}:{};return{pin_id:i,board_id:this.boardId,section:this.section&&this.section.id,clientTrackingParams:this.clientTrackingParams,link:null!=e?e:"",title:null!=t?t:"",user_id:this.userId,is_removable:a}}get trackingData(){return{event_type:5,element:this.isOneTapSave?10599:void 0,view_type:this.viewType,component:this.isOneTapSave?0:7,view_parameter:this.isOneTapSave?3173:(0,g.A)(this.pin),object_id_str:this.pin.id,clientTrackingParams:this.clientTrackingParams,aux_data:{board_id:this.pinnedToBoardId,destination_board_id:this.boardId,is_profile_save:!this.boardId,pin_id:this.pin.id,suggested_boards:this.suggestedBoardIds}}}_createRepin(){return p.Z.create(this.resourceName,{...this.resourceOptions,disable_event_log_info:!0}).callCreate()}processRepin(e){return this._createRepin().then((t=>{this.onSuccess&&this.onSuccess();const n=t.resource_response.data,{board:i}=n,{isQuickSave:o,originalPinId:r,showNewUserSavetoProfileAnimation:l}=this,p=({hideToast:e})=>{var t;if(o&&!l)return(0,d.jsx)(u,{hideToast:e,newPin:n,originalPinId:r});const{thumbnail:p}=(0,v.L)(i.id);return(0,d.jsx)(a.Z,{button:(0,d.jsx)(s.oz,{children:e=>(0,d.jsx)(c.zx,{fullWidth:!0,onClick:({event:t})=>{t.preventDefault(),t.stopPropagation();const a=this.onUndo;var o;a&&!l?a(this.pin.id,n.id,i.id,null===(o=this.section)||void 0===o?void 0:o.id,e):l&&this.historyPush(`/pin/${n.id}/repin/?isEditingPin=true&pinBoardId=${i.id}&&isFromToast=true&&originalPinId=${null!=r?r:""}`)},text:l?e._('Organize', 'RepinRequest.OrganizeButton', 'Button to allow users to organize saved pins'):e._('Undo', 'RepinRequest.UndoButton', 'Undo saved pin button')})}),href:this.section?`${i.url}${null!==(t=this.section.slug)&&void 0!==t?t:""}`:i.url,isRepinToExistingBoard:!0,onHide:e,text:(0,d.jsx)(b,{board:i,section:this.section}),thumbnail:p})},h=this._getNormalizedResponse(t);if(this.dispatch((0,m.XM)(this.resourceName,this.resourceOptions,t,h)),this.originalPinId&&this.originalPinId!==this.resourceOptions.pin_id){const e={...this.resourceOptions,pin_id:this.originalPinId};this.dispatch((0,m.XM)(this.resourceName,e,t,h))}this.dispatch((0,y.M)(n.id,i.id,this.section?this.section.id:void 0,this.userId));const g=this.showRepinToasts;return g&&g(p),this.dispatch((0,_.fO)({event_type:5})),e(this.trackingData),n}))}}},21384:(e,t,n)=>{n.d(t,{Z:()=>E});var i=n(667294),a=n(702664),o=n(373420),r=n(430322),s=n(121151),l=n(898781),c=n(643010),d=n(883119),u=n(50286),p=n(785893);function h({showFullScreenInfo:e,isOpen:t,interstitialUpsellDismissed:n,children:i}){const a=(0,l.ZP)(),o=(0,u.HG)(),h=(0,u.Wb)();return h||o?(0,p.jsx)(s.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:e&&!h,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,p.jsx)(d.xu,{color:(0,c.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,c.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:o?"100vw":"100%",zIndex:new d.Ry(1),children:(0,p.jsx)(d.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:n?0:12,children:i})})}):(0,p.jsx)(r.default,{accessibilityModalLabel:a._('Close', 'Close modal window', 'Close modal window'),isOpen:t,onDismiss:()=>{},mobileAccessibilityCloseIconLabel:a._('Close', 'Close modal window', 'Close modal window'),children:i})}var m,_=n(784590),g=n(690035),v=n(52022),y=n(385801),f=n(623568),b=n(867820),x=n(350118),w=n(780280),S=n(992750),P=n(167912);const T=void 0!==m?m:m=n(276667);function k({iconColor:e,size:t,isMainPin:n,isAuth:r,pinCreditPrefix:s,onClickTitleOrDomain:c,richMetadataDescription:m,richMetadataTitle:_,richSummaryDisplayName:x,closeupUnifiedDescription:P,gridTitle:T,storyPinDataId:k,storyPinDataMetadataPinTitle:I,pinDescription:A,pinDomain:C,pinTitle:E,boardId:j,boardUrl:R,boardName:D,boardPrivacy:O,pinnerFullName:L,pinnerImageSmallUrl:F,pinnerImageLargeUrl:N,pinId:M,graphqlRef:z}){const Z=(0,l.ZP)(),B=(0,v.Z)(),{isBot:U}=(0,w.B)(),{unauthInterstitialDismissed:H}=(0,a.useSelector)((({session:e})=>e)),[V,$]=(0,i.useState)(!1),K=(0,u.HG)(),G=(0,u.Wb)(),W=(0,g.Z)(),q=(0,f._S)(C)?C:"",Y=!G&&!r,{description:J}=(0,S.eK)({richMetadataDescription:m,richSummaryDisplayName:x,closeupUnifiedDescription:P}),X=(0,S.fs)({pinTitle:E,gridTitle:T,richSummaryDisplayName:x,richMetadataTitle:_,storyPinDataId:k,storyPinDataMetadataPinTitle:I})||A,Q=!K,ee=(0,p.jsxs)(d.xu,{padding:5,dangerouslySetInlineStyle:Y?{__style:{paddingTop:0,paddingBottom:30}}:void 0,children:[(0,p.jsx)(d.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,p.jsx)(d.hU,{accessibilityLabel:Z._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",size:"sm",onClick:()=>{(0,b.My)("mweb.unauth.see_more.dismissed"),B({action:"click",item:"close-seo-vase-see-more-button"}),$(!1),n&&(0,b.My)("mweb.unauth.see_more.main_pin.dismissed")},iconColor:"gray"})}),(0,p.jsx)(d.xu,{marginBottom:Y?0:8,children:(0,p.jsx)(d.xv,{align:Y?"start":"center",weight:Y?void 0:"bold",children:(0,p.jsx)("span",{className:"deprecatedTextSizeXL",children:Y?null:Z._('More information', 'more information label', 'more information label')})})}),(0,p.jsx)(y.Z,{description:J,title:X,pinCreditPrefix:s,onClickTitleOrDomain:c,pinDomain:q,boardId:j,boardUrl:R,boardName:D,boardPrivacy:O,pinnerFullName:L,pinnerImageSmallUrl:F,pinnerImageLargeUrl:N,pinId:M,graphqlRef:z})]});return(0,p.jsxs)(d.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,p.jsx)(d.hU,{accessibilityLabel:Z._('See more', 'more information icon', 'more information icon'),icon:"ellipsis",iconColor:null!=e?e:"gray",size:t||"md",onClick:({event:e})=>{e.stopPropagation(),(0,b.My)("mweb.unauth.see_more.shown."+(n?"main_pin":"related_pins")),B({action:"click",item:"seo-vase-see-more-button"}),G||r?($(!0),n&&(0,b.My)("mweb.unauth.see_more.main_pin.shown")):W({pinId:M||"",location:n?"main-pin-more-information":"non-main-pin-more-information",seoPlacementConfig:{description:J,titleText:X,pinCreditPrefix:s,onClickTitleOrDomain:c,cleanPinDomain:q,boardId:j,boardUrl:R,boardName:D,boardPrivacy:O,pinnerFullName:L,pinnerImageSmallUrl:F,pinnerImageLargeUrl:N,pinId:M,graphqlRef:z}})}}),U&&Q?(0,p.jsx)(d.xu,{display:V?"flex":"none",children:ee}):(0,p.jsx)(h,{showFullScreenInfo:V,isOpen:V&&!G,interstitialUpsellDismissed:!!H,children:ee}),G&&V&&(0,p.jsx)(o.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:ee})]})}function I(e){var t,n,i,a,o,r,s,l,c,d,u,h,m,_,g,v;const y=(0,P.useFragment)(T,e.graphqlRef);return(0,p.jsx)(k,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(t=null==y||null===(n=y.richMetadata)||void 0===n?void 0:n.description)&&void 0!==t?t:"",richMetadataTitle:null!==(i=null==y||null===(a=y.richMetadata)||void 0===a?void 0:a.title)&&void 0!==i?i:"",richSummaryDisplayName:null!==(o=null==y||null===(r=y.richSummary)||void 0===r?void 0:r.displayName)&&void 0!==o?o:"",closeupUnifiedDescription:null!==(s=null==y?void 0:y.closeupUnifiedDescription)&&void 0!==s?s:"",gridTitle:null==y?void 0:y.gridTitle,storyPinDataId:null==y?void 0:y.storyPinDataId,storyPinDataMetadataPinTitle:null==y||null===(l=y.storyPinData)||void 0===l||null===(c=l.metadata)||void 0===c?void 0:c.pinTitle,pinDescription:null==y?void 0:y.description,pinDomain:(null==y?void 0:y.domain)||void 0,pinTitle:null==y?void 0:y.title,boardId:null==y||null===(d=y.board)||void 0===d?void 0:d.entityId,boardUrl:(null==y||null===(u=y.board)||void 0===u?void 0:u.url)||void 0,boardName:(null==y||null===(h=y.board)||void 0===h?void 0:h.name)||void 0,boardPrivacy:(null==y||null===(m=y.board)||void 0===m?void 0:m.privacy)||void 0,pinnerFullName:(null==y||null===(_=y.pinner)||void 0===_?void 0:_.fullName)||void 0,pinnerImageSmallUrl:null==y||null===(g=y.pinner)||void 0===g?void 0:g.imageSmallUrl,pinnerImageLargeUrl:null==y||null===(v=y.pinner)||void 0===v?void 0:v.imageLargeUrl,pinId:null==y?void 0:y.entityId,graphqlRef:y})}function A(e){var t,n,i,a,o,r,s,l,c,d;const u=(0,x.S6)()(null!==(t=e.pinId)&&void 0!==t?t:""),h=null==u?void 0:u.board,m=null==u?void 0:u.pinner;return(0,p.jsx)(k,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(n=null==u||null===(i=u.rich_metadata)||void 0===i?void 0:i.description)&&void 0!==n?n:"",richMetadataTitle:null!==(a=null==u||null===(o=u.rich_metadata)||void 0===o?void 0:o.title)&&void 0!==a?a:"",richSummaryDisplayName:null!==(r=null==u||null===(s=u.rich_summary)||void 0===s?void 0:s.display_name)&&void 0!==r?r:"",closeupUnifiedDescription:null!==(l=null==u?void 0:u.closeup_unified_description)&&void 0!==l?l:"",gridTitle:null==u?void 0:u.grid_title,storyPinDataId:null==u?void 0:u.story_pin_data_id,storyPinDataMetadataPinTitle:null==u||null===(c=u.story_pin_data)||void 0===c||null===(d=c.metadata)||void 0===d?void 0:d.pin_title,pinDescription:null==u?void 0:u.description,pinDomain:null==u?void 0:u.domain,pinTitle:null==u?void 0:u.title,boardId:null==h?void 0:h.id,boardUrl:null==h?void 0:h.url,boardName:null==h?void 0:h.name,boardPrivacy:null==h?void 0:h.privacy,pinnerFullName:null==m?void 0:m.full_name,pinnerImageSmallUrl:null==m?void 0:m.image_small_url,pinnerImageLargeUrl:null==m?void 0:m.image_large_url,pinId:null==u?void 0:u.id})}function C(e){var t,n,i,a,o,r,s,l,c,d;const u=(0,x.S6)()(null!==(t=e.pinId)&&void 0!==t?t:""),h=null==u?void 0:u.board,m=null==u?void 0:u.pinner;return(0,_.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,p.jsx)(k,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(n=null==u||null===(i=u.rich_metadata)||void 0===i?void 0:i.description)&&void 0!==n?n:"",richMetadataTitle:null!==(a=null==u||null===(o=u.rich_metadata)||void 0===o?void 0:o.title)&&void 0!==a?a:"",richSummaryDisplayName:null!==(r=null==u||null===(s=u.rich_summary)||void 0===s?void 0:s.display_name)&&void 0!==r?r:"",closeupUnifiedDescription:null!==(l=null==u?void 0:u.closeup_unified_description)&&void 0!==l?l:"",gridTitle:null==u?void 0:u.grid_title,storyPinDataId:null==u?void 0:u.story_pin_data_id,storyPinDataMetadataPinTitle:null==u||null===(c=u.story_pin_data)||void 0===c||null===(d=c.metadata)||void 0===d?void 0:d.pin_title,pinDescription:null==u?void 0:u.description,pinDomain:null==u?void 0:u.domain,pinTitle:null==u?void 0:u.title,boardId:null==h?void 0:h.id,boardUrl:null==h?void 0:h.url,boardName:null==h?void 0:h.name,boardPrivacy:null==h?void 0:h.privacy,pinnerFullName:null==m?void 0:m.full_name,pinnerImageSmallUrl:null==m?void 0:m.image_small_url,pinnerImageLargeUrl:null==m?void 0:m.image_large_url,pinId:null==u?void 0:u.id})}function E(e){return e.graphqlRef?(0,p.jsx)(I,{...e}):e.lazyLoadAnnotations?(0,p.jsx)(C,{...e}):(0,p.jsx)(A,{...e})}},108234:(e,t,n)=>{n.d(t,{Z:()=>g,s:()=>_});var i=n(667294),a=n(121151),o=n(608575),r=n(898781),s=n(349700),l=n(883119),c=n(785893);const d=()=>{var e;const t=(0,r.ZP)(),{dismissWarning:n}=null!==(e=_())&&void 0!==e?e:{};return(0,c.jsx)(l.xu,{paddingX:3,children:(0,c.jsx)(l.zx,{fullWidth:!0,color:"red",onClick:n,text:t._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},u=()=>{const e=(0,r.ZP)();return(0,c.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(l.rU,{target:"blank",href:"https://policy.pinterest.com/community-guidelines#section-spam",display:"inlineBlock",underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},p=({message:e,sanitized_url:t})=>{var n;const i=(0,r.ZP)(),{dismissWarning:p}=null!==(n=_())&&void 0!==n?n:{};return(0,c.jsx)(a.ZP,{accessibilityModalLabel:i._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),onDismiss:p,heading:i._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),footer:(0,c.jsx)(d,{}),children:(0,c.jsxs)(l.xu,{padding:6,children:[(0,c.jsx)(l.xv,{children:(0,s.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,c.jsx)(u,{},"learnMoreLink")})}),(0,c.jsxs)(l.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,c.jsx)(l.xu,{marginEnd:3,children:(0,c.jsx)(l.JO,{accessibilityLabel:i._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,c.jsx)(l.xv,{inline:!0,lineClamp:1,weight:"bold",children:o.parse(t).hostname})]})]})})};var h=n(425288);const{Provider:m,useMaybeHook:_}=(0,h.Z)("SpammyClickthrough");function g({children:e}){const[t,n]=(0,i.useState)(null),a=(0,i.useCallback)((()=>{n(null)}),[n]),o=(0,i.useCallback)((e=>{n(e)}),[n]),r=(0,i.useMemo)((()=>({dismissWarning:a,showWarning:o})),[a,o]);return(0,c.jsxs)(m,{value:r,children:[t&&(0,c.jsx)(p,{...t}),e]})}},914142:(e,t,n)=>{n.d(t,{Z:()=>c,j:()=>l});var i=n(898781),a=n(883119),o=n(773285),r=n(349700),s=n(785893);const l=[0,2,3];function c({hasAffiliatedProducts:e,isPromoted:t,sponsorName:n,sponsorshipStatus:c,textColor:d}){const u=(0,i.ZP)(),p=(0,o.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;let h;t?h=(0,r.nk)(u._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:n}):c||0===c?n&&!l.includes(c)?h=(0,r.nk)(u._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:n}):2!==c&&(h=u._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(h=u._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const m=p&&!t?"Ad  ":"";return(0,s.jsxs)(a.xv,{color:d,size:"100",children:[m,h]})}},202870:(e,t,n)=>{n.d(t,{Z:()=>c,j:()=>l});var i=n(898781),a=n(349700),o=n(773285),r=n(883119),s=n(785893);const l=[0,2,3];function c({hasAffiliateProducts:e,href:t,isPromoted:n,onNavigateSponsorClick:c,sponsorName:d,sponsorUsername:u,sponsorshipStatus:p,textWeight:h="bold"}){const m=(0,i.ZP)(),_=(0,o.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,g=(0,o.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,v=t||(u?`/${u}/`:null),y=v&&d?(0,s.jsx)(r.rU,{href:v,onClick:c,children:(0,s.jsx)(r.xv,{weight:h,size:"200",children:d})},d):void 0;let f;n?f=(0,a.nk)(m._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:y}):p||0===p?d&&!l.includes(p)?f=(0,a.nk)(m._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:y}):g&&2===p||(f=m._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(f=m._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const b=_&&!n?"Ad  ":"";return(0,s.jsxs)(r.xv,{inline:!0,size:"200",lineClamp:2,children:[b,f]})}},629377:(e,t,n)=>{n.d(t,{k:()=>d,b:()=>c});var i=n(667294),a=n(425288);const o={selectedStelaItem:null};function r(e=o,t){switch(t.type){case"STELA_SELECT":return{...e,selectedStelaItem:t.payload.selectedStelaItem};default:return e}}var s=n(785893);const{Provider:l,useHook:c}=(0,a.Z)("Stela");function d({children:e}){const[t,n]=(0,i.useReducer)(r,o),a=(0,i.useCallback)((({selectedStelaItem:e})=>{n({type:"STELA_SELECT",payload:{selectedStelaItem:e}})}),[]),c=(0,i.useMemo)((()=>({stela:t,selectStela:a})),[t,a]);return(0,s.jsx)(l,{value:c,children:e})}},640064:(e,t,n)=>{n.d(t,{f:()=>s,w:()=>l});var i=n(667294),a=n(425288),o=n(785893);const{Provider:r,useHook:s}=(0,a.Z)("Session");function l({children:e}){const[t,n]=(0,i.useState)(void 0),a=(0,i.useCallback)((()=>n(void 0)),[]),s=(0,i.useMemo)((()=>({unauthFollowUserId:t,setUnauthFollowUserId:n,removeUnauthFollowUserId:a})),[t,a]);return(0,o.jsx)(r,{value:s,children:e})}},394332:(e,t,n)=>{n.d(t,{Z:()=>x});var i,a=n(667294),o=n(391254),r=n(941646),s=n(862193),l=n(898781),c=n(52022),d=n(992750),u=n(350118),p=n(883119),h=n(167912),m=n(785893);const _=void 0!==i?i:i=n(224655);function g({direction:e,handleClick:t,testId:n}){const i=(0,l.ZP)(),a=(0,c.Z)();return(0,m.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",paddingBottom:4,paddingTop:4,position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0}},onClick:e=>{a({action:"click",item:"board-pills-arrow"}),t(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":n,children:(0,m.jsx)(r.Z,{id:"board-pills-arrow",children:(0,m.jsx)(p.JO,{accessibilityLabel:i._('Scroll', 'annotations.scrollArrow', 'Accessibility label for scroll arrow button'),icon:"right"===e?"arrow-forward":"arrow-back",size:8,color:"subtle"})})})}function v({name:e,url:t}){const[n,i]=(0,a.useState)(!1),o=(0,c.Z)();return(0,m.jsx)(p.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:(0,m.jsx)(p.xv,{color:n?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:t?(0,m.jsx)(p.rU,{display:"inlineBlock",tapStyle:"compress",href:t,rounding:8,onClick:()=>{o({action:"click",item:"vase-tag"})},underline:"hover",children:e}):e})})}function y({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t,mode:n}){const[i,s]=(0,a.useState)(!1),[l,u]=(0,a.useState)(!1),h=(0,c.Z)(),_=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=_.current,t=()=>{if("inlineWithScrollArrows"===n&&_.current){const e=_.current,t=Math.max(0,e.scrollLeft),n=t+e.clientWidth;s(0!==t),u(n<e.scrollWidth)}else s(!1),u(!1)};return t(),null==e||e.addEventListener("scroll",t),()=>{null==e||e.removeEventListener("scroll",t)}}),[n]);const y=e=>t=>{t.preventDefault(),t.stopPropagation(),"right"===e&&h({action:"click",item:"board-pills-arrow-button-right"});const n=_.current;if(!n)return;const i=("left"===e?-1:1)*n.clientWidth*.5;n.scrollLeft=Math.min(Math.max(n.scrollLeft+i,0),n.scrollWidth)},{annotationsWithLinks:f}=(0,d.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t});return(0,m.jsx)(p.kC,{alignItems:"center",justifyContent:"end",children:(0,m.jsxs)(p.xu,{display:"flex",overflow:"auto",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[(0,m.jsx)(o.Z,{unsafeCSS:"\n::-webkit-scrollbar {\n  display: none;\n}\n"}),i&&(0,m.jsx)(g,{direction:"left",handleClick:y("left"),testId:"left-scroll-arrow"}),(0,m.jsx)(p.xu,{overflow:"auto",padding:0,dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",whiteSpace:"nowrap"}},ref:_,children:f.map((({name:e,url:t})=>(0,m.jsx)(v,{name:e,url:t},t||e)))}),l&&(0,m.jsx)(r.Z,{id:"board-pills-arrow-button-right",children:(0,m.jsx)(g,{direction:"right",handleClick:y("right"),testId:"right-scroll-arrow"})})]})})}function f(e){var t;const n=(0,h.useFragment)(_,e.graphqlRef),i=(0,s.Z)(n),a=(null==n||null===(t=n.pinJoin)||void 0===t?void 0:t.visualAnnotation)||[];return a.length<1?null:(0,m.jsx)(y,{mode:e.mode,pinJoinVisualAnnotation:a,pinJoinAnnotationsWithLinks:i||void 0})}function b(e){var t,n,i;const a=(0,u.S6)()(e.pinId||"");return((null==a||null===(t=a.pin_join)||void 0===t?void 0:t.visual_annotation)||[]).length<1?null:(0,m.jsx)(y,{mode:e.mode,pinJoinVisualAnnotation:null==a||null===(n=a.pin_join)||void 0===n?void 0:n.visual_annotation,pinJoinAnnotationsWithLinks:null==a||null===(i=a.pin_join)||void 0===i?void 0:i.annotations_with_links})}function x(e){return e.graphqlRef?(0,m.jsx)(f,{...e}):(0,m.jsx)(b,{...e})}},385801:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(667294),a=n(927104),o=n(941646),r=n(52022),s=n(867820),l=n(50286),c=n(883119),d=n(785893);function u({boardUrl:e,boardName:t,boardPrivacy:n,pinnerFullName:i,pinnerImageSmallUrl:a,pinnerImageLargeUrl:u}){const p=(0,l.HG)(),h=(0,r.Z)();if(!e||!t)return null;const m=e.split("/")[1],_=i||m,g=a||u;return(0,d.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[g?(0,d.jsx)(c.iP,{role:"link",href:`/${m}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,s.My)(`pcons.${p?"desktop":"mobile"}.see-more-button-creator`),h({action:"click",item:"see-more-button-creator"})},children:(0,d.jsx)(c.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,d.jsx)(c.Ee,{naturalHeight:32,naturalWidth:32,alt:_,fit:"cover",color:"rgb(231, 186, 176)",src:g})})},"profile-link"):null,(0,d.jsxs)(c.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,d.jsx)(o.Z,{id:"see-more-button-creator-full-name",children:(0,d.jsx)(c.iP,{onTap:()=>{(0,s.My)(`pcons.${p?"desktop":"mobile"}.see-more-button-creator-full-name`),h({action:"click",item:"see-more-button-creator-full-name"})},children:(0,d.jsx)(c.xv,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,d.jsx)(c.rU,{href:`/${m}/`,display:"inlineBlock",tapStyle:"compress",underline:"hover",children:_},"profile-link")},"profileLink")})}),"protected"===n?null:(0,d.jsx)(c.xv,{color:"default",inline:!0,size:"100",children:(0,d.jsx)(c.rU,{href:null!=e?e:"",display:"inlineBlock",tapStyle:"compress",underline:"hover",children:null!=t?t:""},"board-link")},"boardLink")]})]})}var p,h=n(898781),m=n(394332),_=n(349700),g=n(780280),v=n(298024),y=n(167912);const f=void 0!==p?p:p=n(877821);function b({onClickTitleOrDomain:e,title:t,description:n,pinId:o,graphqlRef:p,pinCreditPrefix:b,pinDomain:x,boardId:w,boardUrl:S,boardName:P,boardPrivacy:T,pinnerFullName:k,pinnerImageSmallUrl:I,pinnerImageLargeUrl:A}){const C=(0,h.ZP)(),E=(0,l.ml)(),j=(0,l.Wb)(),{isAuthenticated:R,isBot:D}=(0,g.B)(),O=(0,r.Z)(),L=(0,y.useFragment)(f,p),F=!R&&!D&&E,N=e||null,[M,z]=(0,i.useState)(!1),Z=(0,v.si)(),B=(0,v.Re)(),U=(t||"").length>B,H=n.length>Z,[V,$]=(0,i.useState)(!H&&!U);return(0,d.jsxs)(c.xu,{children:[(0,d.jsxs)(c.xu,{children:[(0,d.jsxs)(c.xu,{as:"figcaption",paddingX:j?11:0,children:[(0,d.jsx)(c.X6,{color:"default",size:"300",accessibilityLevel:3,children:M||D?t:(0,a.Z)(t||"",B)}),!!t&&(0,d.jsx)(c.xu,{height:n?8:0}),n&&(H||U)?(0,d.jsxs)(c.iP,{onTap:()=>{M||R||((0,s.NC)("click_open_description_in_sheet"),O({action:"click",item:"more-description-in-sheet"})),$(!V),z(!M)},fullWidth:!1,children:[(0,d.jsx)(c.xv,{color:"default",size:"200",inline:!0,children:M||D?n:(0,a.Z)(n,Z)}),(0,d.jsx)(c.xu,{display:"inlineBlock",paddingX:1,children:(0,d.jsx)(c.xv,{weight:"bold",size:"200",inline:!0,children:M||D?C._('Less', 'Toggle less description button', 'Toggle less description button'):C._('More', 'Toggle more description button', 'Toggle more description button')})})]}):(0,d.jsx)(c.xv,{color:"default",size:"200",inline:!0,children:n})]}),F&&(V||D)&&!!x&&(0,d.jsx)(c.xu,{marginTop:2,children:(0,d.jsx)(c.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,_.nk)(C._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,d.jsx)(c.xu,{display:"inlineBlock",children:(0,d.jsx)(c.xv,{inline:!0,size:"200",children:b})},"pinCreditsPrefix"),pinCredit:(0,d.jsx)(c.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:(0,d.jsx)(c.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),O({action:"click",item:"pin-domain-link"}),(0,s.My)("mweb_pin_page.pin_link.clickthrouh"),R||(0,s.NC)("click_pin_closeup_link_clickthrough"),N&&N()},tapStyle:"compress",children:(0,d.jsx)(c.xv,{size:"200",lineClamp:1,children:(0,d.jsx)("span",{style:{textDecoration:"underline"},children:x})},"pinLinkDomain")})},"pinCredits")})})})]}),!!w&&(V||D)&&(0,d.jsx)(c.xu,{marginTop:4,children:(0,d.jsx)(u,{boardUrl:S,boardName:P,boardPrivacy:T,pinnerFullName:k,pinnerImageSmallUrl:I,pinnerImageLargeUrl:A})}),(0,d.jsx)(c.xu,{marginTop:4,children:(0,d.jsx)(m.Z,{pinId:o,mode:"expanded",graphqlRef:L})})]})}},156637:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),a=n(618446),o=n.n(a),r=n(999023),s=n(385740),l=n(785893);class c extends i.Component{componentDidMount(){const{setCurrentPageData:e,viewData:t,viewParameter:n,viewType:i}=this.props;e({viewData:t,viewParameter:n,viewType:i})}componentDidUpdate(e){const{setCurrentPageData:t,viewData:n,viewParameter:i,viewType:a}=this.props;i===e.viewParameter&&a===e.viewType&&o()(n,e.viewData)||t({viewData:n,viewParameter:i,viewType:a})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){const{auxData:e,children:t,component:n,objectIdStr:i,viewData:a,viewParameter:o,viewType:s,clientTrackingParams:c}=this.props;return(0,l.jsx)(r.Z,{auxData:e,component:n,objectIdStr:i,clientTrackingParams:c,viewData:a,viewParameter:o,viewType:s,children:t})}}function d(e){const{setViewContextData:t,clearViewContextData:n}=(0,s.sV)();return(0,l.jsx)(c,{...e,clearCurrentPageData:n,setCurrentPageData:t})}},999023:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(112690),o=n(867820);const r=({viewType:e,viewParameter:t,viewData:n,auxData:i,objectIdStr:a,component:r,clientTrackingParams:s,element:l},c)=>{const d=(u={event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:i,object_id_str:a,component:r,clientTrackingParams:s,element:l},Object.keys(u).reduce(((e,t)=>(void 0===u[t]&&delete e[t],e)),{...u}));var u;-1===Object.keys(d).indexOf("view_type")&&(0,o.My)("mweb.logging.null_view_type"),c(d)};function s(e){const{auxData:t,clientTrackingParams:n,children:o,component:s,element:l,objectIdStr:c,viewData:d,viewParameter:u,viewType:p}=e,h=(0,a.Z)(),m=JSON.stringify(t),_=JSON.stringify(d);return(0,i.useEffect)((()=>{r(e,h)}),[h,m,n,s,l,c,_,u,p]),i.Children.only(o)}},598615:(e,t,n)=>{n.d(t,{B:()=>m,Z:()=>_});var i=n(667294),a=n(329900),o=n(172071),r=n(938917),s=n(53987),l=n(407043),c=n(385740),d=n(52022),u=n(867820),p=n(276775),h=n(785893);const m=e=>"/"===e.pathname?"/":(0,s.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1);function _({children:e,componentType:t,within:n}){const s=(0,p.useLocation)(),{flushContextEvents:_,logContextEvent:g}=(0,l.v)(),{viewType:v,viewParameter:y}=(0,c.SU)(),f=(0,d.Z)();(0,i.useEffect)((()=>{f({action:"view",item:"download-button",within:n})}),[s,n,f]);const b=(0,i.useRef)(!1);(0,i.useEffect)((()=>{v&&202!==v?(g({component:t||13106,element:10308,event_type:9976,view_type:v,view_parameter:y,aux_data:{app_upsell_type:n,app_upsell_is_dupe:b.current}}),b.current=!0):o.Z.increment("webapp.track_app_upsell_viewed_invalid_parameters",1,{component:t,view_type:v,view_parameter:y,app_upsell_type:n,app_upsell_is_dupe:b.current})}),[t,g,y,v,n]);const x=(0,r.Z)();return(0,i.useEffect)((()=>{x||(0,u.My)(`mweb.app_upsell.forbidden_upsell.${n}`)}),[x,n]),(0,h.jsx)(a.Z,{children:i=>e({handleOpenApp:e=>{var a;(f({action:"click",item:"download-button",within:n}),(0,u.NC)("press_open_app",!0),g({component:t||13106,element:10308,event_type:102,view_type:v||202,view_parameter:y,aux_data:{app_upsell_type:n}}),g({component:t||13106,element:10308,event_type:9977,view_type:v||202,view_parameter:y,aux_data:{app_upsell_type:n}}),_(!0),i)&&(g({component:t||13106,element:10308,event_type:1701,view_type:v||202,view_parameter:y,aux_data:{app_upsell_type:n}}),i(null!==(a=null==e?void 0:e.deepLinkUri)&&void 0!==a?a:m(s),n))}})})}},296679:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(598615),a=n(821997),o=n(430322),r=n(898781),s=n(287072),l=n(948376),c=n(50286),d=n(780280),u=n(664166),p=n(883119),h=n(785893);const m=({copyChangeGroup:e,deepLinkUri:t,isOpen:n,onDismiss:u,onOpenInApp:m,to:_,within:g})=>{var v;const y=(0,r.ZP)(),f=(0,c.Wb)(),{userAgent:{platform:b,raw:x}}=(0,d.B)(),w=(0,l.Rp)({platform:b,userAgent:x}),S=(0,s.Z)({href:null!=_?_:""}),P=f?60:40,T={control:{valueProp:y._('The best experience is on the app', 'mweb.unauth.app_upsell.app_value_prop', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app'),description:y._('Free, unlimited access to ideas', 'mweb.app_upsell.description', 'description on app upsell modal')},enabled_copy_change_1:{valueProp:y._('Pick this up in the app', 'mweb.unauth.app_upsell.app_value_prop1', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app'),description:y._('Continue in the Pinterest app for the best experience', 'mweb.app_upsell.description1', 'description on app upsell modal')},enabled_copy_change_2:{valueProp:y._('Pick this up in the app', 'mweb.unauth.app_upsell.app_value_prop1', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app'),description:y._('Looks like you\u2019ve already downloaded the Pinterest app', 'mweb.app_upsell.description2', 'description on app upsell modal')},enabled_copy_change_3:{valueProp:y._('Pick this up in the app', 'mweb.unauth.app_upsell.app_value_prop1', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app'),description:y._('Looks like you\u2019ve already downloaded Pinterest. Use the app for the best experience.', 'mweb.app_upsell.description3', 'description on app upsell modal')},enabled_copy_change_4:{valueProp:y._('Pinterest is better on the app', 'mweb.unauth.app_upsell.app_value_prop2', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app'),description:y._('Continue in the app for the full experience', 'mweb.app_upsell.description4', 'description on app upsell modal')},enabled_copy_change_5:{valueProp:y._('Pinterest is better on the app', 'mweb.unauth.app_upsell.app_value_prop2', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app'),description:y._('Continue in the app for more ways to discover ideas', 'mweb.app_upsell.description5', 'description on app upsell modal')}},{valueProp:k,description:I}=null!==(v=T[e||"control"])&&void 0!==v?v:{},A=null!=e&&e.startsWith("enabled_copy_change")?y._('Open app', 'mweb.app_upsell.app_upsell_button_text1', 'Button to get the Pinterest Lite app'):y._('Get the app', 'mweb.app_upsell.app_upsell_button_text', 'Button to get the Pinterest Lite app');return(0,h.jsx)(o.default,{accessibilityModalLabel:"",isOpen:n,mobileHideCloseIcon:!0,type:"app_upsell_v1",overrideZDepth:101,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,h.jsx)(i.Z,{componentType:14157,within:g,children:({handleOpenApp:e})=>(0,h.jsxs)(p.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,h.jsx)(p.xu,{display:"inlineBlock",position:"absolute",children:(0,h.jsx)(p.xu,{"data-test-id":"appUpsell-continue",children:(0,h.jsx)(p.hU,{accessibilityLabel:y._('close icon background', 'accesibility label for close icon on a overlay', 'accesibility label for close icon on a overlay'),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{u({event:e}),S&&!e.defaultPrevented&&(t(),S({event:e}))},size:"lg",iconColor:"gray"})})}),(0,h.jsxs)(p.xu,{paddingX:2,paddingY:6,children:[(0,h.jsx)(p.xu,{paddingY:2,justifyContent:"center",display:"flex",children:w?(0,h.jsx)(a.Z,{size:P}):(0,h.jsx)(p.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:P})}),(0,h.jsxs)(p.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,h.jsx)(p.xu,{paddingY:2,children:(0,h.jsx)(p.X6,{align:"center",size:"400",children:w?y._('Try Pinterest Lite', 'mweb.app_upsell.lite_app_upsell_title', 'Mobile Web App Upsell title informing the value of downloading the lite app'):k})}),(0,h.jsx)(p.xv,{align:"center",size:"300",children:w?y._('A space-saving way to discover new ideas', 'mweb.app_upsell.lite_app_value_prop', 'Mobile Web App Upsell subheading informing the user the value of downloading the lite app'):I}),(0,h.jsx)(p.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,h.jsx)(p.zx,{fullWidth:!0,size:"lg",color:"red",onClick:()=>{e({deepLinkUri:t}),m()},text:A})})]})]})]})})})};function _({clientTrackingParams:e,copyChangeGroup:t,deepLinkUri:n,isOpen:i,onDismiss:a,onOpenInApp:o,shouldTrackDismiss:r,to:s,viewParameter:l,viewType:c,within:d}){return(0,h.jsx)(u.Z,{clientTrackingParams:e,viewType:c,viewParameter:l,children:(0,h.jsx)(m,{copyChangeGroup:t,deepLinkUri:n,isOpen:i,onDismiss:e=>{r&&(0,u.y)(),a(e)},onOpenInApp:()=>{(0,u.y)(),o()},to:s,within:d})})}},664166:(e,t,n)=>{n.d(t,{Z:()=>u,y:()=>d});var i=n(667294),a=n(807609),o=n(999023),r=n(30287),s=n(339363),l=n(844974),c=n(785893);const d=()=>{(0,l.Nh)("appUpsell",Date.now()),(0,l.qn)("firstUpsellTime")||(0,l.Nh)("firstUpsellTime",Date.now()),(0,s.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:t,viewParameter:n,viewType:s}){return(0,a.Z)()||(0,r.FP)(window)?null:(0,c.jsx)(o.Z,{viewType:s,viewParameter:n,component:13106,clientTrackingParams:t,children:(0,c.jsx)(i.Fragment,{children:e})})}},938917:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(702664);const a=()=>(0,i.useSelector)((({session:{canUseNativeApp:e}})=>e))},223019:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(702664),a=n(80811),o=n(340494),r=n(52022),s=n(19121),l=n(867820),c=n(130460),d=n(780280),u=n(883119),p=n(712055),h=n(853492),m=n(785893);const _=["thumbnail","imageOnly"];function g({boardId:e,containerBackgroundColor:t,forwardedRef:n,fullSize:g,showFollowButton:v=!0,showPinCount:y=!0,type:f,viewParameter:b,viewType:x}){var w,S,P;const T=(0,s.Z)(),k=T&&T.isAuth,I=(0,i.useDispatch)(),{locale:A}=(0,d.B)(),C=(0,r.Z)(),E=(0,c.gC)()(e),j=(0,o.Z)(),R=T.isAuth?T.id:"";if(!E)return null;const D=E.owner,O=[D,...E.collaborating_users||[]].filter(Boolean).map((({id:e,image_medium_url:t,username:n})=>({id:e,image_medium_url:t,username:n}))),L=(null==D?void 0:D.id)===R,F=O.filter((({id:e})=>e===R)).length>0;if("secret"===E.privacy&&!F)return null;const N="grid"===f||"thumbnail"===f?2:4,M=j(E,N),z={isCustom:E.has_custom_cover,url:M,position:(0,h.Bw)(E.cover_pin)},Z=(0,h.Jx)(E,M).map((({url:e})=>({name:(0,h.po)(e),url:e}))),B=(0,m.jsx)(a.Z,{archivedDate:null!==(w=E.archived_by_me_at)&&void 0!==w?w:void 0,canEdit:!!E.access&&E.access.includes("write"),collaborators:O,collaboratorsCount:E.collaborator_count,containerBackgroundColor:t,coverPhoto:M?z:null,followedByMe:E.followed_by_me,fullSizeDrawer:g,hideMeta:_.includes(f),id:E.id,imagesLego:Z,isAuthenticated:k,isCollaborative:E.is_collaborative,isCollaborator:F,isOwner:L,isProtected:"protected"===E.privacy,isSecret:"secret"===E.privacy,lastModifiedDate:"full"===f?E.board_order_modified_at:"",locale:A,name:null!==(S=E.name)&&void 0!==S?S:"",numCols:N,onFollow:e=>I((0,p.Z)(e)),onUnfollow:e=>I((0,p.f)(e)),owner:D,pinCount:y&&E.pin_count?E.pin_count:void 0,sectionCount:null!==(P=E.section_count)&&void 0!==P?P:0,sensitivityScreen:E.sensitivity_screen,showFollowButton:v,viewParameter:b,viewType:x,viewerId:R});return!_.includes(f)&&E.url?(0,m.jsx)(u.iP,{role:"link",href:E.url,rounding:2,tapStyle:"compress",onTap:()=>{k||((0,l.NC)("click_go_to_board"),C({action:"click",item:"board-card"}))},children:(0,m.jsx)(u.xu,{ref:n,paddingY:3,children:B})}):B}},966676:(e,t,n)=>{n.d(t,{Nb:()=>s,Of:()=>l,YO:()=>r,ZP:()=>u,x4:()=>d});var i=n(667294),a=n(620707),o=n(92261);const r=({showProductDetailPage:e,isLargerPane:t,showCloseupContentRight:n})=>e&&t?n?o.Uj:o.zT:1,s=(0,a.qe)((({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:n,showProductDetailPage:i,viewportSize:a,maxWidth:o,descriptionPaneWidth:r})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:n,showProductDetailPage:i,viewportSize:a,maxWidth:o,descriptionPaneWidth:r}))),l={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:o.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:o.u6,descriptionPaneWidth:o.u6-o.Gg},c=(0,i.createContext)(l);function d(){const e=(0,i.useContext)(c);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}const u=c},92261:(e,t,n)=>{n.d(t,{$T:()=>g,CI:()=>o,Ch:()=>s,Gb:()=>l,Gg:()=>i,Ie:()=>p,KP:()=>h,Kn:()=>r,Uj:()=>c,bx:()=>m,d2:()=>u,g9:()=>_,iB:()=>v,u6:()=>a,zT:()=>d});const i=508,a=2*i,o=488,r=992,s=672,l=1176,c=.6,d=.84,u=40,p=72,h=740,m=912,_=32,g=24,v={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},814197:(e,t,n)=>{n.d(t,{Cq:()=>u,Dk:()=>h,Fk:()=>o,fS:()=>d,km:()=>p,lI:()=>s,lJ:()=>r,mS:()=>c,qW:()=>l,t5:()=>m});var i=n(883119),a=n(977558);const o=new i.Ry(1),r=3,s=new i.Ry(r),l=2,c=new i.Ry(l),d=3,u=4,p=new i.Ry(5),h=new i.Ry(100),m=new i.Ry(a.fe+1)},398061:(e,t,n)=>{n.d(t,{Z:()=>s,e:()=>r});var i=n(780280),a=n(883119),o=n(785893);const r=new a.Ry(1);function s({children:e,isImagePinForUnauthOnTablet:t}){const{isAuthenticated:n}=(0,i.B)();return(0,o.jsxs)(a.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},zIndex:n?void 0:r,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,children:[(0,o.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},440011:(e,t,n)=>{n.d(t,{Z:()=>k});var i=n(667294),a=n(398061),o=n(523657),r=n(63552),s=n(700380),l=n(50286),c=n(898781),d=n(667679),u=n(52022),p=n(867820),h=n(773285),m=n(883119),_=n(785893);function g({setShowClickthroughOverlay:e,isEligibleForPdp:t}){const n=(0,c.ZP)(),a=(0,u.Z)(),o=(0,d.Z)(),r=(0,i.useRef)(),s=(0,l.ZP)(),g="desktop"===s,{checkExperiment:v}=(0,h.F)(),y=n._('Click to make the most out of this idea with a free account', 'web.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account'),f=n._('Tap to make the most out of this idea with a free account', 'mweb.unauth.plp.clickable_wash.header', 'Pin clickable wash header text'),b=n._('Login to save this idea and explore more', 'dweb.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account');let x=f;return g&&(x=v("dweb_signup_to_login_modal").group.startsWith("enabled_pin_wash")?b:y),(0,_.jsx)(m.iP,{onTap:({event:e})=>{g&&(e.preventDefault(),a({action:"click",item:"pin-image"}),(0,p.My)(`dweb.pin.wash.click.${v("dweb_signup_to_login_modal").group}`),o({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:v("dweb_signup_to_login_modal").group.startsWith("enabled_pin_wash")?"login":"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}}),t&&(0,p.My)("unauth.pdp.pin.img.click",{device:s}))},children:(0,_.jsxs)(m.xu,{zIndex:new m.Ry(2),children:[(0,_.jsx)(m.xu,{top:!0,bottom:!0,left:!0,right:!0,width:"100%",height:"100%",display:"flex",alignItems:"center",direction:"column",position:"absolute",ref:r,"data-test-id":"main-pin-hover-overlay",children:(0,_.jsx)(m.xu,{paddingY:10,display:"flex",alignItems:"center",maxWidth:240,direction:"column",children:(0,_.jsx)(m.xu,{marginTop:8,children:(0,_.jsx)(m.X6,{size:"400",align:"center",color:"light",children:x})})})}),!g&&(0,_.jsx)(m.xu,{position:"absolute",top:!0,right:!0,marginTop:4,marginEnd:4,children:(0,_.jsx)(m.hU,{icon:"cancel",iconColor:"white",onClick:({event:t})=>{t.stopPropagation(),e&&(e(!1),(0,p.My)("main.pin.wash.cancel"))},accessibilityLabel:n._('Close pin clickable wash', 'mweb.unauth.plp.clickable_wash.close_button', 'Close button'),size:"md"})})]})})}var v=n(349700);function y({setShouldShowDesktopLearningUpsell:e,setHasDismissedDesktopLearningUpsell:t}){const n=(0,c.ZP)(),i=(0,d.Z)(),{checkExperiment:a}=(0,h.F)(),o=a("dweb_unauth_main_pin_learning_upsell").group;return(0,_.jsx)(m.kC,{justifyContent:"center",children:(0,_.jsxs)(m.xu,{alignItems:"center",direction:"row",display:"flex",height:44,width:"94%",marginTop:4,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},paddingX:2,position:"absolute",rounding:"pill",top:!0,zIndex:new m.Ry(1),children:[(0,_.jsx)(m.iP,{fullHeight:!0,onTap:()=>{(0,p.My)(`unauth.dweb.main_pin.learning_upsell.banner.${o}.click`),i({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_dweb_main_pin_learning_upsell",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}})},children:(0,_.jsxs)(m.kC,{alignItems:"center",height:"100%",children:[(0,_.jsx)(m.xu,{marginStart:2,children:(0,_.jsx)(m.JO,{accessibilityLabel:"pinterest logo",color:"default",icon:"pinterest",size:20})}),(0,_.jsx)(m.xu,{marginStart:2,children:(0,_.jsx)(m.xv,{children:(0,v.nk)(n._('If you like this idea, {{ signup }} to see all the details!', 'unauth.dweb.main_pin.learning_upsell.copy', 'copy on the banner upsell that appears on top of the main pin image on dweb, signup: CTA for the copy'),{signup:(0,_.jsx)(m.xv,{inline:!0,weight:"bold",children:n._('sign up', 'unauth.dweb.main_pin.learning_upsell.copy.cta', 'CTA for the copy on the banner upsell that appears on top of the main pin image on dweb')})})})})]})}),"enabled_hover_dismissible"===o&&(0,_.jsx)(m.xu,{onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:e=>{e.preventDefault(),e.stopPropagation()},zIndex:new m.Ry(2),children:(0,_.jsx)(m.hU,{icon:"cancel",accessibilityLabel:"cancel",size:"sm",onClick:()=>{(0,p.My)("unauth.dweb.main_pin.learning_upsell.close_button.click"),e(!1),t(!0)}})})]})})}var f=n(411465),b=n(744856),x=n(780280),w=n(872482),S=n(691720),P=n(276775);const T=({setMwebTapToZoomExpEnabled:e,isEligibleForTapToZoom:t,children:n})=>{var i;const{isAuthenticated:a}=(0,x.B)(),{checkExperiment:o}=(0,h.F)(),s=(0,c.ZP)(),l=(0,P.useHistory)(),d=(0,P.useRouteMatch)(),u=null===(i=(0,P.useLocation)().state)||void 0===i?void 0:i.trackingParams;return a||t?(0,_.jsx)(r.Z,{onTouch:n=>{if(n.preventDefault(),t||n.stopPropagation(),t&&e){const t=o("unauth_mweb_tap_to_zoom").anyEnabled;if(!t)return;(0,p.My)("unauth.mweb.tap_to_zoom.pin.image.click"),e(t)}l&&d&&d.params&&d.params.id&&l.push(`/pin/${d.params.id}#${b.v}`,{trackingParams:u})},pressState:"compress",fullWidth:!0,accessibilityLabel:s._('Tap on the image to focus visual search', 'Flashlight.CloseupImage.TapArea.a11yLabel', 'tap area for the entire pin image in visual search'),children:n}):n},k=e=>{var t;const n=(0,c.ZP)(),{alt:r,clickthroughOverlayOptions:d,color:u,isFlashlightPage:p,naturalHeight:v,naturalWidth:b,placeholder:P,pwtElementTimingId:k,pwtSurfaceContext:I,setShowClickthroughOverlay:A,setShouldShowDesktopLearningUpsell:C,setHasDismissedDesktopLearningUpsell:E,shouldShowDesktopLearningUpsell:j,showSpinner:R,src:D,setMwebTapToZoomExpEnabled:O,stickyFooter:L,isEligibleForTapToZoom:F,isEligibleForPdp:N}=e,M=(0,f.Z)(),{checkExperiment:z}=(0,h.F)(),Z=!M,{isAuthenticated:B}=(0,x.B)(),U=(0,l.ZP)(),H="desktop"===U,V=B&&!H&&z("auth_mweb_inline_action_bar").anyEnabled,$=(0,i.useRef)(),[K,G]=(0,i.useState)(!Z||!!D&&!!P&&P===D),W=()=>{I&&I.markConstraintComplete("PinPageMainImageRendered")};(0,i.useEffect)((()=>{const e=new Image;e.onload=()=>G(!0),e.src=D}),[]);const q=(0,i.useRef)(null===(t=(0,w.a)())||void 0===t?void 0:t.setHasScrolledPastMainContent);(0,i.useEffect)((()=>{const e=(0,s.Z)((()=>{var e;$.current&&(null===(e=q.current)||void 0===e||e.call(q,window.scrollY>$.current.offsetTop+$.current.offsetHeight))}),10);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]);const[Y,J]=(0,i.useState)();(0,i.useEffect)((()=>{$.current&&J($.current.scrollHeight)}),[]);const X=!p&&"tablet"===U,Q=Z?(0,_.jsx)(o.Z,{alt:r,color:u,elementTiming:k,naturalHeight:v,naturalWidth:b,src:P,onLoad:W}):null;return(0,_.jsx)(T,{setMwebTapToZoomExpEnabled:O,isEligibleForTapToZoom:F,children:(0,_.jsxs)(m.xu,{"data-test-id":"pin-closeup-image",maxHeight:"100%",minHeight:Y,maxWidth:"tablet"===U?S.g6:void 0,overflow:L?void 0:"hidden",position:"relative",width:p||"phone"===U?"100%":H?508:S.Hg,rounding:p||"phone"===U?0:6,ref:$,marginTop:"tablet"===U&&V?12:0,children:[!B&&j&&C&&E&&(0,_.jsx)(y,{setShouldShowDesktopLearningUpsell:C,setHasDismissedDesktopLearningUpsell:E}),!B&&d&&(0,_.jsx)(a.Z,{isImagePinForUnauthOnTablet:!1,children:(0,_.jsx)(g,{setShowClickthroughOverlay:A,isEligibleForPdp:N})}),Q&&(X?(0,_.jsx)(m.xu,{rounding:6,overflow:"hidden",children:Q}):Q),(0,_.jsx)(m.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:K?1:0,transition:K&&!H?"opacity .5s ease-in-out":void 0,backgroundColor:u}},left:!0,position:Z?"absolute":"relative",right:!0,rounding:X?6:5,overflow:X?"hidden":void 0,top:!0,children:Z?(0,_.jsx)(m.Ee,{alt:r,naturalHeight:v,naturalWidth:b,src:D}):(0,_.jsx)(o.Z,{alt:r,color:u,elementTiming:k,naturalHeight:v,naturalWidth:b,src:D,onLoad:W})}),R&&(0,_.jsx)(m.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:K?0:1,transition:K?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!K&&(0,_.jsx)(m.kC,{alignItems:"center",justifyContent:"start",children:(0,_.jsx)(m.$j,{accessibilityLabel:n._('Loading image', 'Loading higher resolution image', 'Loading higher resolution image'),show:!0})})}),L]})})}},538232:(e,t,n)=>{n.d(t,{R:()=>o,q:()=>a});var i=n(425288);const{Provider:a,useHook:o}=(0,i.Z)("CloseupPageContext")},183007:(e,t,n)=>{n.d(t,{N:()=>b,Z:()=>x});var i=n(667294),a=n(223815),o=n(248041),r=n(898781),s=n(52022),l=n(867820),c=n(883119),d=n(785893);function u({icon:e}){const{hide:t}=(0,o.Z)(),n=(0,r.ZP)(),i=(0,s.Z)();return(0,d.jsx)(a.Z,{children:(0,d.jsx)(c.xu,{"data-test-id":"expandButton",children:(0,d.jsx)(c.hU,{icon:e||"maximize",size:e?"md":"lg",iconColor:"darkGray",bgColor:"white",padding:3,accessibilityLabel:n._('Expand Image', 'mweb.closeup.image.expand.a11y', 'Accessibility label for the expand icon'),onClick:({event:e})=>{e.stopPropagation(),(0,l.My)("mweb_pin_page.pin_image.enlarge_image"),(0,l.NC)("click_expand_image"),i({action:"click",item:"expand-button",within:"pin-image"}),t()}})})})}var p=n(700380),h=n(50286),m=n(792182),_=n(398061),g=n(444445),v=n(773285);const y=.3,f=.75,b=new c.H3([_.e]),x=({children:e,closableDrawer:t})=>{var n;const{hide:a}=(0,o.Z)(),r=(0,i.useRef)(null),s=(0,i.useRef)(null),[l,_]=(0,i.useState)(null),[x,w]=(0,i.useState)(0),[S,P]=(0,i.useState)(!1),T=(null===(n=(0,m.Z)())||void 0===n?void 0:n.height)||0,[k,I]=(0,i.useState)(!1),A=(0,h.ZP)(),{checkExperiment:C}=(0,v.F)(),E=null!=l?l:.75*T,j=()=>{var e;const t=(null===(e=r.current)||void 0===e?void 0:e.offsetTop)||0;return t>0&&T>0?t-T*y+60:0};return(0,i.useEffect)((()=>{const e=()=>{var e;const t=(null===(e=r.current)||void 0===e?void 0:e.offsetTop)||0;window.scrollY+E>t&&a()};e();const t=(0,p.Z)(e,10);return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)}),[a,E]),(0,d.jsxs)(i.Fragment,{children:[(0,d.jsxs)(c.xu,{position:"fixed",bottom:!0,left:!0,right:!0,color:"default",zIndex:b,height:null===l?"25vh":`calc(100vh - ${l}px)`,dangerouslySetInlineStyle:{__style:{...S?{transitionDuration:"500ms",transitionProperty:"maxHeight, borderRadius"}:{},borderRadius:0===l&&S?0:"32px 32px 0 0",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.3)",overscrollBehavior:"none",touchAction:"none"}},"data-test-id":"related-pins-drawer","data-layout-shift-boundary-id":"Drawer",ref:s,onTouchStart:e=>{const{clientY:t}=e.touches[0];w(t),P(!1)},onTouchMove:e=>{e.preventDefault();const{clientY:t}=e.touches[0],n=null!=l?l:.75*window.innerHeight,i=t-x;if(null!==n&&i){const e=T*y,t=T*f,o=Math.floor(Math.min(t,Math.max(e,n+i)));_(o);const r=j();if(T>0&&r>0){const e=r*(a=o/T,1-(Math.max(y,Math.min(f,a))-y)/.45);window.pageYOffset<e&&window.scrollTo({top:e})}o<.525*T&&I(!0)}var a;w(t)},onTouchEnd:()=>{if(k){P(!0);_(T*y);const e=j();e&&window.scrollTo({top:e,behavior:"smooth"}),I(!1)}},children:["desktop"!==A&&(t?(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:!0,margin:1,marginTop:t?0:4,paddingY:1,children:(0,d.jsx)(u,{icon:"cancel"})}):!C("pcons_remove_expand_button").anyEnabled&&(0,d.jsx)(c.xu,{position:"absolute",top:!0,right:!0,children:(0,d.jsx)(c.xu,{position:"absolute",bottom:!0,right:!0,children:(0,d.jsx)(c.xu,{padding:3,children:(0,d.jsx)(u,{})})})})),(0,d.jsx)(c.xu,{paddingX:g.D6,children:e})]}),(0,d.jsx)(c.xu,{ref:r,height:"100vh"})]})}},350948:(e,t,n)=>{n.d(t,{IS:()=>b,Ys:()=>f,ZP:()=>A,j$:()=>S});var i,a=n(667294),o=n(485710),r=n(134185),s=n(319530),l=n(50286),c=n(349700),d=n(578661),u=n(923297),p=n(773285),h=n(350118),m=n(898781),_=n(883119),g=n(167912),v=n(785893);const y=void 0!==i?i:i=n(906587),f=({m:e,h:t,rm:n,rh:i},a,o=!1)=>e&&(!t||i<=0)?o?(0,c.nk)(a._('{{mins}}min', 'closeup.makeRecipeTimeText.minutes', 'number showing the minutes to complete a recipe'),{mins:n.toString()}):(0,c.nk)(a.ngettext('{{mins}} minute', '{{mins}} minutes', n, 'number showing the minutes to complete a recipe', 'number showing the minutes to complete a recipe'),{mins:n.toString()}):t?o?(0,c.nk)(a._('{{hrs}}hr', 'closeup.makeRecipeTimeText.hours', 'number showing the hours to complete a recipe'),{hrs:i.toString()}):(0,c.nk)(a.ngettext('{{hrs}} hour', '{{hrs}} hours', i, 'number showing the hours to complete a recipe', 'number showing the hours to complete a recipe'),{hrs:i.toString()}):null,b=({m:e,h:t,rm:n,rh:i,i18n:a})=>e&&(!t||i<=0)?(0,c.nk)(a._('{{mins}}m', 'number showing minutes to complete a recipe', 'number showing mnutes to complete a recipe'),{mins:n.toString()}):t?(0,c.nk)(a._('{{hrs}}h {{mins}}m', 'number showing hours to complete a recipe', 'number showing hours to complete a recipe'),{hrs:t.toString(),mins:e.toString()}):null,x=(e,t)=>{const n=e&&e.length>0&&e.join(", "),i=t&&t.summary;return n&&i?`${n}  ${i}`:n||i},w=e=>e?e.reduce(((e,t)=>{var n,i;return e+(null!==(n=null===(i=t.ingredients)||void 0===i?void 0:i.length)&&void 0!==n?n:0)}),0):0,S=({cookTimesCookM:e,cookTimesCookH:t,cookTimesTotalM:n,cookTimesTotalH:i,hasCookTimesTotal:a,i18n:o,isShortened:r})=>{let s;return s=a?(0,u.X)({m:n||0,h:i||0}):(0,u.X)({m:e||0,h:t||0}),f(s,o,r)};function P({category:e,ingredients:t,textSize:n="300",isOnePinEnabled:i}){return(0,v.jsxs)(_.xu,{marginBottom:4,children:[e&&(0,v.jsx)(_.xu,{children:(0,v.jsx)(_.xv,{weight:"bold",size:n,children:e})}),(null!=t?t:[]).map((e=>{var t,a;return(0,v.jsx)(_.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,v.jsxs)(_.xv,{size:n,children:[i?"":""," ",e.amt||null," ",e.name]})},`${null!==(t=e.name)&&void 0!==t?t:""}-${null!==(a=e.name)&&void 0!==a?a:""}`)}))]})}const T=({categorizedIngredients:e,cookTimes:t,image:n,ingredientCount:i,ingredientsDescription:c,name:u,pinLink:h})=>{var g,y,f,b;const x=(0,m.ZP)(),{checkExperiment:w}=(0,p.F)(),T=(0,l.ZP)(),k=w("closeup_dweb_unauth_onepin_title_and_description").anyEnabled;if(!S({cookTimesCookM:null==t||null===(g=t.cook)||void 0===g?void 0:g.m,cookTimesCookH:null==t||null===(y=t.cook)||void 0===y?void 0:y.h,cookTimesTotalM:null==t||null===(f=t.total)||void 0===f?void 0:f.m,cookTimesTotalH:null==t||null===(b=t.total)||void 0===b?void 0:b.h,hasCookTimesTotal:!(!t||!t.total),i18n:x,isShortened:k})&&!i&&!c)return null;const I="desktop"===T,A=x._('Ingredients', 'Closeup.PinRecipe.ingredientsLabel', 'Ingredients category heading for recipes');return(0,v.jsxs)(_.xu,{"data-test-id":"pin-recipe-container",display:"flex",direction:"column",marginTop:8,children:[(0,v.jsxs)(_.xu,{direction:"column",display:"flex",marginTop:4,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(!k||!I)&&(0,v.jsx)(_.xu,{marginBottom:4,children:(0,v.jsx)(_.xv,{weight:"bold",align:"desktop"===T?"start":"center",children:A})}),(0,v.jsxs)(r.Z,{itemScope:!0,itemType:d.G,children:[(0,v.jsx)("meta",{content:u,itemProp:"name"}),n&&(0,v.jsx)("meta",{content:n,itemProp:"image"}),k&&I&&(0,v.jsx)(_.xu,{"data-test-id":"one-pin-layout",children:Array.isArray(e)&&e.length>0&&(0,v.jsx)(o.Z,{heading:A,children:(0,v.jsx)(s.Z,{children:e.map((({category:e,ingredients:t},n)=>{const i=`ingredient-${n}`;return(0,v.jsx)(a.Fragment,{children:(0,v.jsx)(_.xu,{marginBottom:4,children:(0,v.jsx)(P,{category:e,ingredients:t,textSize:"300",isOnePinEnabled:k})})},i)}))})})}),(!k||!I)&&Array.isArray(e)&&e.length>0&&(0,v.jsx)(_.xu,{column:12,"data-test-id":"single-column-ingredients",children:e.map((({category:e,ingredients:t},n)=>(0,v.jsx)(_.xu,{marginBottom:2,children:(0,v.jsx)(P,{category:e,ingredients:t,textSize:"300",isOnePinEnabled:k})},n)))})]})]}),(!k||!I)&&(0,v.jsx)(_.xu,{marginBottom:4,display:"flex",justifyContent:"phone"===T?"center":void 0,children:h&&(0,v.jsx)(_.zx,{text:x._('Make it', 'closeup.recipe.make_it_button', 'label for button go to recipe link'),role:"link",href:h,target:"blank"})})]})},k=({graphqlRef:e,checkExperiment:t})=>{const n=(0,g.useFragment)(y,e),{imageSpec_474x:i,link:a,richMetadata:o}=n,r=null==o?void 0:o.recipe,s=null==r?void 0:r.categorizedIngredients,l=w(s),c=(null==r?void 0:r.categorizedIngredients)&&x(r.diets,r.servingsSummary);return(0,v.jsx)(T,{categorizedIngredients:s,cookTimes:null==r?void 0:r.cookTimes,image:null==i?void 0:i.url,ingredientCount:l,ingredientsDescription:c,name:null==r?void 0:r.name,pinLink:a,checkExperiment:t})},I=({pinId:e,checkExperiment:t})=>{var n,i;const a=(0,h.S6)()(e),o=(null==a||null===(n=a.rich_metadata)||void 0===n?void 0:n.recipe)||{},{cook_times:r,name:s,categorized_ingredients:l,diets:c,servings_summary:d}=o,u=w(l),p=l&&x(c,d);return(0,v.jsx)(T,{categorizedIngredients:l,cookTimes:r,image:(null===(i=((null==a?void 0:a.images)||{})["474x"])||void 0===i?void 0:i.url)||"",ingredientCount:u,ingredientsDescription:p,name:s,pinLink:(null==a?void 0:a.link)||"",checkExperiment:t})};function A({graphqlRef:e,pinId:t}){const{checkExperiment:n}=(0,p.F)();return e?(0,v.jsx)(k,{graphqlRef:e,checkExperiment:n}):(0,v.jsx)(I,{pinId:t,checkExperiment:n})}},95551:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(898781),a=n(883119),o=n(780280),r=n(785893);const s=({onSendButtonClick:e,trackShareTap:t,color:n,size:s,bgColor:l})=>{const c=(0,i.ZP)(),{userAgent:{platform:d}}=(0,o.B)(),u="android"===d;return(0,r.jsx)(a.hU,{accessibilityLabel:c._('Send', 'Board.Pin.SendButton', 'Accessible label for button to send a pin or a board'),onClick:({event:n})=>{e(n),t()},size:s||"lg",bgColor:l||"transparent",iconColor:n||"darkGray",icon:u?"android-share":"share"})}},763839:(e,t,n)=>{n.d(t,{w:()=>l,z:()=>s});var i=n(667294),a=n(425288),o=n(785893);const{Provider:r,useMaybeHook:s}=(0,a.Z)("CloseupPreviewContext");function l({children:e}){const[t,n]=(0,i.useState)(Object.freeze({})),a=(0,i.useMemo)((()=>({setData:(e,t)=>n((n=>({...n,[e]:t}))),getData:e=>t[e]})),[t]);return(0,o.jsx)(r,{value:a,children:e})}},744856:(e,t,n)=>{n.d(t,{v:()=>i});const i="imgViewer"},298024:(e,t,n)=>{n.d(t,{Ph:()=>a,Re:()=>r,si:()=>o});var i=n(50286);const a=e=>e&&e.promoter&&!e.is_downstream_promotion?e.promoter:null,o=()=>"phone"!==(0,i.ZP)()?180:130,r=()=>"phone"!==(0,i.ZP)()?180:80},248041:(e,t,n)=>{n.d(t,{Z:()=>c,t:()=>l});var i=n(667294),a=n(867820),o=n(276775),r=n(785893);const s=(0,i.createContext)({hide:()=>{},isHidden:!0,isScrolledToPins:!1,scrollToPins:()=>{}});function l({children:e,isEligible:t}){const[n,l]=(0,i.useState)(!t),[c,d]=(0,i.useState)(!1),{pathname:u}=(0,o.useLocation)();(0,i.useEffect)((()=>{l(!t)}),[u,t]);const p=(0,i.useCallback)((()=>{(0,a.My)("web_unification.expand_click.hide_drawer"),l(!0)}),[]),h=(0,i.useCallback)((e=>{d(!!e)}),[]),m=(0,i.useMemo)((()=>({isHidden:n,hide:p,isScrolledToPins:c,scrollToPins:h})),[n,p,c,h]);return(0,r.jsx)(s.Provider,{value:m,children:e})}const c=()=>(0,i.useContext)(s)},759177:(e,t,n)=>{n.d(t,{Z:()=>r});var i,a=n(167912);const o=void 0!==i?i:i=n(96795);const r=e=>function(e){var t,n,i,a,o,r,s,l,c,d,u,p,h,m,_,g,v,y,f,b,x,w,S,P,T,k,I;return{"60x60":{height:(null==e||null===(t=e.imageSpec_60x60)||void 0===t?void 0:t.height)||void 0,url:(null==e||null===(n=e.imageSpec_60x60)||void 0===n?void 0:n.url)||void 0,width:(null==e||null===(i=e.imageSpec_60x60)||void 0===i?void 0:i.width)||void 0},"136x136":{height:(null==e||null===(a=e.imageSpec_136x136)||void 0===a?void 0:a.height)||void 0,url:(null==e||null===(o=e.imageSpec_136x136)||void 0===o?void 0:o.url)||void 0,width:(null==e||null===(r=e.imageSpec_136x136)||void 0===r?void 0:r.width)||void 0},"170x":{height:(null==e||null===(s=e.imageSpec_170x)||void 0===s?void 0:s.height)||void 0,url:(null==e||null===(l=e.imageSpec_170x)||void 0===l?void 0:l.url)||void 0,width:(null==e||null===(c=e.imageSpec_170x)||void 0===c?void 0:c.width)||void 0},"236x":{height:(null==e||null===(d=e.imageSpec_236x)||void 0===d?void 0:d.height)||void 0,url:(null==e||null===(u=e.imageSpec_236x)||void 0===u?void 0:u.url)||void 0,width:(null==e||null===(p=e.imageSpec_236x)||void 0===p?void 0:p.width)||void 0},"474x":{height:(null==e||null===(h=e.imageSpec_474x)||void 0===h?void 0:h.height)||void 0,url:(null==e||null===(m=e.imageSpec_474x)||void 0===m?void 0:m.url)||void 0,width:(null==e||null===(_=e.imageSpec_474x)||void 0===_?void 0:_.width)||void 0},"564x":{height:(null==e||null===(g=e.imageSpec_564x)||void 0===g?void 0:g.height)||void 0,url:(null==e||null===(v=e.imageSpec_564x)||void 0===v?void 0:v.url)||void 0,width:(null==e||null===(y=e.imageSpec_564x)||void 0===y?void 0:y.width)||void 0},"736x":{height:(null==e||null===(f=e.imageSpec_736x)||void 0===f?void 0:f.height)||void 0,url:(null==e||null===(b=e.imageSpec_736x)||void 0===b?void 0:b.url)||void 0,width:(null==e||null===(x=e.imageSpec_736x)||void 0===x?void 0:x.width)||void 0},"600x315":{height:(null==e||null===(w=e.imageSpec_600x315)||void 0===w?void 0:w.height)||void 0,url:(null==e||null===(S=e.imageSpec_600x315)||void 0===S?void 0:S.url)||void 0,width:(null==e||null===(P=e.imageSpec_600x315)||void 0===P?void 0:P.width)||void 0},orig:{height:(null==e||null===(T=e.imageSpec_orig)||void 0===T?void 0:T.height)||void 0,url:(null==e||null===(k=e.imageSpec_orig)||void 0===k?void 0:k.url)||void 0,width:(null==e||null===(I=e.imageSpec_orig)||void 0===I?void 0:I.width)||void 0}}}((0,a.useFragment)(o,e))},356725:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var i=n(702664),a=n(834911),o=n(447948),r=n(35495),s=n(407043),l=n(350118),c=n(966676),d=n(883119),u=n(785893);function p({carouselData:e,carouselIndex:t,componentType:n,contextLogData:p,handleCarouselSwipe:h,isCloseup:m,isEditMode:_,pinId:g,viewParameter:v,viewType:y,variant:f}){const{logContextEvent:b}=(0,s.v)(),x=(0,l.S6)()(g),w=e||(0,a.Z)({carouselData:null==x?void 0:x.carousel_data,images:null==x?void 0:x.images,richMetadata:null==x?void 0:x.rich_metadata,richSummary:null==x?void 0:x.rich_summary}),S=(0,i.useDispatch)();if(!w)return null;const P=(e,t,i)=>{_||void 0===o.yR||(e.preventDefault(),e.stopPropagation(),S((0,o.yR)(String(g),i))),void 0!==h&&h(i),((e,t,n,i=0,a,o,s,l,c,d,u)=>{if(!u){const{carousel_slots:u,id:p}=o;e({event_type:108,object_id_str:n,component:c,view_type:l,view_parameter:s,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==u?void 0:u[i])&&Number(u[i].id),carouselDataId:Number(p),carouselSlotIndex:i,toCarouselSlotIndex:a}},aux_data:{...d,...(0,r.Kl)(t)||{}}})}})(b,x,g,t,i,w,v,y,n,p,_)},{carousel_slots:T=[],index:k}=w,I=void 0!==t?t:k,A="default"===f,C=A?"white":"#555",E=A?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,u.jsx)(c.ZP.Consumer,{children:({viewportSize:e})=>"sm"===e?null:(0,u.jsx)(d.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:m?"end":"center",paddingY:_?1:0,children:[...Array(T.length).keys()].map((e=>{var t;return(0,u.jsx)(d.xu,{paddingX:1,children:(0,u.jsx)(d.iP,{accessibilityLabel:null!==(t=T[e].title)&&void 0!==t?t:"",fullWidth:!1,onTap:({event:t})=>P(t,I,e),rounding:"circle",children:(0,u.jsx)(d.xu,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===I?C:E}},rounding:"circle"})})},g+e)}))})})}},876371:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),a=n(564194),o=n(834911),r=n(737022),s=n(310227),l=n(350118),c=n(898781),d=n(883119),u=n(455024),p=n(444445),h=n(785893);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends i.Component{constructor(...e){super(...e),m(this,"state",{showBadge:!0}),m(this,"renderBadge",(()=>{const{carouselData:e,isCloseup:t,showCarouselBadge:n}=this.props;if(!e)return null;const{showBadge:i}=this.state,{carousel_slots:a,index:o}=e,r=i?.8:0;return!t&&n?(0,h.jsx)(d.xu,{alignItems:"center",color:"selected",display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new d.Ry(1),dangerouslySetInlineStyle:{__style:{opacity:r,transition:"opacity .3s"}},children:(0,h.jsx)(d.xv,{color:"inverse",children:`${(null!=o?o:0)+1}/${(null!=a?a:[]).length}`})}):null}))}componentDidMount(){this.hideBadgeTimeout=setTimeout((()=>this.setState({showBadge:!1})),3e3)}componentDidUpdate(e){const{showBadge:t}=this.state,{carouselData:n}=e,{carouselData:i}=this.props;if(!n||!i)return;const{index:a}=n,{index:o}=i;t&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout((()=>this.setState({showBadge:!1})),3e3)),a!==o&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}componentWillUnmount(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}render(){const{isCloseup:e,carouselIndex:t,closeupHeight:n,closeupWidth:i=0,widthRatio:o=1,cropHeight:l,cropWidth:c,carouselData:m,disableTransition:_,highResOnly:g,lowResOnly:v,onError:y,onLoad:f,pinId:b,isEditMode:x,isDenseView:w,pin:S}=this.props;if(!m)return null;if(o>1||o<0)throw new Error("widthRatio should be between 0 and 1 inclusive");const{carousel_slots:P=[],index:T=0}=m,k=void 0!==t?t:T,I=!e&&c,{images:A}=P[k];let C;C=e?i:I||(g?474:w?p.Lo:p.yF);const E=Math.floor(C*o),j=(null==A?void 0:A["236x"])||{},R=l||j.height||0,D=c||j.width||236,O=n||R/D*E,L=(e=>{const t=e.reduce(((e,t)=>{var n;const{images:i}=t,{height:a=1,width:o=1}=(null==i?void 0:i["736x"])||(null==i?void 0:i["236x"])||{},r=`${o}x${a}`,s=(null===(n=e[r])||void 0===n?void 0:n.times)||0;return{...e,[r]:{imageHeight:a,imageWidth:o,times:s+1}}}),{}),n=Object.keys(t).reduce(((e,n)=>t[n].times>e.times?t[n]:e),{times:-1,imageHeight:-1,imageWidth:-1});return Object.keys(t).length>1?{imageHeight:n.imageHeight,imageWidth:n.imageWidth}:null})(P);return(0,h.jsxs)(d.xu,{height:O,display:"flex",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",minHeight:s.Ml,"data-test-image-signature":null==S?void 0:S.image_signature,children:[!x&&this.renderBadge(),(0,h.jsx)(a.Z,{carouselData:m,trackCarousel:!0,impressionType:"Pin",loggingId:b,slotIndex:T,viewParameter:72,viewType:1,children:(0,h.jsx)(d.xu,{position:"absolute",height:O,width:E,overflow:"hidden"})},`carousel-impression-key-${k}`),(0,h.jsx)(d.xu,{width:E*P.length,dangerouslySetInlineStyle:{__style:{transition:_?"":"left .3s",left:(0,u.vF)(P.length,E,C,k)}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative",children:P.map(((t,n)=>{if(e){const e=n===P.length-1;return(({pinId:e,slot:t,slotIndex:n,onError:i,onLoad:a,widthToUse:o,gap:s},l)=>{const{url:c,width:p,height:m}=(0,r.Z)(t.images)||{},{details:_=""}=t,g=(0,u.GH)(_,l,n);return(0,h.jsx)(d.xu,{"data-test-id":"carousel-slot-container",width:o,height:"100%",marginEnd:s,children:(0,h.jsx)(d.zd,{height:"100%",wash:!0,children:(0,h.jsx)(d.Ee,{alt:g,fit:"contain",naturalHeight:null!=m?m:1,naturalWidth:null!=p?p:1,onError:i,onLoad:a,src:null!=c?c:""})})},`carousel-slot-${e}-${n}`)})({pinId:b,slot:t,slotIndex:n,onError:y,onLoad:f,widthToUse:E,gap:E<C&&!e?1:0},this.props.i18n)}return((e,t,n,i,a,o,r,s,l,c,p,m,_,g,v)=>{var y,f,b;const{images:x,details:w=""}=t;let S,P=236,T=236,k="";var I,A,C,E,j,R,D,O;if(a?(P=474,T=x&&Math.min(P/.8,P/((null!==(I=null===(A=x["564x"])||void 0===A?void 0:A.width)&&void 0!==I?I:1)/(null!==(C=null===(E=x["564x"])||void 0===E?void 0:E.height)&&void 0!==C?C:1))),k=x&&(null===(j=x["564x"])||void 0===j?void 0:j.url)):x&&x["736x"]?(T=x&&x["736x"]&&x["736x"].height,P=x&&x["736x"]&&x["736x"].width,k=x&&x["736x"]&&x["736x"].url):x&&x["236x"]&&(T=x&&x["236x"]&&x["236x"].height,P=x&&x["236x"]&&x["236x"].width,k=x&&x["236x"]&&x["236x"].url),_&&g&&(T=Math.min(_*g,null!==(R=T)&&void 0!==R?R:1)),o)S=`${null!==(D=null==x||null===(O=x["236x"])||void 0===O?void 0:O.url)&&void 0!==D?D:""} 1x`;else if(a){var L,F;S=`${null!==(L=null==x||null===(F=x["564x"])||void 0===F?void 0:F.url)&&void 0!==L?L:""} 1x`}else{var N,M,z;S=[(null==x?void 0:x["474x"])&&`${null!==(N=x["474x"].url)&&void 0!==N?N:""} 2x`,(null==x?void 0:x["736x"])&&`${null!==(M=x["736x"].url)&&void 0!==M?M:""} 3x`,(null==x?void 0:x.orig)&&`${null!==(z=x.orig.url)&&void 0!==z?z:""} 4x`].filter(Boolean).join(", ")}const Z=(0,u.GH)(w,e,i),B=m?void 0:T,U=m?void 0:P,H=!!v,{boxHeight:V,boxWidth:$}=H?{boxHeight:null==v?void 0:v.imageHeight,boxWidth:null==v?void 0:v.imageWidth}:{boxHeight:B,boxWidth:U};return(0,h.jsx)(d.xu,{"data-test-id":"carousel-slot-container",height:V,width:$,children:(0,h.jsx)(d.xu,{height:m?p:void 0,width:m||void 0,"data-test-id":`carousel-img-${i}`,children:(0,h.jsx)(d.Ee,{alt:Z,fit:m?"cover":"none",naturalHeight:null!==(y=T)&&void 0!==y?y:1,naturalWidth:null!==(f=P)&&void 0!==f?f:1,onError:r,onLoad:s,src:null!==(b=k)&&void 0!==b?b:"",srcSet:S})})},`carousel-slot-${n}-${i}`)})(this.props.i18n,t,b,n,g,v,y,f,0,0,l,c,O,E,L)}))})]})}}function g(e){const t=(0,c.ZP)(),n=(0,l.S6)()(e.pinId)||e.pin,i=(0,o.Z)({carouselData:null==n?void 0:n.carousel_data,images:null==n?void 0:n.images,richMetadata:null==n?void 0:n.rich_metadata,richSummary:null==n?void 0:n.rich_summary,shouldUnifyImageSizes:!0});return(0,h.jsx)(_,{...e,carouselData:i,i18n:t})}m(_,"defaultProps",{showCarouselBadge:!0})},455024:(e,t,n)=>{n.d(t,{CU:()=>o,GH:()=>l,Iw:()=>s,gA:()=>c,tD:()=>r,vF:()=>d});const i=({containerWidth:e,contentWidth:t,index:n,slotAndGapWidth:a})=>{const o=n-1,r=o*a;return t-r>=e?r:i({index:o,slotAndGapWidth:a,containerWidth:e,contentWidth:t})},a=({containerWidth:e,contentWidth:t,gap:n,index:a,slidesShownPerPosition:o,slotAndGapWidth:r})=>i({containerWidth:e,contentWidth:t,index:a,slotAndGapWidth:r})+(({slidesShownPerPosition:e,slotAndGapWidth:t})=>t-(e-parseInt(e,10))*t)({slidesShownPerPosition:o,slotAndGapWidth:r})-n,o=({containerWidth:e,gap:t,index:n,numberOfSlides:i,slotWidth:o})=>{const r=o+t,s=r*i;if(s<=e)return 0;const l=e/r,c=(({index:e,numberOfSlides:t,slidesShownPerPosition:n})=>t-e-Math.floor(n)<1)({index:n,numberOfSlides:i,slidesShownPerPosition:l})?a({containerWidth:e,contentWidth:s,gap:t,index:n,slidesShownPerPosition:l,slotAndGapWidth:r}):n*r;return c?Math.round(-c):0},r=({containerWidth:e,gap:t,index:n,numberOfSlides:i,slotWidth:a})=>{const r=(a+t)*i;if(r<=e||0===e)return!0;const s=o({containerWidth:e,gap:t,index:n,numberOfSlides:i,slotWidth:a}),l=r-e;return Math.abs(s)+t>=l},s=({containerWidth:e,currentIndex:t,gap:n,index:i,numberOfSlides:a,slotWidth:r})=>{const s=r+n;if(s*a<=e||0===e)return!0;return o({containerWidth:e,gap:n,index:t,numberOfSlides:a,slotWidth:r})+s*i<e+s},l=(e,t,n)=>e||`${t._('carousel image', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed')} ${n}`,c=({highResOnly:e,lowResOnly:t,slot:n})=>{var i,a,o;const{images:r}=n;var s,l,c,d;return t?`${null!==(s=null==r||null===(l=r["236x"])||void 0===l?void 0:l.url)&&void 0!==s?s:""} 1x`:e?`${null!==(c=null==r||null===(d=r["564x"])||void 0===d?void 0:d.url)&&void 0!==c?c:""} 1x`:[(null==r?void 0:r["474x"])&&`${null!==(i=r["474x"].url)&&void 0!==i?i:""} 2x`,(null==r?void 0:r["736x"])&&`${null!==(a=r["736x"].url)&&void 0!==a?a:""} 3x`,(null==r?void 0:r.orig)&&`${null!==(o=r.orig.url)&&void 0!==o?o:""} 4x`].filter(Boolean).join(", ")},d=(e,t,n,i,a=0)=>{if(n===t)return i*t*-1;const o=Math.floor(n-t),r=t+a;return i===e-1?-1*i*r+o:-1*i*r}},865607:(e,t,n)=>{n.d(t,{O:()=>c,Z:()=>d});var i=n(667294),a=n(898781),o=n(966113),r=n(883119),s=n(785893);const l={xs:12,sm:16,md:20,lg:24};function c({children:e}){const t=(0,a.ZP)();return(0,s.jsx)(r.u,{link:(0,s.jsx)(r.rU,{href:o.vB,target:"blank",children:(0,s.jsx)(r.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:n,showText:o,size:d}){const u=(0,a.ZP)(),p=(0,s.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,s.jsx)(r.JO,{accessibilityLabel:u._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:l[d]}),o&&(0,s.jsx)(r.xu,{marginStart:2,children:(0,s.jsx)(r.xv,{color:"shopping",inline:!0,weight:"bold",children:u._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,s.jsxs)(i.Fragment,{children:[n&&!t&&(0,s.jsx)(c,{children:p}),n&&t&&p,e&&!n&&(0,s.jsx)(r.JO,{accessibilityLabel:u._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:l[d]})]})}},998651:(e,t,n)=>{n.d(t,{L:()=>s,r:()=>r});var i=n(385740),a=n(909499);const o=["search_articles_story","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_for_you_upsell"];function r({query:e,rs:t,scope:n},o){const r=(0,i.BE)(),s=!(null!=r&&r.viewType||null!=r&&r.viewParameter),l=(0,a.wF)(n);if(!s&&l){const{viewType:n,viewParameter:i}=null!=r?r:{};o({event_type:l,view_type:n,view_parameter:i,aux_data:{query:e,rs:t||"Unknown"}})}"hashtag_closeup"===t?o({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===t&&o({event_type:101,component:0,element:10349,view_type:142})}const s=(e=[])=>{let t=!0;return e.reduce(((e,n)=>{var i;return t&&n.story_type&&o.includes(n.story_type)&&0===(null===(i=n.display_options)||void 0===i?void 0:i.num_columns_requested)?e.searchFullWidthStories.push(n):(t=!1,e.filteredResults.push(n)),e}),{searchFullWidthStories:[],filteredResults:[]})}},679031:(e,t,n)=>{n.d(t,{G9:()=>u,c$:()=>h,cn:()=>m,gG:()=>p,kk:()=>d});var i=n(63552),a=n(19121),o=n(883119),r=n(720946),s=n(305324),l=n(50286),c=n(785893);const d=({isDesktop:e})=>{const t=(0,r.pinRepPaddingInBoint)({isDesktop:e});return t?-t:0},u=-2,p=()=>{const e=(0,l.HG)(),t=(0,r.pinRepPaddingInBoint)({isDesktop:e}),n=t?-t:0;return(0,c.jsx)(o.xu,{marginTop:n,marginBottom:n,paddingY:t})},h=({children:e,feedRef:t,viewParameter:n,viewType:i})=>(0,a.Z)().isAuth?e:(0,c.jsx)(s.g,{feedRef:t,viewParameter:n,viewType:i,children:e}),m=({children:e})=>(0,c.jsx)(i.Z,{onTouch:e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){const t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}},pressState:"none",children:e})},245376:(e,t,n)=>{function i(e){return e&&5!==e?4===e?"stela":null:"related_products"}n.d(t,{Z:()=>i})},821997:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e,noCircle:t}){return(0,i.jsxs)("svg",{height:e,style:{display:"block"},viewBox:t?"3 3 70 70":"-3 -3 82 82",width:e,children:[t?null:(0,i.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,i.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},886076:(e,t,n)=>{function i({isEligibleForPdp:e,isOosProduct:t,isStaleProduct:n,pinShoppingFlags:i}){if(i){const a=i,o={pin_is_shop_the_look:a.includes(2),pin_show_pdp:e||t||n,is_available:a.includes(1),is_product_pin_v2:a.includes(5),is_rich_product_pin:a.includes(6)};return JSON.stringify(o)}}n.d(t,{Z:()=>i})},830157:(e,t,n)=>{function i(e,t){return e||(t?`${t}~0`:"~0")}n.d(t,{Z:()=>i})},948376:(e,t,n)=>{n.d(t,{G3:()=>d,Rp:()=>c,kp:()=>l});var i=n(339363),a=n(202139),o=n(844974);const r=14*a.F4;function s(e,t,n){return e-t>n}const l=e=>{const t=function(){const e=Date.now(),t=Number((0,o.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,o.qn)("firstUpsellTime")),lastUpsellTime:t,showedAppUpsellCurrentSession:Boolean((0,i.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,t,n){const{currentTime:i,firstUpsellTime:a,lastUpsellTime:l,showedAppUpsellCurrentSession:c}=e;return n=n||r,!a||function(e,t,n){return e<t+n}(i,a,t)?!c:!!s(i,l,n)&&((0,o.L_)("firstUpsellTime"),!0)}(t,a.F4):function(e,t){const{currentTime:n,lastUpsellTime:i}=e;return t=t||r,!i||s(n,i,t)}(t)},c=({platform:e,userAgent:t})=>{try{return"android"===e&&parseFloat((e=>{const t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0})(t))<7}catch(n){return!1}},d=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},116485:(e,t,n)=>{n.d(t,{AA:()=>o,E9:()=>_,EU:()=>y,IO:()=>v,Jd:()=>h,KH:()=>d,QR:()=>c,Uw:()=>a,ZR:()=>f,dy:()=>l,eA:()=>p,fo:()=>m,k7:()=>r,rT:()=>g,tz:()=>u,u9:()=>b,zR:()=>s,zu:()=>i});const i="OPEN_UNAUTH",a="openUnauthType",o="_isAfterLogin",r="_lastVisitedPages",s="_lastVisitedPagesBeforeLogin",l="_lastVisitedBoardPages",c="_lastVisitedPagesBeforeNavPage",d="_lastVisitedSessionPages",u="_unauthVisitedPages",p=20,h="_unauthInviteCode",m="_unauthReferrerString",_="unauthTopicsFollowed",g=["US","CA","NZ","AU"],v=new Set(["GB","IE"]),y=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),f=new Set(["BR","MX","AR","CL","CO","PE"]),b="ad_img"},844887:(e,t,n)=>{n.d(t,{DZ:()=>d,Dv:()=>u,Es:()=>c,HW:()=>l});var i=n(844974),a=n(773285),o=n(116485);const r=e=>e>=Date.now()-72e5,s=(e,t)=>{const n=[];if(e)for(const i of e)t&&!i.is_shared||r(i.ts)&&n.push(i);return n},l=()=>{const e=(0,i.qn)(o.zR),t=e?JSON.parse(e):[],n=s(t,!1),a=s(t,!0),l=n.map((e=>e.first_pin_image_signature)),c=a.map((e=>e.first_pin_image_signature)),d=(e=>{const t={};if(e)for(const n of e)n.is_shared&&r(n.ts)&&n.pin_id&&(t[n.pin_id]={inviteCode:n.pin_invite_code});return t})(t),u=(0,i.qn)(o.dy),p=u?JSON.parse(u):[];return{extraPlpImages:l,plpImageRenderData:n,extraBlpImages:s(p,!0).map((e=>e.first_pin_image_signature)),extraSharedImages:c,sharedPinData:d}},c=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1){if(e[n].id!==t[n].id)return!1}return!0},d=(e,t)=>e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):null,u=()=>{const{checkExperiment:e}=(0,a.F)(),{anyEnabled:t,group:n}=e("mweb_mini_renux");return{inMiniRenuxEnabledGroup:t,interestsLimit:t?Number(n.slice(-1)):NaN}}},772486:(e,t,n)=>{n.d(t,{XK:()=>s,jC:()=>r,yd:()=>l});var i=n(745760);let a=null,o=null;const r=((e,t)=>{let n=null;return r=>{var s;if(r&&!n)return n={...r,event_type:e,time:(0,i.h1)()},null===(s=o)||void 0===s||s.logContextEvent(n),a&&n&&a.storeClickthroughProperties(n),e;if(!r&&n){var l;const e={...n,event_type:t,duration_ns:(0,i.h1)()-n.time};return null===(l=o)||void 0===l||l.logContextEvent(e),n=null,t}return null}})(12,4100),s=e=>{a=e},l=e=>{o=e}},529195:(e,t,n)=>{n.d(t,{CC:()=>x,Cb:()=>y,Ff:()=>E,H$:()=>S,Mt:()=>b,OJ:()=>v,Yi:()=>k,Ys:()=>g,Yy:()=>A,Z4:()=>_,ZN:()=>p,dc:()=>T,dp:()=>w,i$:()=>m,kw:()=>f,p9:()=>P,t_:()=>h});var i=n(231486),a=n(214494),o=n(826067),r=n(332215),s=n(226198),l=n(867820),c=n(339363),d=n(844974),u=n(116485);const p=["utm_pai","utm_source","invite_code"],h=()=>(0,d.qn)(u.tz,""),m=()=>{const e=h();let t;try{t=JSON.parse(e)}catch(n){t=[]}return t},_=(e,t)=>{const n=m(),i=n.length,a=i?n[0].path:"";if(i<u.eA&&(!i||e!==a)){const i={path:e,pageType:t,ts:Date.now()};(0,d.Nh)(u.tz,JSON.stringify([i].concat(n)))}},g=e=>{(0,d.Nh)(u.Jd,e)},v=()=>(0,d.qn)(u.fo,""),y=e=>{(0,d.Nh)(u.fo,e)},f=()=>{h()&&(0,d.L_)(u.tz),(0,d.qn)(u.Jd,"")&&(0,d.L_)(u.Jd),v()&&(0,d.L_)(u.fo)},b=(e,t,n,i,a,o,r=u.k7)=>{const s=(0,d.qn)(r)?JSON.parse((0,d.qn)(r)):[];if(!s[0]||s[0].path!==e){const l=[{path:e,ts:Date.now(),pin_id:n||0,first_pin_image_signature:t||"",first_pin_id:n||"",image_info:i||"",pin_description:a||"",is_shared:!!o,pin_invite_code:o}];(0,d.Nh)(r,JSON.stringify(l.concat(s)))}},x=({path:e,image:t,dominant_color:n,pin_description:i,pin_id:a})=>{const o=(()=>{const e=(0,c.qn)(u.KH);if(!e)return[];let t;try{t=JSON.parse(e)}catch(n){t=[]}return t})();if(!o[0]||o[0].path!==e){const r=[{path:e,image:t,pin_description:i||"",dominant_color:n||"",pin_id:a||""}];(0,c.Nh)(u.KH,JSON.stringify(r.concat(o)))}};function w(e,t,n,i,a,o){b(e,t,n,i,a,o,u.zR)}const S=(e,t,n,i,a)=>{b(e,t,n,i,null!=a?a:"","",u.dy)};function P(e,t,n,i,a){b(e,t,n,i,a,"",u.QR)}function T(){return m().filter((e=>"closeup"===e.pageType)).length}function k(){const e=a.Z.create("UnauthUserDataResource");return new Promise(((t,n)=>{e.callGet().then((e=>{const a=e.resource_response.data,o=!!i.U2(s.x3);return a?((0,r.Wn)(a.medium_image_url)&&(a.medium_image_url=""),(0,l.My)("mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_"+(o?"true":"false")),t(a)):((0,l.My)("mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_"+(o?"true":"false")),n({}))})).catch((e=>{if(e&&e.message){const t=e.message.replace(/\s/g,"_").toLowerCase();(0,l.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${t}`)}else(0,l.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return n(e)}))}))}function I({i18n:e,location:t}){const n=t.pathname.startsWith("/signup"),i=t.pathname.startsWith("/login");if(!n&&!i)return{showPLPBanner:!1,pinForBanner:null};let a;try{a=JSON.parse((0,c.qn)(u.KH))}catch(o){a=[]}if(a&&a.length>0){const t=a[0];if(t)return t.bannerCopy=e._('More ideas like this await', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from'),{showPLPBanner:Boolean(t.image),pinForBanner:t}}return{showPLPBanner:!1,pinForBanner:null}}const A=e=>e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null;function C({i18n:e,location:t}){var n;const i=(null===(n=t.state)||void 0===n?void 0:n.next)||A(t);if(i){const t=i.indexOf("?"),n=(0,o.mB)(i.substring(t));if(n.url&&n.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,o.Jx)(n.media),height:1,width:1},pinDescription:n.description,bannerCopy:e._('Save this idea and discover more inspiration like it.', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from')}}}return{showPLPBanner:!1,pinForBanner:null}}function E({i18n:e,location:t}){return C({i18n:e,location:t}).showPLPBanner?C({i18n:e,location:t}):I({i18n:e,location:t}).showPLPBanner?I({i18n:e,location:t}):{showPLPBanner:!1,pinForBanner:null}}},305324:(e,t,n)=>{n.d(t,{M:()=>y,g:()=>f});var i,a=n(667294),o=n(590674),r=(n(883119),n(867820)),s=n(447409),l=n(50286),c=n(780280),d=n(430235),u=n(874317),p=n(167912),h=n(785893);const m=void 0!==i?i:i=n(110767);const _=({queryReference:e,...t})=>{var n;const i=(0,p.usePreloadedQuery)(m,e),a=null==i||null===(n=i.v3GetPinQuery)||void 0===n?void 0:n.data;return a?(0,h.jsx)(d.Z,{...t,graphqlRef:a}):null},g=({queryReference:e,...t})=>{var n;const i=(0,p.usePreloadedQuery)(m,e),a=null==i||null===(n=i.v3GetPinQuery)||void 0===n?void 0:n.data;return a?(0,h.jsx)(u.ZP,{...t,graphqlRef:a}):null},v=(0,a.createContext)((()=>()=>{})),y=()=>(0,a.useContext)(v),f=({children:e,feedRef:t,viewType:n,viewParameter:i,useGraphql:y})=>{const[f,b]=(0,a.useState)(null),[x,w]=(0,a.useState)(null),[S,P]=(0,a.useState)(!1),[T,k]=(0,a.useState)(null),[I,A]=(0,a.useState)(!1),C=(0,l.HG)(),{isAuthenticated:E}=(0,c.B)(),[j,R]=(0,p.useQueryLoader)(m);if(y&&!j&&T){R(function({pinId:e,isAuth:t}){return{query:m,variables:{pinId:e,isAuth:t}}}({pinId:T,isAuth:E}).variables)}const D=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")};(0,a.useEffect)((()=>D),[]);const O=(0,a.useCallback)((e=>n=>{const{pinId:i,deviceOptions:a}=e;if(n.stopPropagation(),n.preventDefault(),k(i),a.isDesktop)A(a.isMainPinImage),(0,r.My)("dweb.unauth.context_menu.open_menu"),b({xPosition:n.clientX,yPosition:n.clientY}),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden");else{(0,r.My)("mweb.unauth.related_pin.context_menu.open");const e=n.changedTouches.item(0);if(t&&t.current){const n=t.current.getBoundingClientRect(),i=Math.min(e.pageX-n.left,n.width-u.nt),o=e.pageY-s.n;w({xPosition:i,yPosition:o,context:a.context})}}}),[t]),L=!!f;(0,a.useEffect)((()=>{const e=()=>{b(null),D(),(0,r.My)("dweb.unauth.context_menu.click_away")};return L&&document.addEventListener("click",e),()=>{L&&document.removeEventListener("click",e)}}),[L]);const F=f&&T?y?j&&(0,h.jsx)(_,{desktopContextMenuState:f,pinId:T,isMainPinImage:!!I,queryReference:j}):(0,h.jsx)(d.Z,{desktopContextMenuState:f,pinId:T,isMainPinImage:!!I,graphqlRef:null}):null,N=x&&T?y?j&&(0,h.jsx)(g,{mwebContextMenuState:x,pinId:T,openShareModal:P,setMwebContextMenuState:w,queryReference:j}):(0,h.jsx)(u.ZP,{graphqlRef:null,mwebContextMenuState:x,pinId:T,openShareModal:P,setMwebContextMenuState:w}):null;return(0,h.jsx)(v.Provider,{value:O,children:(0,h.jsxs)(a.Fragment,{children:[e,C&&F,!C&&N,!C&&S&&T&&(0,h.jsx)(o.default,{objectType:1,isOpen:S,onDismiss:()=>P(!1),objectId:T,hideContactsSuggestions:!0,element:12016,viewType:n,viewParameter:i,component:18})]})})}},364034:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(807609),o=n(844974);const r=e=>{const t=(0,o.qn)(e);if(!t)return null;try{return JSON.parse(t)}catch(n){return null}};var s=n(773285);const l=()=>{const[e,t]=function(e){const t=(0,a.Z)(),[n,s]=(0,i.useState)(t?null:r(e));return(0,i.useEffect)((()=>{s(r(e))}),[e]),[n,(0,i.useCallback)((t=>{s(t),null===t?(0,o.L_)(e):(0,o.Nh)(e,JSON.stringify(t))}),[e])]}("unauthSavedPins"),n=null!==(c=null==(l=e)?void 0:l.pins)&&void 0!==c?c:[];var l,c;const d=e=>t((e=>e.length?{pins:e}:null)(e)),{checkExperiment:u}=(0,s.F)(),p=()=>{const{anyEnabled:e,group:t}=u("mweb_unauth_save_shopping_cart_v0");let i=0;if(e){const e=t.split("_")[1];i=e?parseInt(e,10):0}return n.length<i};return{pins:n,save:e=>{p()&&d(n.filter((({id:t})=>t!==e.id)).concat([e]))},unsave:e=>d(n.filter((({id:t})=>t!==e))),isSaved:e=>n.some((({id:t})=>t===e)),clear:()=>d([]),canSaveMore:p}}},332215:(e,t,n)=>{function i(e){return Boolean(null==e?void 0:e.is_matured_new_user)}n.d(t,{IR:()=>r,V0:()=>i,Wn:()=>o,xT:()=>a});const a=e=>!!e&&2===e.login_state,o=e=>!(!e||!e.match(/\/static\/images\/user\/default_\d+\.png$/));function r(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},691720:(e,t,n)=>{n.d(t,{Hg:()=>a,T_:()=>r,g6:()=>o,w6:()=>i});const i=(e,t)=>Array.from({length:t-e},((t,n)=>n+e)),a=508,o=600;function r(e,t){if(!t.startsWith("en"))return e;return e.split(" ").map((e=>e===e.toUpperCase()?e:e.toLowerCase())).join(" ")}},698629:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),a=n(391254),o=n(619623),r=n(50286),s=n(444445),l=n(883119),c=n(785893);const d="PinGridSkeletonLoader__tall",u="PinGridSkeletonLoader__short",p=({size:e})=>(0,c.jsx)(l.xu,{padding:1,children:(0,c.jsx)("div",{className:"tall"===e?d:u})}),h=({children:e})=>(0,c.jsx)(l.kC,{direction:"column",gap:{row:0,column:2},children:e}),m=({partialViewportWidth:e})=>{const t="desktop"===(0,r.ZP)(),n=t?s.yF:s.tG;return(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(a.Z,{unsafeCSS:[{name:d,height:250},{name:u,height:150}].map((({name:e,height:t})=>(0,o.Z)({name:e,width:n,height:t}))).join("")}),(0,c.jsx)(l.xu,{marginStart:s.qG,marginEnd:s.qG,children:t?(0,c.jsxs)(l.kC,{direction:"row",gap:{row:s.jC,column:0},children:[(0,c.jsx)(h,{children:(0,c.jsx)(p,{size:"tall"})}),(0,c.jsx)(h,{children:(0,c.jsx)(p,{size:"short"})}),(0,c.jsx)(h,{children:(0,c.jsx)(p,{size:"tall"})}),!e&&(0,c.jsx)(h,{children:(0,c.jsx)(p,{size:"short"})})]}):(0,c.jsxs)(l.kC,{direction:"row",overflow:"hidden",justifyContent:"center",children:[(0,c.jsxs)(h,{children:[(0,c.jsx)(p,{size:"tall"}),(0,c.jsx)(p,{size:"short"}),(0,c.jsx)(p,{size:"tall"})]}),(0,c.jsxs)(h,{children:[(0,c.jsx)(p,{size:"short"}),(0,c.jsx)(p,{size:"tall"}),(0,c.jsx)(p,{size:"short"}),(0,c.jsx)(p,{size:"tall"})]})]})})]})}},619623:(e,t,n)=>{n.d(t,{Z:()=>i});const i=({name:e,width:t,height:n})=>{const i=`${n}${"number"==typeof n?"px":""}`,a="number"==typeof t?t:236;return`\n.${e} {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ${e}_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ${a} ${i};\n  width: ${`${t}${"number"==typeof t?"px":""}`};\n  height: ${i};\n}\n\n@keyframes ${e}_placeHolderShimmer{\n  0% {\n      background-position: -${a}px 0;\n  }\n  100% {\n      background-position: ${a}px 0;\n  }\n}\n`}},987318:(e,t,n)=>{n.d(t,{H:()=>o,o:()=>a});var i=n(425288);const{Provider:a,useHook:o}=(0,i.Z)("LimitedLogin")},945698:(e,t,n)=>{n.d(t,{N4:()=>o,Wh:()=>i,hr:()=>a});const i=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),a=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),o=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},881802:(e,t,n)=>{n.d(t,{Bb:()=>g,Bx:()=>l,F4:()=>s,OG:()=>o,Qj:()=>c,_6:()=>_,gv:()=>r,hg:()=>d,is:()=>h,jP:()=>m,lt:()=>a,oM:()=>u,wI:()=>p});var i=n(826067);const a=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),o=e=>e.pathname,r=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),s=e=>{const t=(0,i.mB)(e.search).board_url;if(t){const e=(0,i.Jx)(t),n=(0,i.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${n}`:`${e}?${n}`}return e.pathname},l=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),c=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},d=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),u=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),p=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},h=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),m=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),_=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),g=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},801645:(e,t,n)=>{n.d(t,{NN:()=>l,UE:()=>r,cZ:()=>s,sh:()=>c});let i,a=null,o=null;const r=e=>{a=e},s=e=>{o=e},l=e=>{i=e},c=({resourceUrl:e,currentPageUrl:t,subHeaderText:n})=>{a&&a(),o&&o(n),i&&i({event_type:9850,view_type:9,view_parameter:63,aux_data:{resource_url:e,current_page_url:t}})}},56390:(e,t,n)=>{n.d(t,{C:()=>l,P:()=>s});var i=n(172071),a=n(53987),o=n(339363);const r="msmrsfda",s=()=>!!(0,o.qn)(r),l=e=>{(0,a.LM)(e)&&!s()&&((0,o.Nh)(r,"1"),i.Z.incrementNow("mobile_signup_modal.rules.suppress_for_discover_article",1))}},633083:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(643010),a=n(883119),o=n(785893);function r({color:e,image:t,isSelected:n,title:r}){var s,l,c;return(0,o.jsxs)(a.xu,{alignItems:"center","aria-selected":n,dangerouslySetInlineStyle:{__style:{backgroundColor:(0,i.Yc)()?n?"#fff":"#767676":n?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,o.jsx)(a.zd,{height:48,rounding:"circle",width:48,children:(0,o.jsx)(a.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(s=t.height)&&void 0!==s?s:1,naturalWidth:null!==(l=t.width)&&void 0!==l?l:1,src:null!==(c=t.url)&&void 0!==c?c:""})}),(0,o.jsx)(a.xu,{marginStart:2,marginEnd:3,children:(0,o.jsx)(a.xv,{color:n?"inverse":(0,i.Yc)()?"light":"dark",weight:"bold",children:r})})]})}},461355:(e,t,n)=>{n.d(t,{Z:()=>_,z:()=>d});var i=n(667294),a=n(702664),o=n(391254),r=n(350118),s=n(698330),l=n(883119),c=n(785893);const d=2500,u={__style:{right:"-105px"}},p={__style:{animationName:"SavePin_AnimateIn, SavePin_CircleAnimateOut",animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},h={__style:{animationName:"SavePin_AnimateIn, SavePin_AnimateOut",animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},m={__style:{animationName:"SavePin_NavButtonAnimation",animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},_=(0,i.memo)((({children:e})=>{var t;const n=null===(t=(0,s.Tt)())||void 0===t?void 0:t.last_repin_id,i=(0,r.S6)(),d=n?i(n):null,_=(0,a.useSelector)((({session:e})=>e.isShowingRepinAnimation));if(!d||!_)return e;const{images:g}=d,{height:v,width:y,url:f}=(null==g?void 0:g["136x136"])||(null==g?void 0:g["236x"])||{};return(0,c.jsxs)(l.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,c.jsx)(o.Z,{unsafeCSS:"\n@keyframes SavePin_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SavePin_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_AnimateOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100px);\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n  }\n}\n@keyframes SavePin_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n"}),(0,c.jsxs)(l.xu,{position:"relative",children:[(0,c.jsxs)(l.xu,{width:250,height:250,position:"absolute",right:!0,bottom:!0,dangerouslySetInlineStyle:u,children:[(0,c.jsx)(l.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:p}),(0,c.jsx)(l.xu,{width:100,height:100,position:"absolute",margin:"auto",left:!0,right:!0,top:!0,bottom:!0,opacity:0,rounding:3,dangerouslySetInlineStyle:h,children:(0,c.jsx)(l.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,c.jsx)(l.Ee,{alt:"pin-image",fit:"cover",naturalWidth:null!=y?y:1,naturalHeight:null!=v?v:1,src:null!=f?f:""})})})]}),(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:m,children:e})]})]})}))},327212:(e,t,n)=>{n.d(t,{Z:()=>E});var i=n(667294),a=n(376030),o=n(391254),r=n(883119),s=n(785893);function l({addedStyles:e,button:t,headerText:n,icon:a,iconOverride:l,minHeight:c,subHeaderText:d}){return(0,s.jsx)(r.xu,{display:"flex",justifyContent:"center",width:"100vw",paddingX:2,children:(0,s.jsxs)(r.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:c||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{const e=l||(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(o.Z,{unsafeCSS:"\n@keyframes baseEduToastIconScale {\n  0% {\n    transform: scale(0)\n  }\n  30% {\n    transform: scale(1.2);\n  }\n  50% {\n    transform: scale(1);\n  }\n}\n"}),(0,s.jsx)(r.xu,{alignItems:"center",color:"education","data-test-id":"pin-save-toast",direction:"column",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,s.jsx)(r.JO,{accessibilityLabel:a.accessibilityLabel,color:a.color,dangerouslySetSvgPath:a.dangerouslySetSvgPath,icon:a.icon,inline:a.inline,size:a.size})})]});return(0,s.jsx)(r.xu,{marginEnd:4,children:e})})(),(0,s.jsxs)(r.xu,{marginEnd:"auto",children:[(0,s.jsx)(r.xv,{color:"default",weight:"bold",children:n}),!!d&&(0,s.jsx)(r.xu,{paddingY:1,children:(0,s.jsx)(r.xv,{size:"300",color:"default",children:d})})]}),(0,s.jsx)(r.xu,{display:"flex",flex:"shrink",marginStart:2,children:t})]})})}var c=n(223815),d=n(829407),u=n(898781),p=n(759929);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=(e,t)=>(e-t)/2,_=68,g=m(_,68),v=m(_,66),y=m(_,60),f="cubicBezier(0.25, 0.1, 0.25, 1)",b="encourageToastIconContainer",x="encourageToastIconRadiateBg",w="encourageToastIconRadiateRing",S={targets:`#${b}`,duration:300,scale:1.4,easing:f},P={targets:`#${b}`,duration:300,scale:1,easing:f,endDelay:1e3},T={targets:`#${b}`,duration:300,scale:.42,easing:f},k={targets:`#${x}`,duration:400,opacity:0,scale:1.6,easing:f},I={targets:`#${w}`,duration:650,opacity:0,scale:2,easing:f};function A({hiding:e,visible:t}){return t?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}class C extends i.PureComponent{constructor(...e){super(...e),h(this,"delayTimer",null),h(this,"requestAnimationFrameId",null),h(this,"playAnimation",(()=>{this.requestAnimationFrameId=window.requestAnimationFrame((()=>{(0,a.Z)(k),(0,a.Z)(I),(0,a.Z)(S).finished.then((()=>{(0,a.Z)(P).finished.then((()=>{a.Z.set(`#${b}`,{transformOrigin:"top right"}),(0,a.Z)(T)}))}))}))})),h(this,"getHeaderText",(()=>{const{text:e}=this.props;return Array.isArray(e)?e[0]:e})),h(this,"getIconProps",(()=>({accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30}))),h(this,"getSubHeaderText",(()=>{const{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""})),h(this,"renderAnimatedIcon",(()=>(0,s.jsxs)(r.xu,{height:_,position:"relative",width:_,children:[(0,s.jsx)(r.xu,{"data-test-id":"pin-save-toast",width:60,height:60,overflow:"hidden",position:"absolute",rounding:4,dangerouslySetInlineStyle:{__style:{left:`${y}px`,top:`${y}px`}},children:this.props.thumbnail}),(0,s.jsxs)(r.xu,{id:b,height:_,width:_,dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},position:"absolute",children:[(0,s.jsx)(r.xu,{color:"infoBase",id:x,width:68,height:68,position:"absolute",rounding:"circle",dangerouslySetInlineStyle:{__style:{left:`${g}px`,top:`${g}px`,transform:"scale(0)"}}}),(0,s.jsx)(r.xu,{id:w,width:66,height:66,position:"absolute",rounding:"circle",opacity:1,dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:`${v}px`,top:`${v}px`,transform:"scale(0)"}}}),(0,s.jsx)(r.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:_,justifyContent:"center",minHeight:_,minWidth:_,position:"absolute",rounding:"circle",width:_,children:(0,s.jsx)(r.JO,{accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})})]})]})))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){const{isRepinToExistingBoard:e,button:t}=this.props,n=e;return(0,s.jsx)(l,{button:t,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:n?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function E(e){const{duration:t,onHide:n}=e,a=(0,u.ZP)(),[o,l]=(0,i.useState)(!1),[h,m]=(0,i.useState)(!1),_=(0,i.useRef)(),g=()=>{l(!0),_.current=setTimeout(n,200)},v=()=>{_.current&&clearTimeout(_.current)};(0,d.Z)((()=>(setTimeout((()=>m(!0)),100),_.current=setTimeout(g,t||p.w),v)));let y=(0,s.jsx)(C,{...e,i18n:a});return e.href&&(y=(0,s.jsx)(r.rU,{href:e.href,onClick:g,rounding:"pill",tapStyle:"none",children:y})),(0,s.jsx)(c.Z,{children:(0,s.jsx)(r.mh,{children:(0,s.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...A({hiding:o,visible:h})}},justifyContent:"center",position:"fixed",width:"100%",display:"flex",zIndex:p.k,children:y})})})}},56632:(e,t,n)=>{n.d(t,{L:()=>d,q:()=>u});var i=n(223019),a=n(258430),o=n(898781),r=n(883119),s=n(785893);const l=()=>{const e=(0,o.ZP)();return e._('Sweet save!', 'Header text on toast that appears after user creates their first board', 'Header text on toast that appears after user creates their first board')},c=()=>{const e=(0,o.ZP)();return e._('All your boards live on your profile', 'Subheader text on toast that appears after user creates their first board', 'Subheader text on toast that appears after user creates their first board')},d=e=>({duration:5e3,thumbnail:(0,s.jsx)(r.xu,{"data-test-id":"pin-save-toast",width:48,height:48,children:(0,s.jsx)(a.Z,{boardId:e})})}),u=({boardId:e,isFBC:t,viewType:n})=>({duration:5e3,thumbnail:(0,s.jsx)(r.xu,{"data-test-id":"pin-save-toast",children:(0,s.jsx)(i.Z,{boardId:e,viewType:n,type:"thumbnail"})}),text:t?[(0,s.jsx)(l,{},"0"),(0,s.jsx)(c,{},"1")]:void 0})},662089:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(702664),a=n(461355),o=n(343341),r=n(639952);function s(){const e=(0,i.useDispatch)(),{showToast:t,showOneToast:n}=(0,o.F9)();return{showToast:t,showOneToast:n,showRepinConfirmation:(n,i)=>{i||e((0,r.WF)()),setTimeout((()=>{i||e((0,r.a5)()),t(n)}),a.z)}}}},722545:(e,t,n)=>{n.d(t,{ZP:()=>J,Bi:()=>W,gv:()=>q});var i=n(934494),a=n(667294),o=n(427806),r=n(167234),s=n(180549),l=n(247568),c=n(572551),d=n(656226),u=n(898781),p=n(784590),h=n(444445),m=n(883119),_=n(785893);const g=({data:e,itemIdx:t})=>(0,_.jsx)(d.default,{pin:e,pinId:e.id,authDesktopSurface:"RelatedProductsFeed",slotIndex:t,viewParameter:3334,viewType:72});function v({resourceOptions:e}){const t=(0,u.ZP)(),n=(0,p.Z)({name:"VisualLiveSearchProductFeedResource",options:e}),{data:i,isAtEnd:o,isLoaded:r,isFetching:s,fetchMore:l}=n,d=(0,a.useRef)(null);if(!r)return(0,_.jsx)(m.kC,{alignItems:"stretch",alignSelf:"center",justifyContent:"center",children:(0,_.jsx)(m.$j,{accessibilityLabel:t._('Loading related products', 'Label for loading spinner', 'Label for loading spinner'),show:!0})});const v=Array.isArray(i)?i:null==i?void 0:i.results;return(0,_.jsx)(m.xu,{display:"flex",maxWidth:"100%",ref:d,children:v&&(0,_.jsx)(c.default,{columnWidth:h.yF,isAtEnd:o,isFetching:s,renderItem:e=>(0,_.jsx)(g,{...e}),items:v,loadItems:()=>{s||o||l()},paddingStyle:"simplified",scrollContainerRef:d,virtualize:!1})})}var y=n(362810),f=n(361259);class b extends a.PureComponent{constructor(...e){var t,n,i;super(...e),i=({data:e,itemIdx:t})=>{const{resourceOptions:{image_signature:n},visualLiveSearchResource:i}=this.props,a=i&&i.data&&i.data.search_identifier,o=`${window.location.pathname}products/${window.location.search}`;return"story"===e.type?(0,_.jsx)(y.Z,{story:e,dangerouslySetActionUrl:o,slotIndex:t}):(0,_.jsx)(d.default,{pin:e,pinId:e.id,authDesktopSurface:"FlashlightResultGrid",auxData:{search_identifier:a,image_signature:n},slotIndex:t,viewData:{search_identifier:a},viewParameter:3050,viewType:72})},(n="renderItem")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){const{visualLiveSearchResource:e,onSearchIdChange:t}=this.props,n=e&&e.data&&e.data.search_identifier;n&&t(n)}componentDidUpdate({visualLiveSearchResource:{data:e}}){const{visualLiveSearchResource:{data:t}}=this.props,n=t&&t.search_identifier,i=e&&e.search_identifier;n&&n!==i&&this.props.onSearchIdChange(n)}render(){const{hasSimplifiedPinGridExpLoaded:e,visualLiveSearchResource:t}=this.props,{data:n,isFetching:i,fetchMore:a}=t,o=n&&n.results,r=n&&n.search_identifier;return(0,_.jsxs)(m.xu,{children:[o&&r&&(0,_.jsx)(m.xu,{children:(0,_.jsx)(m.Rk,{columnWidth:h.yF,renderItem:({data:e,itemIdx:t})=>this.renderItem({data:e,itemIdx:t}),gutterWidth:h.P2,items:o,loadItems:a,minCols:1,scrollContainer:()=>window})}),(0,_.jsx)(m.$j,{accessibilityLabel:this.props.i18n._('Loading search results...', 'Accessibility label for loading visual search results', 'Accessibility label for loading visual search results'),show:i||!r||!e})]})}}function x(e){const t=(0,u.ZP)(),n=(0,p.Z)({name:"VisualLiveSearchResource",options:e.resourceOptions}),{hasSimplifiedPinGridExpLoaded:i}=(0,f.$)();return(0,_.jsx)(b,{...e,visualLiveSearchResource:n,hasSimplifiedPinGridExpLoaded:i,i18n:t})}var w=n(99739),S=n(305791),P=n(975540),T=n(94047),k=n(297852),I=n(280446),A=n(430323),C=n(829407),E=n(229428),j=n(697335),R=n(826067),D=n(407043),O=n(780280),L=n(276775);let F=0,N="";function M({pin:e}){const{logContextEvent:t}=(0,D.v)(),n=(0,u.ZP)(),i=(0,L.useHistory)(),c=(0,O.B)(),{id:d}=(0,L.useParams)(),{pinId:p}=(0,I.Z)(d||""),h=(0,L.useLocation)(),g=(0,R.mB)(h.search),{x:y,y:f,w:b,h:M,cropSource:z}=function(e){return Object.keys(e).reduce(((t,n)=>({...t,[n]:parseInt(e[n],10)})),{})}(g),{imageSignature:Z}=g,B=function(...e){return e.every(Number.isInteger)}(y,f,b,M)?{x:y,y:f,w:b,h:M}:null,[U,H]=(0,a.useState)(""),V=h.pathname.includes("/products")?"products":"flashlight";function $({origCrop:e,cropSource:t}){const n=window.location.pathname+window.location.search;(0,k.Z)({cropArea:e,pinId:p,cropSource:t,isUnified:!1,imageSignature:Z})!==n&&i.replace({pathname:`/pin/${p}/visual-search/`,query:{...e,cropSource:t,imageSignature:Z},search:(0,T.Z)({cropArea:e,cropSource:t,imageSignature:Z}),state:{internalNavigation:!0}})}const K=(0,a.useRef)();if((0,a.useEffect)((()=>(K.current&&N===p&&(K.current.scrollTop=F),()=>{K.current&&(F=K.current.scrollTop,N=p)}))),(0,C.Z)((()=>{if(!B&&e){const t=(0,w.Z)({initialCropArea:B,pin:e,queryImageSig:Z}),n=(0,k.Z)({cropArea:t,pinId:p,view:V,imageSignature:Z});i.replace(n)}t({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:p}})})),!e)return null;const{image_signature:G}=e,W=Z||G,{width:q,height:Y,url:J}=(0,S.Z)({pin:e,imageSignature:W});""===J&&i.push(`/pin/${p}/visual-search/`);const X=z||5,Q=(0,w.Z)({initialCropArea:B,pin:e,imageSignature:W}),ee={pin_id:p,image_signature:W,crop:(0,P.Z)({cropArea:Q,scaledWidth:q,scaledHeight:Y}),crop_source:X},te=!(h&&h.state&&h.state.internalNavigation),ne=c&&c.isRTL||!1,ie=q+20,ae=ie+16,oe=!!e.visual_objects&&W===G&&(0,E.m)(e.visual_objects)||[];return(0,_.jsx)(A.Z,{view:72,objectId:U,children:(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(o.Z,{text:n._('Visual Search Page', 'pin.flashlight.accessibilityhiddenheading', 'accessibility label for flashlight page')}),(0,_.jsx)(r.Z,{position:"fixed",style:{width:"100%",zIndex:3,backgroundColor:"#ffffff"},children:(0,_.jsxs)(m.xu,{width:"100%",paddingY:3,paddingX:9,display:"flex",alignItems:"center",children:[(0,_.jsx)(m.xu,{position:"absolute",children:(0,_.jsx)(s.Z,{pinId:p})}),(0,_.jsx)(m.xu,{flex:"grow",children:(0,_.jsx)(m.xv,{align:"center",weight:"bold",children:(0,_.jsx)("span",{className:"deprecatedTextSizeXL",children:"products"===V?n._('Shop similar items', 'Header explaining results of flashlight products search', 'Header explaining results of flashlight products search'):n._('More Ideas', 'Header explaining results of flashlight search', 'Header explaining results of flashlight search')})})})]})}),(0,_.jsx)(j.c,{children:t=>{var n;return"products"===V?(0,_.jsxs)(m.xu,{dangerouslySetInlineStyle:{__style:{marginTop:60}},children:[(0,_.jsx)(v,{resourceOptions:ee}),";"]}):(0,_.jsxs)(m.xu,{display:"flex",paddingX:12,children:[(0,_.jsx)(m.xu,{bottom:!0,overflow:"auto",position:"fixed",dangerouslySetInlineStyle:{__style:{width:ie,height:"inherit",top:t+60,marginBottom:10}},ref:K,children:(0,_.jsx)(m.xu,{"data-test-id":"flashlight-enabled-image",dangerouslySetInlineStyle:{__style:{width:q,height:Y}},children:(0,_.jsxs)(m.zd,{height:Y,rounding:2,width:q,children:[(0,_.jsx)(m.Ee,{alt:null!==(n=e.description)&&void 0!==n?n:"",naturalHeight:Y,naturalWidth:q,src:J}),(0,_.jsx)(l.Z,{showAnimation:te,imageSignature:W,imageSize:{h:Y,w:q},initialCropArea:Q,onChange:$,pin:e,spotlightAreas:oe})]})})}),(0,_.jsx)(m.xu,{position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:{top:60,marginLeft:ne?void 0:ae,marginRight:ne?ae:void 0}},children:(0,_.jsx)(x,{resourceOptions:ee,onSearchIdChange:H})})]})}})]})})}var z,Z=n(418614),B=n(773285),U=n(167912);const H=void 0!==z?z:z=n(957872);function V(e){var t,n,i;return{width:null!==(t=e.width)&&void 0!==t?t:0,url:null!==(n=e.url)&&void 0!==n?n:"",height:null!==(i=e.height)&&void 0!==i?i:0}}function $(e){const t=[];return e.forEach((({additionalImages:e,spec:n})=>{var i;t.push(...null!==(i=function({additionalImages:e,spec:t}){const n=[];return null==e||e.forEach((e=>{var i;e.canonicalImage&&n.push({canonical_images:{[t]:V(e.canonicalImage)},image_signature:null!==(i=e.imageSignature)&&void 0!==i?i:""})})),n}({additionalImages:e,spec:n}))&&void 0!==i?i:[])})),t}function K(e){return null==e?void 0:e.map((e=>{var t,n,i,a,o;return{additional_images:null!==(t=$([{additionalImages:e.additionalImageOrig,spec:"orig"},{additionalImages:e.additionalImage736x,spec:"736x"},{additionalImages:e.additionalImage564x,spec:"564x"},{additionalImages:e.additionalImage474x,spec:"474x"},{additionalImages:e.additionalImage236x,spec:"236x"}]))&&void 0!==t?t:[],variant_set:null!==(i=e.variantSet,n={variants:null!==(o=null==i?void 0:i.variants,a=null==o?void 0:o.map((e=>{var t,n;return{additional_images:null!==(n=e.additionalImages,t=null==n?void 0:n.map((e=>{var t,n;return{canonical_images:null!==(t=e.canonicalImages)&&void 0!==t?t:{},image_signature:null!==(n=e.imageSignature)&&void 0!==n?n:""}})))&&void 0!==t?t:[]}})))&&void 0!==a?a:[]})&&void 0!==n?n:{}}}))}function G(e){const t={};return e.forEach((e=>{const{image:n,spec:i}=e;n&&(t[i]=V(n))})),t}function W(){var e,t,n,i,a,o,r;const{id:s}=(0,L.useParams)(),{pinId:l}=(0,I.Z)(s||""),c=function({pinId:e}){return{query:H,variables:{pinId:e}}}({pinId:l}),d=null===(e=(0,U.useLazyLoadQuery)(H,c.variables).v3GetPinQuery)||void 0===e?void 0:e.data;if(!d)return null;var u,p,h,m,_;return{id:null!==(t=d.entityId)&&void 0!==t?t:"",is_eligible_for_related_products:null!==(n=d.isEligibleForRelatedProducts)&&void 0!==n&&n,description:null!==(i=d.description)&&void 0!==i?i:"",image_signature:null!==(a=d.imageSignature)&&void 0!==a?a:"",visual_objects:null!==(_=d.visualObjects,o=null==_?void 0:_.map((e=>{var t,n,i,a,o,r,s,l,c,d,u,p,h,m;return{detection:null!==(t=e.detection)&&void 0!==t&&t,h:null!==(n=e.h)&&void 0!==n?n:0,index:null!==(i=e.index)&&void 0!==i?i:0,is_stela:null!==(a=e.isStela)&&void 0!==a&&a,label:null!==(o=e.label)&&void 0!==o?o:"",label_id:null!==(r=e.labelId)&&void 0!==r?r:0,label_x:null!==(s=e.labelX)&&void 0!==s?s:0,label_y:null!==(l=e.labelY)&&void 0!==l?l:0,max_annotation_num_documents:null!==(c=e.maxAnnotationNumDocuments)&&void 0!==c?c:0,score:null!==(d=e.score)&&void 0!==d?d:0,show_on_closeup:null!==(u=e.showOnCloseup)&&void 0!==u&&u,w:null!==(p=e.x)&&void 0!==p?p:0,x:null!==(h=e.w)&&void 0!==h?h:0,y:null!==(m=e.y)&&void 0!==m?m:0}})))&&void 0!==o?o:[],images:null!==(r=G([{image:d.imageOrig,spec:"orig"},{image:d.image736x,spec:"736x"},{image:d.image564x,spec:"564x"},{image:d.image474x,spec:"474x"},{image:d.image236x,spec:"236x"}]))&&void 0!==r?r:{},rich_metadata:(h=d.richMetadata,{products:null!==(m=K(null==h?void 0:h.products))&&void 0!==m?m:[]}),rich_summary:(u=d.richSummary,{products:null!==(p=K(null==u?void 0:u.products))&&void 0!==p?p:[]}),type:"pin"}}function q(){const{data:e,isLoaded:t}=(0,Z.Z)({name:"PinResource",getOptions:({routeData:{params:{id:e}}})=>({id:e,field_set_key:"detailed",fetch_visual_search_objects:!0})});return t&&e?e:null}const Y=(0,i.Z)({useGraphQLAdapter:W,useLegacyAdapter:q});function J(){const{checkExperiment:e}=(0,B.F)(),t=(0,u.ZP)();return(0,_.jsx)(Y,{input:e("auth_dweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:null,suspense:{fallback:(0,_.jsx)(m.$j,{accessibilityLabel:t._('Loading Pin data', 'authDesktopFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:null},children:({data:e})=>!!e&&(0,_.jsx)(M,{pin:e})})}},990823:(e,t,n)=>{n.d(t,{ZP:()=>l,tY:()=>d,Yh:()=>c});var i=n(702664),a=n(784590),o=n(19121);const r=0,s=1;function l(e){var t;const n=(0,o.Z)(),i=n.isAuth&&n.id===e,r=(0,a.Z)(!n.isAuth||i?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{showEnabledSaveBehavior:i&&n.has_quicksave_board||!(!n.isAuth||null===(t=(null!=r?r:{}).data)||void 0===t||!t.has_quicksave_board)}}function c(e){var t;const n=(0,i.useDispatch)(),r=(0,o.Z)(),s=r.isAuth&&!!r.boardCount&&r.boardCount<5&&e,l=(0,a.Z)(s&&e?{name:"UserResource",options:{field_set_key:"save_behavior",user_id:r.isAuth&&r.id}}:null);return r.isAuth&&void 0===r.save_behavior&&l&&null!==(t=l.data)&&void 0!==t&&t.id&&n({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:l.data.save_behavior}}),{showEnabledSaveBehavior:s}}function d(e){const t=(0,o.Z)();let n;return e&&(t.save_behavior===r?n={type:"classic"}:t.save_behavior===s&&(n={type:"inline"})),{saveBehaviorType:n}}},239682:(e,t,n)=>{function i(e,t,n){return{privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}n.d(t,{Z:()=>i})},59644:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t)=>`${e}:${t||""}`},240265:(e,t,n)=>{n.d(t,{O:()=>s,Q:()=>l});var i=n(59644),a=n(414327),o=n(956800);const r=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:n,username:i},a)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:i,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...a?{orbac_subject_id:a}:Object.freeze({})})},l=e=>r.reduce(((t,n)=>{const r=[(0,o.N8)("profileBoards",(0,i.Z)(e,n))];return[!0,!1].forEach((t=>{[!0,!1].forEach((i=>{r.push((0,a.jB)(s.name,s.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:i})))}))})),t.concat(r)}),[])},436395:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(784590),a=n(276775);function o(){const{username:e}=(0,a.useParams)();return(0,i.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}},254176:(e,t,n)=>{n.d(t,{$z:()=>H,Br:()=>b,Cr:()=>D,K8:()=>k,L1:()=>K,NH:()=>te,OA:()=>$,RZ:()=>q,Tq:()=>P,Xi:()=>B,YQ:()=>V,YV:()=>R,ZP:()=>O,aX:()=>L,eo:()=>w,fJ:()=>W,h6:()=>J,k8:()=>X,md:()=>x,oG:()=>S,oL:()=>F,of:()=>I,rS:()=>ne,xH:()=>T,xQ:()=>A,xR:()=>U,xk:()=>E,yT:()=>f,yt:()=>Q,zC:()=>ee,zS:()=>G});var i,a,o,r,s,l,c=n(702664),d=n(27255),u=n(239682),p=n(422946),h=n(248327),m=n(240265),_=n(414327),g=n(214494),v=n(956800),y=n(167912);function f(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function b(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function x(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function w({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i}}}const S=(e,t)=>n=>n((0,h.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function P(e,t,n){return(0,h.U)("BoardResource",{options:{board_id:e,field_set_key:t,...n?{orbac_subject_id:n}:{}}})}function T(e,t,n){return i=>g.Z.create("BoardsMergeResource",{source_board_id:e,target_board_id:t,...n?{orbac_subject_id:n}:{}}).callUpdate().then((()=>Promise.all([i(w({boardId:e})),i(P(t,"pin_count")),i((0,v.N8)(p.DV.BOARD_SECTIONS,t))])))}function k(e){return t=>{e&&(0,m.Q)(e).forEach((e=>{t(e)}))}}const I=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),A=e=>S(e,"pin_count");function C(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function E(e,t){return n=>(n(C(e)),g.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function j(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function R(e,t){return n=>(n(j(e)),g.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}const D=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),O=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function L(e,t,n){const i={name:e,privacy:d.Z.BoardPrivacy.PUBLIC,username:t,...n?{orbac_subject_id:n}:Object.freeze({})};return e=>g.Z.create("BoardResource",i).callCreate().then((n=>{const i=n.resource_response.data;return e(t&&(0,_.jB)("BoardsResource",(0,u.Z)(t,!1))),i}))}function F(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}const N=(e,t,n)=>({type:"BOARD_INVITE_APPROVED_BY_VIEWER",payload:{boardId:e,isRequestToJoin:t,collaboratingUser:n}}),M=(e,t)=>({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}),z=(e,t,n)=>({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:t,viewingUser:n}}),Z=(e,t,n,i)=>({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:n,collaboratingUsers:i}}),B=(e,t=!1,n)=>i=>(i(N(e,t,n)),g.Z.create("BoardInviteResource",{board_id:e,invited_user_id:null==n?void 0:n.id}).callUpdate()),U=(e,t)=>n=>(n(M(e,t)),g.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete()),H=(e,t,n)=>i=>(i(Z(e,t,"new",n)),g.Z.create("BoardInviteResource",{board_id:e,invited_user_ids:n.map((({id:e})=>e))}).callCreate()),V=(e,t,n,i,a)=>o=>{var r,s;const l="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource";return o(z(e,null!==(r=null==i?void 0:i.id)&&void 0!==r?r:"",n)),g.Z.create(l,{board_id:e,field_set_key:"boardEdit",invited_user_id:null!==(s=null==i?void 0:i.id)&&void 0!==s?s:"",...a?{orbac_subject_id:a}:{}}).callDelete().catch((()=>o(Z(e,n,t,[i]))))},$=(e,t)=>()=>g.Z.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate(),K=(e,t,n,i)=>a=>{const o=g.Z.create("BoardResource",{board_id:n}).callDelete();return a(w({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i})),o},G=(e,t)=>n=>g.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then((i=>(n((0,v.Qv)("archived-boards",[{id:e,type:"board"}])),n(C(e,t)),i))),W=(e,t)=>n=>g.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then((i=>(n((0,v.Qv)(`profile-boards:${t}`,[{id:e,type:"board"}])),n(j(e)),i))),q=()=>{const e=void 0!==i?i:i=n(604955),[t]=(0,y.useMutation)(e);return async e=>{const n={boardId:e};return await new Promise(((e,i)=>{t({variables:{...n},onCompleted:(t,n)=>{n&&i(n[0]),e(t)},onError:e=>i(e)})}))}},Y=()=>{const e=void 0!==a?a:a=n(90105),[t]=(0,y.useMutation)(e);return async(e,n,i)=>{const a={boardId:e,userId:n,ban:i||!1};return await new Promise(((e,n)=>{t({variables:{...a},onCompleted:(t,i)=>{i&&n(i[0]),e(t)},onError:e=>n(e)})}))}},J=()=>{const e=void 0!==r?r:r=n(518190),[t]=(0,y.useMutation)(e),i=(0,c.useDispatch)();return async(e,n,a)=>{const o={boardId:e,userId:(null==a?void 0:a.id)||""};return await new Promise(((r,s)=>{t({variables:{...o},onCompleted:(t,o)=>{o&&s(o[0]),i(N(e,n,a)),r(t)},onError:e=>s(e)})}))}},X=()=>{const e=Y();return(t,n)=>i=>(i(M(t,n)),e(t,n))},Q=()=>{const e=void 0!==s?s:s=n(16945),[t]=(0,y.useMutation)(e);return async(e,n)=>{const i={boardId:e,collaboratorIds:n.map((({id:e})=>e)),message:""};return await new Promise(((e,n)=>{t({variables:{...i},onCompleted:(t,i)=>{i&&n(i[0]),e(t)},onError:e=>n(e)})}))}},ee=()=>{const e=void 0!==l?l:l=n(787525),[t]=(0,y.useMutation)(e);return async(e,n)=>{const i={board:e,emails:n,message:""};return await new Promise(((e,n)=>{t({variables:{...i},onCompleted:(t,i)=>{i&&n(i[0]),e(t)},onError:e=>n(e)})}))}},te=()=>{const e=Q();return(t,n,i)=>a=>(a(Z(t,n,"new",i)),e(t,i))},ne=()=>{const e=Y(),t=(()=>{const e=void 0!==o?o:o=n(472297),[t]=(0,y.useMutation)(e);return async(e,n)=>{const i={board:e,collaboratorIds:[n]};return await new Promise(((e,n)=>{t({variables:{...i},onCompleted:(t,i)=>{i&&n(i[0]),e(t)},onError:e=>n(e)})}))}})();return(n,i,a,o)=>r=>{var s,l;const c="accepted"===i?t:e;return r(z(n,null!==(s=null==o?void 0:o.id)&&void 0!==s?s:"",a)),c(n,null!==(l=null==o?void 0:o.id)&&void 0!==l?l:"").catch((()=>r(Z(n,a,i,[o]))))}}},712055:(e,t,n)=>{n.d(t,{Z:()=>r,f:()=>s});var i=n(214494),a=n(254176);function o(e){return i.Z.create("BoardFollowResource",{board_id:e})}function r(e){return t=>{o(e).callCreate().catch((()=>{t((0,a.md)(e,!1))})),t((0,a.md)(e,!0))}}function s(e){return t=>{o(e).callDelete().catch((()=>{t((0,a.md)(e,!0))})),t((0,a.md)(e,!1))}}},956800:(e,t,n)=>{function i(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function a(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{EX:()=>r,N8:()=>a,Qv:()=>o,_f:()=>i,vX:()=>s});const o=(e,t,n=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:n,items:t}});function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function s(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},177891:(e,t,n)=>{n.d(t,{a:()=>i,k:()=>a});const i=e=>({type:"ONE_TAP_SAVE",payload:e}),a=e=>({type:"ONE_TAP_UNSAVE",payload:e})},447948:(e,t,n)=>{function i(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function a(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function o(e,t,n,i,a){return{type:"PIN_SAVE",payload:{id:e,boardId:t,title:n,url:i,localPinId:a}}}function r(e){return{type:"PIN_UNSAVE",payload:{id:e}}}n.d(t,{Gb:()=>r,I1:()=>d,Ib:()=>p,NA:()=>c,Ur:()=>o,Vw:()=>l,b9:()=>m,i0:()=>h,mO:()=>a,q1:()=>u,t_:()=>s,yR:()=>i,yj:()=>_});const s=(e,t,n)=>({type:"PIN_UNDO_SAVE",payload:{pinId:e,boardId:t,boardSectionId:n}});function l(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function c({id:e,text:t,undoAction:n,undoActionOptions:i,undoText:a}){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoActionOptions:i,undoText:a}}}function d(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function u(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function p(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function h(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function m(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function _(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}},12918:(e,t,n)=>{n.d(t,{M:()=>l,i:()=>c});var i=n(483025),a=n(414327),o=n(782677),r=n(90326),s=n(214494);const l=(e,t,n,i)=>({type:"PIN_ADD",payload:{pinId:e,boardId:t,boardSectionId:n,pinnerId:i}}),c=e=>t=>{const{method:n,guid:c,image_base64:d,image_url:u}=e;return((e,t)=>new Promise((n=>{e?(0,r.eR)(e).then((e=>{n(e)})):n(t)})))(d,u).then((r=>{const d={...e,method:"button"!==n||c?n:"button_external",image_url:r,image_base64:void 0},u="PinResource";return s.Z.create(u,d).callCreate().then((e=>{const n=(0,o.Fv)(e.resource_response.data,i.Z.PinResource);t((0,a.XM)(u,d,e,n));const r=e.resource_response.data,{board:{id:s},pinner:{id:c},section:p}=r,h=p&&p.id;return t(l(r.id,s,h,c)),e}))}))}},139574:(e,t,n)=>{n.d(t,{L:()=>s,q:()=>l});var i=n(422946),a=n(956800),o=n(254176),r=n(214494);function s(e){return t=>{const{inSelectAll:n,selectedPinIds:s,orbacSubjectId:l,source:{boardId:c,sectionId:d}}=e,u=n?"BulkEditSelectAllResource":"BulkEditResource",p={board_id:c,section_id:d,pin_ids:s,orbac_subject_id:l};return t((0,o.xQ)(c)),t((0,a.EX)({feedId:d||c,feedType:d?i.DV.BOARD_SECTION_PINS:i.DV.BOARDFEED,inverseSelection:n,itemIds:s,itemType:"pin"})),r.Z.create(u,p).callDelete()}}const l=({pinId:e,boardId:t,boardSectionId:n,clientTrackingParams:i})=>(a,o)=>{const s=r.Z.create("PinResource",{id:e,client_tracking_params:i}).callDelete(),{session:{userId:l}}=o();return a(((e,t,n,i)=>({type:"PIN_DELETE",payload:{pinId:e,boardId:t,boardSectionId:n,userId:i}}))(e,t,n,l)),s}},850431:(e,t,n)=>{n.d(t,{w:()=>o});var i=n(349741),a=n(956800);const o=({pinId:e,boardId:t,i18n:n,logContextEvent:o,onSuccess:r,onUndo:s,originalPinId:l,showNewUserSavetoProfileAnimation:c,showRepinConfirmation:d,showToast:u,section:p,trackingParams:h,isOneTapSave:m,viewType:_,historyPush:g,suggestedBoardIds:v})=>(y,f)=>{var b,x,w,S,P;const{pins:T,session:k,feeds:I}=f(),A=T[e];t&&((null===(b=null!==(x=null==A?void 0:A.shopping_flags)&&void 0!==x?x:[])||void 0===b?void 0:b.length)>0||null!=A&&A.rich_summary&&(null===(w=null!==(S=null==A||null===(P=A.rich_summary)||void 0===P?void 0:P.products)&&void 0!==S?S:[])||void 0===w?void 0:w.length)>0)&&(I[`board-shop-saved-preview:${t}`]&&y((0,a.Qv)(`board-shop-saved-preview:${t}`,[A],{isPrepend:!0})),I[`board-shop-saved:${t}`]&&y((0,a.Qv)(`board-shop-saved:${t}`,[A],{isPrepend:!0})));return new i.Z({boardId:t,dispatch:y,i18n:n,isLegoSaveStyle:!0,isOneTapSave:m,onSuccess:r,onUndo:s,originalPinId:l,pin:A,resourceName:"RepinResource",section:p,showNewUserSavetoProfileAnimation:c,showRepinToasts:e=>d?d(e):u?u(e):void 0,trackingParams:h,userId:k.userId,viewType:_,historyPush:g,suggestedBoardIds:v}).processRepin(o)}},884183:(e,t,n)=>{n.d(t,{By:()=>l,IT:()=>s,N6:()=>a,br:()=>o,lU:()=>r});var i=n(214494);const a=(e,t)=>({type:"UPDATE_CURRENT_SEARCH",payload:{query:e,scope:t}}),o=(e,t)=>({type:"UPDATE_RECENT_SEARCHES",payload:{query:e,scope:t}}),r=(e,t,n)=>a=>{i.Z.create("ApiResource",{url:"/v3/search/recent/",data:{vertical:e}}).callDelete().then(t,n),a("PERSONAL"===e?{type:"CLEAR_RECENT_PERSONAL_SEARCHES"}:{type:"CLEAR_RECENT_SEARCHES"})},s=(e,t,n,a)=>o=>{i.Z.create("ApiResource",{url:"/v3/search/recent/",data:{query:e,vertical:t}}).callDelete().then(n,a),o("PERSONAL"===t?(e=>({type:"CLEAR_RECENT_PERSONAL_SEARCH",payload:{query:e}}))(e):(e=>({type:"CLEAR_RECENT_SEARCH",payload:{query:e}}))(e))},l=e=>t=>{t((e=>({type:"RELOAD_VISUAL_SEARCH_ANNOTATIONS",payload:{pinId:e}}))(e))}},639952:(e,t,n)=>{n.d(t,{Cp:()=>l,FK:()=>s,H5:()=>b,MI:()=>m,O0:()=>h,QZ:()=>r,W:()=>v,WF:()=>d,Wz:()=>x,a5:()=>u,dz:()=>g,e0:()=>p,e2:()=>o,iW:()=>y,n1:()=>a,rm:()=>c,wb:()=>f,xu:()=>_});var i=n(53987);const a=()=>({type:"DISMISS_UNAUTH_SAVE"}),o=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),r=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),s=()=>({type:"HIDE_NAV_FOOTER"}),l=()=>({type:"SHOW_NAV_FOOTER"}),c=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),d=()=>({type:"SHOW_REPIN_ANIMATION"}),u=()=>({type:"HIDE_REPIN_ANIMATION"}),p=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),h=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),m=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),_=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),g=e=>({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),v=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),y=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},f=()=>({type:"STOP_SCROLL_TO_CLOSEUP_PIN"}),b=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}),x=(e,t)=>{let n;return n=e?(0,i.bo)(e)?"today":(0,i.dr)(e)?"ideas":t&&(0,i.dZ)(e,t)?"own_section":t&&(0,i.J)(e,t)?"own_board":(0,i.OJ)(e)?"section":(0,i.am)(e)?"board":(0,i.L6)(e)?"closeup":(0,i.C$)(e)?"home":(0,i.cD)(e)?"profile":(0,i.En)(e)?"search":(0,i.$V)(e)?"topic":"":"",{type:"SET_LANDING_PAGE_TYPE",payload:n}}},70090:(e,t,n)=>{n.d(t,{ZN:()=>r,bJ:()=>l,fv:()=>s,hr:()=>o,lD:()=>c});var i=n(214494);function a(e,t){return i.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}const o=(e,t)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:t}}),r=(e,t)=>n=>{a(e,t).callCreate().catch((()=>n(o(e,!1)))),n(o(e,!0))},s=(e,t)=>n=>{a(e,t).callDelete().catch((()=>n(o(e,!0)))),n(o(e,!1))},l=e=>t=>{const n=e.reduce(((e,t)=>({...e,[t.id]:!t.is_followed})),{});return i.Z.create("UpdateFollowedInterestsResource",{updated_interest_follows:n}).callUpdate().then((()=>{e.forEach((({id:e,is_followed:n})=>{t(o(e,!n))}))}))},c=(e,t="")=>n=>i.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then((()=>{Object.keys(e).forEach((t=>{const i=e[t];n(o(t,i))}))}))},461773:(e,t,n)=>{n.d(t,{KF:()=>c,ZN:()=>r,fv:()=>l,kE:()=>u,yA:()=>s});var i=n(214494),a=n(90326);function o(e,t){return i.Z.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function r(e,t=null){return n=>{o(e,t).callCreate().catch((()=>n((0,a.P_)(e,!1)))),n((0,a.P_)(e,!0))}}function s(e,t=null){return async n=>{n((0,a.P_)(e,!0)),await o(e,t).callCreate().catch((t=>{throw n((0,a.P_)(e,!1)),t}))}}function l(e,t=null){return n=>{o(e,t).callDelete().catch((()=>n((0,a.P_)(e,!0)))),n((0,a.P_)(e,!1))}}function c(e,t=null){return async n=>{n((0,a.P_)(e,!1)),await o(e,t).callDelete().catch((t=>{throw n((0,a.P_)(e,!0)),t}))}}const d=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),u=e=>t=>{e.length>0&&(i.Z.create("ApiResource",{url:"/v3/users/follow/",data:{followee_ids:e.join(",")}}).callUpdate().catch((()=>t(d(e,!1)))),t(d(e,!0)))}},90326:(e,t,n)=>{n.d(t,{Ge:()=>l,JS:()=>o,OF:()=>g,P_:()=>r,Q_:()=>u,b8:()=>p,eR:()=>_,h2:()=>c,h6:()=>d});var i=n(735422),a=n(214494);function o(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}const r=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),s=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),l=({id:e,orbacSubjectId:t,blockSource:n,blockContext:i})=>o=>(o(s(e,!0)),a.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t,block_source:n,block_context:i}).callCreate().catch((()=>o(s(e,!1))))),c=e=>t=>(t(s(e,!1)),a.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch((()=>t(s(e,!0)))));function d(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}const u=(e,t)=>()=>a.Z.create("UserStateResource",{state:e,value:t}).callCreate(),p=(e,t,n)=>(o,r)=>{a.Z.create("ApiResource",{url:"/v3/users/me/"}).callCreate().then((()=>{n({event_type:48,object_id_str:r().session.userId}),e(),(0,i.Dm)()}),t)};const h=async(e,t,n)=>{var i;const o=await a.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(null!==(i=o.resource_response)&&void 0!==i&&i.data[e]){const i=o.resource_response.data[e],{status:a,signature:r}=i;if("processing"===a||"registered"===a)setTimeout((async()=>{h(e,t,n)}),5e3);else if("succeeded"===a){const e=((e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"")(r);t(e)}else n()}else n()},m=e=>new Promise(((t,n)=>{var i,o,r,s,l;i=e,o="pinimage",r=()=>{},s=e=>{t(e)},l=e=>{n(e)},(new FormData).append("img",i),a.Z.create("VIPResource",{type:o}).callCreate().then((e=>{var t;if(null!==(t=e.resource_response)&&void 0!==t&&t.data){const{upload_id:t,upload_url:n,upload_parameters:a}=e.resource_response.data,o=new XMLHttpRequest;o.open("POST",n,!0),o.onload=()=>{var e;(e=o.status)>=200&&e<400?(r(100),h(t,s,l)):l()},o.upload.onprogress=e=>{const t=Math.round(100*e.loaded/e.total);r(t)};const c=new FormData;for(const e in a)c.append(e,a[e]);c.append("file",i),o.send(c)}}),(()=>{l()}))})),_=e=>new Promise(((t,n)=>{"string"==typeof e?e.startsWith("data")&&m(function(e,t=512){const n=e.split(";"),i=n[0].split(":")[1],a=n[1].split(",")[1],o=atob(a),r=[];for(let s=0;s<o.length;s+=t){const e=o.slice(s,s+t),n=new Array(e.length);for(let t=0;t<e.length;t+=1)n[t]=e.charCodeAt(t);const i=new Uint8Array(n);r.push(i)}return new Blob(r,{type:i})}(e)).then((e=>t(e))):n("Invalid Image")})),g=e=>()=>a.Z.create("ApiResource",{url:"/v3/register/exists/",data:{email:e}}).callGet()},483025:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(819063);const a={AggregatedCommentResource:i.rm,AggregatedCommentFeedResource:i.LR,AggregatedCommentReplyResource:i.rm,AggregatedCommentReplyFeedResource:i.LR,AggregatedActivityFeedResource:i.LR,BestPinsFeedAltResource:i.LR,BoardArchiveResource:i.LR,BoardCollaboratorsResource:i.LR,BoardContentRecommendationResource:i.LR,BoardFeedResource:i.LR,BoardFollowingResource:i.LR,BoardInviteResource:i.sf,BoardInvitesResource:i.Ht,BoardlessPinsResource:i.LR,BoardPickerBoardsResource:{all_boards:i.LR,boards_shortlist:i.LR},BoardSectionEditResource:i._F,BoardSectionsRepinResource:i.LR,BoardSectionsResource:i.LR,BoardsFeedResource:i.LR,BoardResource:i.IY,BoardSectionResource:i._F,BoardSectionPinsResource:i.LR,BoardToolsFeedResource:i.LR,ContactRequestsResource:i.LR,ConversationsResource:i.LR,ConversationMessagesResource:i.dq,DidItCommentsResource:i.LR,DidItLikedByResource:i.Gn,DidItUserFeedResource:i.LR,ExploreArticleBlockPinResource:i.LR,ExploreArticleBlockSearchResource:i.LR,ExploreArticleBlockUserResource:i.LR,ExploreArticleBlockUserDidItDataResource:i.LR,ExploreArticleResource:i.yg,FollowingFeedResource:i.LR,HolidaySpotlightRelatedFeedResource:i.LR,HolidaySpotlightResource:i.LR,InterestFollowingResource:i.LR,InterestResource:i.cC,MoreIdeasTabsBoardsResource:i.LR,NewsHubResource:i.LR,NewsHubDetailsResource:i.LR,NewsHubSummaryResource:i.t6,NuxInterestsResource:i.LR,NuxTopicToCreatorsResource:i.Gn,PinResource:i.Cj,PinCatalogResource:i.LR,PinsFromBrandResource:i.LR,ReactionsResource:i.fE,RelatedArticlesResource:i.LR,RelatedInterestsResource:i.LR,RelatedModulesResource:i.LR,RelatedPinFeedResource:i.LR,RelatedProductFeedResource:i.LR,RelatedStreamResource:i.LR,RepinResource:i.Cj,BaseSearchResource:{results:i.LR},SearchResource:i.LR,SectionToolsFeedResource:i.LR,ShareSuggestionsTypeaheadResource:{items:i.LR},ShoppingFeedModularizedResource:i.LR,StoryFeedResource:i.LR,StoryPinTaggedProductsResource:i.LR,SuggestedCreatorFollowsResource:i.Gn,TodayArticleFeedResource:i.LR,IdeasHubTodayArticlesResource:i.LR,TodayArticleResource:i.iF,TodayTabInterestFeedResource:i.LR,TodayTabResource:i.LR,TopicFeedResource:i.LR,UnifiedCommentsResource:i.LR,UserActivityPinsResource:i.LR,UserFollowingResource:i.LR,UserRecentActivityResource:i.LR,UserHomefeedResource:i.LR,UserPinsResource:i.LR,UserSettingsResource:i.EA,UserStoryPinsFeedResource:i.LR,UserResource:i.EA,VideosFeedResource:i.LR,VisualLiveSearchResource:{results:i.LR},VisualLiveSearchProductFeedResource:i.LR,VisualSearchFlashlightUnifiedResource:i.LR,SeoTier1CandidateResource:i.LR}},819063:(e,t,n)=>{n.d(t,{Cj:()=>c,EA:()=>o,Gn:()=>T,Ht:()=>P,IY:()=>l,LR:()=>I,_F:()=>p,cC:()=>f,dq:()=>m,fE:()=>u,iF:()=>y,rm:()=>r,sN:()=>k,sf:()=>b,t6:()=>S,yg:()=>g});var i=n(782677);const a=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),o=new i.fK.Entity(a.user),r=new i.fK.Entity(a.aggregatedComment,{user:o,tagged_users:[o]}),s=new i.fK.Entity(a.article),l=new i.fK.Entity(a.board),c=new i.fK.Entity(a.pin),d=new i.fK.Entity(a.reaction),u=new i.fK.Array(d),p=new i.fK.Entity(a.boardsection),h=new i.fK.Entity(a.conversationMessage,{sender:o,users:[o],board:l,pin:c,user:o}),m=new i.fK.Array(h),_=new i.fK.Entity(a.contactrequest),g=new i.fK.Entity(a.story),v=new i.fK.Entity(a.triedit),y=new i.fK.Entity(a.todayArticle,{article_creator_user:o,content_pin:c,content_pin_official_user:o,video_pin:c}),f=new i.fK.Entity(a.topic,{},{processStrategy:(e,t,n)=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),b=new i.fK.Entity(a.invite,{invited_by_user:o,invited_user:o,board:l},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),x=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"explorearticle":return"article";case"news":return"notification";case"interest":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"klp_featured_data":return"topic";case"todayarticle":return"todayArticle";default:return e.type}},w=new i.fK.Union({user:o,board:l,invite:b,pin:c,topic:f,triedit:v},x),S=new i.fK.Entity(a.notification,{content_items:[{content_object:w}],header_icon_objects:[w]}),P=new i.fK.Array(b),T=new i.fK.Array(o),k=new i.fK.Array(l),I=new i.fK.Array({aggregatedComment:r,article:s,board:l,boardsection:p,contactrequest:_,conversationMessage:h,notification:S,pin:c,story:g,todayArticle:y,topic:f,triedit:v,user:o},x,(e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}}));g.define({objects:I})},550858:(e,t,n)=>{n.d(t,{Qi:()=>c,RK:()=>l,$_:()=>s});var i=n(766935);var a=n(844974);const o="REDUX_STATE",r=()=>!!navigator.serviceWorker,s=()=>r()&&JSON.parse((0,a.qn)(o))||{},l=e=>(0,i.Z)((t=>{const n={};n[e]=t,r()&&(e=>{if(window.requestIdleCallback)return window.requestIdleCallback(e);{const t=Date.now();setTimeout((()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})}),1)}})((()=>(e=>{r()&&(0,a.Nh)(o,JSON.stringify({...s(),...e}))})(n)))}),1e3),c=()=>{(0,a.L_)(o)}},422946:(e,t,n)=>{n.d(t,{DV:()=>d,J:()=>_,ZP:()=>f});var i=n(59644),a=n(932995),o=n(483025),r=n(998651),s=n(648284),l=n(819063),c=n(338739);const d={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"},u=new Set(["PinResource","RepinResource"]),p={ApiResource:e=>{return"/v3/orientation/nux_creator_recommendations/"===(null==e?void 0:e.url)?"nux-creator-recommendations":null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?`call-to-create-pins:${e.pin_id}`:"/v3/users/me/interests/"===(null==e?void 0:e.url)?`recommended-interests:${null===(t=e.data)||void 0===t?void 0:t.blend_type}`:"";var t},AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,AggregatedCommentReplyFeedResource:e=>`${d.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:e=>"archived-boards",BoardCollaboratorsResource:e=>`board-collaborators:${e.board_id}`,BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:e=>"conversations",DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,ExploreArticleBlockSearchResource:e=>`explore-search:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserResource:e=>`explore-user:${e.article_id}:${e.block_id}`,ExploreArticleBlockPinResource:e=>`explore-pin:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserDidItDataResource:e=>`explore-did_it:${e.article_id}:${e.block_id}`,ExploreArticleResource:({response:e})=>{if(!e)return"";const t="explore_tab_pin".length,n=e.resource_response.data,{story_type:i}=n?n.objects[0]:{story_type:""};return`explore-${i.slice(t)}:${n.id}`},FollowingFeedResource:()=>"following",HolidaySpotlightRelatedFeedResource:e=>`holiday-spotlight-related:${e.storyType}`,HolidaySpotlightResource:e=>`holiday-spotlight:${e.storyType}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:e=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedProductFeedResource:e=>"pin"===e.shop_source?`closeup-related-products:${e.pin}`:`related-products:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},BaseSearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?`board-shop-saved:${e.board_id}`:`board-shop-related:${e.board_id}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,IdeasHubTodayArticlesResource:e=>`today-article:${e.interest_id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:e=>`user-recent-activity:${e.filter_type}`,UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VideosFeedResource:e=>"videos-feed",VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,BoardFollowingResource:e=>`board-following:${e.username}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},h={ApiResource:({options:e})=>null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:d.CALL_TO_CREATE_RESPONSES_FEED,id:e.pin_id}:null,AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:d.TRIED_IT_FEED,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:d.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?d.AGGREGATED_COMMENT_REPLIES:d.AGGREGATED_COMMENTS,id:t,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:d.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:d.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:d.BOARD_SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:d.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:d.PROFILE_BOARDS,id:(0,i.Z)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:n,filters:i,query_pin_sigs:a,query:o,user:l},response:c})=>{var u;return{type:d.SEARCH_PINS,id:(0,s.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:i,query:o,selectedPinImgSig:a,scope:n,user:l}),items:null!==(u=c.resource_response.data)&&void 0!==u&&u.results?(0,r.L)(c.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:d.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:d.TRIED_IT_FEED,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:d.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:d.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:d.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:d.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:d.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:d.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:t}})=>({type:d.UNIFIED_COMMENTS,id:e,reversed:t}),UserActivityPinsResource:({options:{user_id:e}})=>({type:d.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:d.STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},m=(e,{pinId:t,oldFeedId:n,newFeedId:i})=>n===i?e:((e,{pinId:t,feedId:n})=>e[n]?{...e,[n]:[{type:"pin",id:t},...e[n]]}:e)(((e,{pinId:t,feedId:n})=>e[n]?{...e,[n]:e[n].filter((e=>!("pin"===e.type&&e.id===t)))}:e)(e,{pinId:t,feedId:n}),{pinId:t,feedId:i}),_=(e,t)=>e in p?p[e](t):null,g=(e,t)=>t?`board-section-pins:${t}`:`boardfeed:${e}`,v=(e,t)=>e.map((({id:e,schema:n})=>n?{id:e,type:n,trackingParams:"pin"===n?t.pins[e].tracking_params:void 0,user_id:void 0}:null)).filter(Boolean),y=(e,t,n)=>Object.keys(e).reduce(((i,a)=>{const o=e[a]||[],r=o.filter((e=>!(e.type===t&&e.id===n)));return o.length!==r.length&&(i[a]=r),i}),{...e}),f=(e={},t)=>{switch(t.type){case c.zP:case c.aW:{const{payload:i}=t,{resource:a,options:r,normalizedResponse:s,schema:u}=i;if(s&&a in p){const n=((e,t,n)=>{const i=n||o.Z[e];if(i===l.LR)return t.result;if(i===l.sN)return t.result.map((e=>({id:e,schema:"board"})));if(i===l.Gn)return t.result.map((e=>({id:e,schema:"user"})));if(i===l.Ht)return t.result.map((e=>({id:e,schema:"invite"})));if(i===l.fE)return t.result.map((e=>({id:e,schema:"reaction"})));if("object"==typeof i){const e=Object.entries(i).find((([e,t])=>t===l.LR));if(e)return t.result[e[0]]}return null})(a,s,u);if(n&&Array.isArray(n)){const i=p[a](r);if("ShoppingFeedModularizedResource"===a){const{board_id:t,saved_products_only:i}=null!=r?r:{},a=`board-shop-related:${t}`,o=`board-shop-saved:${t}`,l=`board-shop-saved-preview:${t}`,c=[...e[a]||[]],d=[...e[o]||[]],u=[...e[l]||[]];return v(n,s.entities).forEach((e=>{var n;i?d.push(e):s.entities.pins&&(null===(n=s.entities.pins[e.id])||void 0===n?void 0:n.board)===t?u.push(e):c.push(e)})),{...e,[a]:c,[o]:d,[l]:u}}if("BoardToolsFeedResource"===a||"SectionToolsFeedResource"===a)return{...e,[i]:n};{const a=(t.type===c.aW&&e[i]||[]).concat(v(n,s.entities));return{...e,[i]:a}}}}else{var n;const a=i.response.resource_response.data;if(null===(n=i.options)||void 0===n||!n.redux_normalize_feed)return e;const o=h[i.resource](i);if(o){const{type:n,id:i,items:r,reversed:s}=o;let l=(r||a||[]).map((e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===d.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"boardsection",id:e.id};case"triedit":return{type:"triedit",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"triedit",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,n)));s&&(l=l.reverse());const u=`${n}:${i}`,p=e[u];if(p||t.type!==c.aW){const n=p||[];let i=l;return t.type===c.aW&&(i=s?l.concat(n):n.concat(l)),{...e,[u]:i}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:n,feedId:i,itemType:o,targetItemId:r,sourceItemId:s}}=t,l=`${n}:${i}`,c=e[l]||[];let u=-1,p=-1;if([d.BOARDFEED,d.BOARD_SECTION_PINS,d.BOARD_SECTIONS,"profileBoards"].includes(n)&&(u=c.findIndex((e=>e.type===o&&e.id===s)),p=c.findIndex((e=>e.type===o&&e.id===r))),-1!==u&&-1!==p)return{...e,[l]:(0,a.Z)(c,u,p)};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:n,feedId:i,inverseSelection:a,itemType:o,itemIds:r=[]}}=t,s=`${n}:${i}`,l=e[s]||[];if(l&&l.length>0&&(n===d.BOARD_SECTION_PINS||n===d.BOARDFEED)){const t=l.filter((e=>{const t=r.includes(e.id);return!(e.type===o&&(a&&!t||!a&&t))})),n=!!t.find((e=>"pin"===e.type));return{...e,[s]:n?t:[]}}if(l&&l.length>0&&n===d.BOARD_SECTIONS){const t=l.filter((e=>{const t=r.includes(e.id);return!(e.type===o&&t)}));return{...e,[s]:t}}if(l&&l.length>0&&(n===d.AGGREGATED_COMMENTS||n===d.BOARDLESS_PINS||n===d.PROFILE_PINS_FEED||n===d.STORY_PINS_FEED||n===d.UNIFIED_COMMENTS||n===d.TRIED_IT_FEED||n===d.STORY_PIN_DATA)){const t=l.filter((e=>{const t=r.includes(e.id);return!(e.type===o&&t)}));return{...e,[s]:t}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:n,feedId:i,itemType:a,itemIds:o=[],prepend:r}}=t,s=`${n}:${i}`,l=e[s]||[];if(l&&(n===d.BOARD_SECTION_PINS||n===d.BOARDFEED||n===d.BOARDLESS_PINS)){const t=o.map((e=>({id:e,type:a})));let n=0;"story"===(l[0]||{}).type&&(n=1),"story"===(l[1]||{}).type&&(n=2);const i=[...l.slice(0,n),...t,...l.slice(n)];return{...e,[s]:i}}if(l&&n===d.BOARD_SECTIONS){const t=[...o].reverse().map((e=>({id:e,type:"boardsection"}))),n=l?[...t,...l]:[...t];return{...e,[s]:n}}if(n===d.AGGREGATED_COMMENTS||n===d.AGGREGATED_COMMENT_REPLIES||n===d.PROFILE_PINS_FEED||n===d.STORY_PINS_FEED||n===d.UNIFIED_COMMENTS){const t=o.map((e=>({id:e,type:a}))),n=l?[...r?t:l,...r?l:t]:t;return{...e,[s]:n}}if(n===d.TRIED_IT_FEED){const t=o.map((e=>({id:e,type:a}))),n=l?[...t,...l]:t;return{...e,[s]:n}}break}case"FEED_INVALIDATE":{const{payload:{feedType:n,feedId:i}}=t,a=`${n}:${i}`;if(e[a]||[])return{...e,[a]:null};break}case"APPEND_FEED_ITEMS":{const{payload:{id:n,items:i,options:a}}=t,o=e[n];if(o){let t;return t=a.isPrepend?o[0]&&"story"===o[0].type?[].concat(o[0],i,o.slice(1)):i.concat(o):o.concat(i),{...e,[n]:t}}return{...e,[n]:i}}case"PIN_DELETE":{const{payload:{pinId:n}}=t;return y(e,"pin",n)}case"BOARD_ARCHIVE":{const{payload:{boardId:n,username:i}}=t,a=`profile-boards:${null!=i?i:""}`;if(e[a])return{...e,[a]:e[a].filter((e=>e.id!==n))};break}case"BOARD_UNARCHIVE":{const{payload:{boardId:n}}=t,i="archived-boards";if(e[i])return{...e,[i]:e[i].filter((e=>e.id!==n))};break}case"BOARD_DELETE":{const{payload:{boardId:n}}=t;return y(e,"board",n)}case"BOARD_SECTION_DELETE":{const{payload:{boardSectionId:n}}=t;return y(e,"boardsection",n)}case"PINS_MOVE":{const{payload:{source:n,target:i,pinIds:a,userId:o}}=t,r=n.boardlessPins&&o&&`boardless-pins:${o}`||n.boardId&&g(n.boardId,n.sectionId),s=g(i.boardId,i.sectionId);return a.reduce(((e,t)=>m(e,{pinId:t,oldFeedId:r,newFeedId:s})),e)}case"PINS_MOVE_ALL":{const{payload:{source:n,target:i,excludePinIds:a}}=t,o=g(n.boardId,n.sectionId),r=g(i.boardId,i.sectionId),s={...e,[o]:a.map((e=>({type:"pin",id:e})))};return delete s[r],s}case"PIN_EDIT":{const{payload:{pinId:n,boardId:i,section:a,source:{boardId:o,sectionId:r}}}=t,s=g(o,r),l=g(i,null==a?void 0:a.id);return m(e,{pinId:n,oldFeedId:s,newFeedId:l})}case c.AF:if(u.has(t.payload.resource)){const n=t.payload.response.resource_response.data,i=n.board;let a;if("quick_saves"===i.layout)a=`boardless-pins:${t.payload.options.user_id}`;else{const e=t.payload.options.section;a=e?`board-section-pins:${e}`:`boardfeed:${i.id}`}if(e[a]){const t={...e},i={id:n.id,type:"pin",trackingParams:null==n?void 0:n.tracking_params};return t[a]=[i].concat(e[a]),t}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){const n=t.payload.normalizedResponse.result,i=`board-sections:${t.payload.normalizedResponse.entities.boardsections[n].board}`;if(e[i]){const t={...e},a={id:n,type:"boardsection"};return t[i]=[a].concat(e[i]),t}}if("AggregatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){const n={id:t.payload.normalizedResponse.result,type:"aggregatedcomment"},i=["aggregated-comments","unified-comments"];let a={...e};for(const o of i){const i=`${o}:${t.payload.options.objectId}`;e[i]&&(a={...a,[i]:[n].concat(a[i])})}return a}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){const n=`${d.AGGREGATED_COMMENT_REPLIES}:${t.payload.options.objectId}`;return{...e,[n]:[...e[n]||[],{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){const{reaction_pin_id:n}=t.payload.options;if("reaction"===t.payload.options.action_type){const i=`reactions:${t.payload.options.pin_id}`,a={...e},o={id:`${n}:${t.payload.options.user_id}`,type:"reaction",trackingParams:void 0};return a[i]=[o].concat(e[i]),a}if("unreaction"===t.payload.options.action_type){const i=`${n}:${t.payload.options.user_id}`;return y(e,"reaction",i)}}break;case"COMPLETE_STORY":{const{payload:{storyId:n}}=t;return y(e,"story",n)}}return e}},761881:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>(e=>(t,n)=>t.feeds[((e,t)=>"string"==typeof e?e:e(t))(e,n)])(e)},852025:(e,t,n)=>{n.d(t,{k:()=>o,s:()=>r});var i=n(667294);const a=(0,i.createContext)(Object.freeze({})),o=a.Provider;function r(){return(0,i.useContext)(a)}},596493:(e,t,n)=>{n.d(t,{Ac:()=>o,c7:()=>a,cg:()=>i});const i=-1,a=5,o=6},675752:(e,t,n)=>{n.d(t,{A:()=>i});const i=e=>{const t=e.rich_metadata;return t?t.products?144:t.article?141:t.recipe?145:139:140}},977734:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(349741),a=n(214494);function o({history:e,i18n:t,logContextEvent:n,onSuccess:o,onUndo:r,originalPinId:s,pinId:l,trackingParams:c,disableRepinAnimation:d,showNewUserSavetoProfileAnimation:u,showRepinConfirmation:p,historyPush:h}){return(m,_)=>{const{pins:g,session:v}=_(),{userId:y}=v,f=g[l],b={name:t._('Quick Saves', 'quickSave.boardName', 'Name of the auto-created board in quicksave experience.'),layout:"quick_saves",protected:!1,return_existing:!0,user_id:y};return a.Z.create("BoardResource",b).callCreate().then((a=>{const l=a.resource_response.data;return new i.Z({boardId:l.id,dispatch:m,isQuickSave:!0,history:e,i18n:t,onSuccess:o,onUndo:r,originalPinId:s,pin:f,resourceName:"RepinResource",section:void 0,showNewUserSavetoProfileAnimation:u,showRepinToasts:e=>p?p(e,d):void 0,trackingParams:c,userId:v.userId,historyPush:h}).processRepin(n)}))}}},962551:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(643010),a=n(883119),o=n(785893);function r({guide:e,guidedQuery:t,isSlot0Style:n=!1}){const{dominant_color:r,display:s}=e,l=(0,o.jsx)(a.iP,{role:"link",tapStyle:"none",rounding:"pill",href:`/search/pins/?rs=guide&q=${encodeURIComponent(t)}`,children:(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundColor:r,whiteSpace:n?void 0:"nowrap"}},"data-test-id":"search-guide",minWidth:n?void 0:84,padding:4,rounding:"pill",children:(0,o.jsx)(a.xv,{align:n?"start":"center",color:n?(0,i.Yc)()?"inverse":"default":"inverse",lineClamp:n?2:void 0,size:"200",weight:n?"normal":"bold",children:s})})});return n?l:(0,o.jsx)(a.xu,{flex:"none",marginStart:-7,paddingX:4,children:l})}const s=-1,l=0;function c({guides:e,isSlot0Style:t=!1,query:n}){const i=({position:e,term:t})=>e===s?t:e===l?`${t} ${n}`:`${n} ${t}`,c=()=>e.map((e=>(0,o.jsx)(r,{guide:e,guidedQuery:i(e),isSlot0Style:t},e.display)));return t?(0,o.jsx)(a.xu,{padding:2,children:(0,o.jsx)(a.kC,{width:"100%",gap:{row:0,column:1},direction:"column",alignItems:"start",children:c()})}):(0,o.jsx)(a.xu,{overflow:"hidden",width:"calc(100vw - 16px)",children:(0,o.jsx)(a.xu,{display:"flex",marginBottom:-2,marginStart:-4,overflow:"auto",paddingX:7,paddingY:2,position:"relative",width:"100vw",children:c()})})}},905732:(e,t,n)=>{n.d(t,{Z:()=>be});var i=n(667294),a=n(79113),o=n(245376),r=n(116303),s=n(63552),l=n(898781),c=n(112690),d=n(883119),u=n(785893);function p({cropSource:e,domainFilters:t,handleDomain:n,pinId:a}){const p=(0,l.ZP)(),h=(0,c.Z)();(0,i.useEffect)((()=>{h({event_type:120,component:13469,view_parameter:3396,view_type:72,aux_data:{commerce_data:JSON.stringify({source:(0,o.Z)(e)})}})}),[]);return(0,u.jsxs)(d.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,u.jsx)(d.xu,{paddingY:4,children:(0,u.jsx)(d.xv,{children:p._('Merchants', 'FeedFiltering.DomainFilter.Merchants', 'Area that lists the Merchants filters')})}),t.map(((e,t)=>(0,u.jsx)(s.Z,{onTouch:()=>{var i,o;n(t),o=null!==(i=e.domain)&&void 0!==i?i:"",h({event_type:102,component:13469,view_parameter:3396,view_type:72,element:11376,aux_data:{pin_id:a,commerce_data:JSON.stringify({select:!0,domain:o})}})},pressState:"none",children:(0,u.jsxs)(d.xu,{alignItems:"center",display:"flex",marginBottom:3,children:[(0,u.jsx)(d.xu,{marginEnd:2,children:(0,u.jsx)(r.Z,{name:e.label||"",size:"sm",src:e.image_url})}),(0,u.jsx)(d.xu,{flex:"grow",children:(0,u.jsx)(d.xv,{children:e.label})}),e.selected?(0,u.jsx)(d.xu,{children:(0,u.jsx)(d.JO,{accessibilityLabel:p._('checked merchant filter', 'FeedFiltering.DomainFilters.MerchantsCheckmark', 'checkmark when merchant is selected'),color:"default",icon:"check"})}):null]},e.domain)},e.domain)))]})}var h=n(892819),m=n(643010),_=n(780280),g=n(542473),v=n.n(g),y=Math.sqrt(50),f=Math.sqrt(10),b=Math.sqrt(2);function x(e,t,n){var i,a,o,r,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((i=t<e)&&(a=e,e=t,t=a),0===(r=function(e,t,n){var i=(t-e)/Math.max(0,n),a=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,a);return a>=0?(o>=y?10:o>=f?5:o>=b?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(o>=y?10:o>=f?5:o>=b?2:1)}(e,t,n))||!isFinite(r))return[];if(r>0){let n=Math.round(e/r),i=Math.round(t/r);for(n*r<e&&++n,i*r>t&&--i,o=new Array(a=i-n+1);++s<a;)o[s]=(n+s)*r}else{r=-r;let n=Math.round(e*r),i=Math.round(t*r);for(n/r<e&&++n,i/r>t&&--i,o=new Array(a=i-n+1);++s<a;)o[s]=(n+s)/r}return i&&o.reverse(),o}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function k(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=C(e);if(t){var a=C(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return R(this,n)}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,a,o=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);r=!0);}catch(l){s=!0,a=l}finally{try{r||null==n.return||n.return()}finally{if(s)throw a}}return o}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var M="react-compound-slider:";function z(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return t.val>n.val?e?-1:1:n.val>t.val?e?1:-1:0}}function Z(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.findIndex((function(e){return e.key===t}));if(-1!==a){var o=e[a],r=o.key,s=o.val;return s===n?e:[].concat(L(e.slice(0,a)),[{key:r,val:n}],L(e.slice(a+1))).sort(z(i))}return e}function B(e,t){if(!e)return[0,0];var n=e.getBoundingClientRect();return[t?n.top:n.left,t?n.bottom:n.right]}function U(e){var t=e.type,n=void 0===t?"":t,i=e.touches;return!i||i.length>1||"touchend"===n.toLowerCase()&&i.length>0}function H(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=0,o=e.map((function(e){var t=n.getValue(e);return e!==t&&(a+=1,v()(!i,"".concat(M," Invalid value encountered. Changing ").concat(e," to ").concat(t,"."))),t})).map((function(e,t){return{key:"$$-".concat(t),val:e}})).sort(z(t));return{handles:o,changes:a}}function $(e,t){return t}function K(e,t){for(var n=0;n<e.length;n++){if(e[n].key!==t[n].key)return e;if(t[n+1]&&t[n].val===t[n+1].val)return e}return t}function G(e,t,n,i,a){for(var o=-1,r=!0,s=0;s<e.length;s++){var l=e[s],c=t[s];if(!c||c.key!==l.key)return e;c.val!==l.val&&(o=s,r=c.val-l.val>0)}if(-1===o)return e;for(var d=r?n:-n,u=0;u<t.length;u++){var p=t[u],h=t[u+1];if(h&&p.val===h.val){if(u===o){var m=h.val+d;if(a(m)===m){var _=G(t,Z(t,h.key,h.val+d,i),n,i,a);return _===t?e:_}return e}var g=p.val+d;if(a(g)===g){var v=G(t,Z(t,p.key,p.val+d,i),n,i,a);return v===t?e:v}return e}}return t}function W(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach((function(t){return t&&t(e)}))}}var q=function(){return{value:0,percent:0}},Y=function(e){A(n,e);var t=D(n);function n(){var e;P(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).getRailProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.props,i=n.emitMouse,a=n.emitTouch;return S(S({},t),{},{onMouseDown:W(t&&t.onMouseDown,i),onTouchStart:W(t&&t.onTouchStart,a)})},e}return k(n,[{key:"render",value:function(){var e=this.getRailProps,t=this.props,n=t.getEventData,a=t.activeHandleID,o=void 0===a?"":a,r=(0,t.children)({getEventData:n||q,activeHandleID:o,getRailProps:e});return r&&i.Children.only(r)}}]),n}(i.Component),J=function(e){A(n,e);var t=D(n);function n(){var e;P(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).autofocus=function(e){e.target instanceof HTMLElement&&e.target.focus()},e.getHandleProps=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.props,a=i.emitKeyboard,o=i.emitMouse,r=i.emitTouch;return S(S({},n),{},{onKeyDown:W(n&&n.onKeyDown,(function(e){return a&&a(e,t)})),onMouseDown:W(n&&n.onMouseDown,e.autofocus,(function(e){return o&&o(e,t)})),onTouchStart:W(n&&n.onTouchStart,(function(e){return r&&r(e,t)}))})},e}return k(n,[{key:"render",value:function(){var e=this.getHandleProps,t=this.props,n=t.activeHandleID,a=void 0===n?"":n,o=t.children,r=t.handles,s=o({handles:void 0===r?[]:r,activeHandleID:a,getHandleProps:e});return s&&i.Children.only(s)}}]),n}(i.Component),X=function(){function e(){P(this,e),this.interpolator=void 0,this.domain=[0,1],this.range=[0,1],this.domain=[0,1],this.range=[0,1],this.interpolator=null}return k(e,[{key:"createInterpolator",value:function(e,t){var n=this,i=e[0],a=e[1],o=t[0],r=t[1];return a<i?function(e){return n.interpolateValue(r,o)(n.deinterpolateValue(a,i)(e))}:function(e){return n.interpolateValue(o,r)(n.deinterpolateValue(i,a)(e))}}},{key:"interpolateValue",value:function(e,t){return t-=e=+e,function(n){return e+t*n}}},{key:"deinterpolateValue",value:function(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(){return t}}},{key:"rescale",value:function(){return this.interpolator=null,this}},{key:"getValue",value:function(e){var t=this.domain,n=this.range;return(this.interpolator||(this.interpolator=this.createInterpolator(t,n)))(+e)}},{key:"setDomain",value:function(e){return this.domain=[e[0],e[1]],this.rescale(),this}},{key:"getDomain",value:function(){return this.domain}},{key:"setRange",value:function(e){return this.range=[e[0],e[1]],this}},{key:"getRange",value:function(){return this.range}},{key:"getTicks",value:function(e){var t=this.domain;return x(t[0],t[t.length-1],e||10)}}]),e}(),Q=function(){return{value:0,percent:0}},ee=function(e){A(n,e);var t=D(n);function n(){return P(this,n),t.apply(this,arguments)}return k(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.values,a=e.scale,o=void 0===a?new X:a,r=e.count,s=void 0===r?10:r,l=e.getEventData,c=void 0===l?Q:l,d=e.activeHandleID,u=t({getEventData:c,activeHandleID:void 0===d?"":d,ticks:(n||o.getTicks(s)).map((function(e){return{id:"$$-".concat(e),value:e,percent:o.getValue(e)}}))});return u&&i.Children.only(u)}}]),n}(i.Component),te=function(){return{value:0,percent:0}},ne=function(e){A(n,e);var t=D(n);function n(){var e;P(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).getTrackProps=function(t){var n=e.props,i=n.emitMouse,a=n.emitTouch;return S(S({},t||{}),{},{onMouseDown:W(t&&t.onMouseDown,i),onTouchStart:W(t&&t.onTouchStart,a)})},e}return k(n,[{key:"render",value:function(){for(var e=this.getTrackProps,t=this.props,n=t.children,a=t.left,o=void 0===a||a,r=t.right,s=void 0===r||r,l=t.scale,c=void 0===l?new X:l,d=t.handles,u=void 0===d?[]:d,p=t.getEventData,h=void 0===p?te:p,m=t.activeHandleID,_=void 0===m?"":m,g=c.getDomain(),v=[],y=0;y<u.length+1;y++){var f=u[y-1],b=u[y];0===y&&!0===o?f={id:"$",value:g[0],percent:0}:y===u.length&&!0===s&&(b={id:"$",value:g[1],percent:100}),f&&b&&v.push({id:"".concat(f.id,"-").concat(b.id),source:f,target:b})}var x=n({getEventData:h,activeHandleID:_,tracks:v,getTrackProps:e});return x&&i.Children.only(x)}}]),n}(i.Component);function ie(e,t,n){return Math.min(Math.max(e,t),n)}var ae=k((function e(){var t=this;P(this,e),this.step=1,this.domain=[0,1],this.range=[0,1],this.setDomain=function(e){return t.domain=[e[0],e[1]],t},this.setRange=function(e){return t.range=[e[0],e[1]],t},this.setStep=function(e){return t.step=e,t},this.getValue=function(e){var n=O(t.domain,2),i=n[0],a=n[1],o=O(t.range,2),r=o[0],s=o[1],l=t.step,c=(ie(e,i,a)-i)/(a-i);return ie(l*Math.round(c*(s-r)/l)+r,r<s?r:s,s>r?s:r)}})),oe="undefined"!=typeof window&&"undefined"!=typeof document,re=function(){},se=function(e,t,n,i){var a=i?e-t:e+t;return i?Math.max(n[0],a):Math.min(n[1],a)},le=function(e,t,n,i){var a=i?e+t:e-t;return i?Math.min(n[1],a):Math.max(n[0],a)},ce=[0,100],de=function(e){A(n,e);var t=D(n);function n(){var e;P(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={step:.1,values:[],domain:ce,handles:[],reversed:!1,activeHandleID:"",valueToPerc:null,valueToStep:null,pixelToStep:null},e.slider=i.createRef(),e.onKeyDown=function(t,n){var i=["ArrowRight","ArrowUp"],a=["ArrowDown","ArrowLeft"],o=j(e),r=o.state.handles,s=o.props,l=s.step,c=void 0===l?.1:l,d=s.reversed,u=void 0!==d&&d,p=s.vertical,h=void 0!==p&&p,m=s.domain,_=void 0===m?[0,100]:m,g=t.key||"".concat(t.keyCode);if(i.concat(a).includes(g)){if(h){var v=[a,i];i=v[0],a=v[1]}t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault();var y=r.find((function(e){return e.key===n}));if(y){var f=y.val,b=f;i.includes(g)?b=se(f,c,_,u):a.includes(g)&&(b=le(f,c,_,u));var x=r.map((function(e){return e.key===n?{key:e.key,val:b}:e}));e.submitUpdate(x,!0)}}},e.onMouseDown=function(t,n){e.onStart(t,n,!1)},e.onTouchStart=function(t,n){U(t)||e.onStart(t,n,!0)},e.getEventData=function(t,n){var i,a=j(e),o=a.state,r=o.pixelToStep,s=o.valueToPerc,l=a.props.vertical;return r.setDomain(B(e.slider.current,l)),n&&t instanceof TouchEvent?i=r.getValue(H(l,t)):t instanceof MouseEvent&&(i=r.getValue(l?t.clientY:t.pageX)),{value:i,percent:s.getValue(i)}},e.onMouseMove=function(t){var n=j(e),i=n.state,a=i.handles,o=i.pixelToStep,r=i.activeHandleID,s=void 0===r?"":r,l=n.props,c=l.vertical,d=l.reversed,u=void 0!==d&&d;o.setDomain(B(e.slider.current,c));var p=Z(a,s,o.getValue(c?t.clientY:t.pageX),u);e.submitUpdate(p)},e.onTouchMove=function(t){var n=j(e),i=n.state,a=i.handles,o=i.pixelToStep,r=i.activeHandleID,s=n.props,l=s.vertical,c=s.reversed;if(null!==o&&!U(t)){o.setDomain(B(e.slider.current,l));var d=Z(a,r,o.getValue(H(l,t)),c);e.submitUpdate(d)}},e.onMouseUp=function(){var t=j(e),n=t.state,i=n.handles,a=void 0===i?[]:i,o=n.activeHandleID,r=t.props,s=r.onChange,l=void 0===s?re:s,c=r.onSlideEnd,d=void 0===c?re:c;l(a.map((function(e){return e.val}))),d(a.map((function(e){return e.val})),{activeHandleID:o}),e.setState({activeHandleID:""}),oe&&(document.removeEventListener("mousemove",e.onMouseMove),document.removeEventListener("mouseup",e.onMouseUp))},e.onTouchEnd=function(){var t=j(e),n=t.state,i=n.handles,a=n.activeHandleID,o=t.props,r=o.onChange,s=void 0===r?re:r,l=o.onSlideEnd,c=void 0===l?re:l;s(i.map((function(e){return e.val}))),c(i.map((function(e){return e.val})),{activeHandleID:a}),e.setState({activeHandleID:""}),oe&&(document.removeEventListener("touchmove",e.onTouchMove),document.removeEventListener("touchend",e.onTouchEnd))},e}return k(n,[{key:"componentDidMount",value:function(){var e=this.state.pixelToStep,t=this.props.vertical;e.setDomain(B(this.slider.current,t))}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"removeListeners",value:function(){oe&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"onStart",value:function(e,t,n){var i=this.state.handles,a=this.props.onSlideStart,o=void 0===a?re:a;n||e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),i.find((function(e){return e.key===t}))?(this.setState({activeHandleID:t}),o(i.map((function(e){return e.val})),{activeHandleID:t}),n?this.addTouchEvents():this.addMouseEvents()):(this.setState({activeHandleID:""}),this.handleRailAndTrackClicks(e,n))}},{key:"handleRailAndTrackClicks",value:function(e,t){var n,i=this,a=this.state,o=a.handles,r=a.pixelToStep,s=this.props,l=s.vertical,c=s.reversed,d=void 0!==c&&c,u=this.slider;r.setDomain(B(u.current,l)),n=t?r.getValue(H(l,e)):r.getValue(l?e.clientY:e.pageX);for(var p="",h=1/0,m=0;m<o.length;m++){var _=o[m],g=_.key,v=_.val,y=Math.abs(v-n);y<h&&(p=g,h=y)}var f=Z(o,p,n,d);this.setState({activeHandleID:p},(function(){i.submitUpdate(f,!0),t?i.addTouchEvents():i.addMouseEvents()}))}},{key:"addMouseEvents",value:function(){oe&&(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}},{key:"addTouchEvents",value:function(){oe&&(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchend",this.onTouchEnd))}},{key:"submitUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,i=n.mode,a=void 0===i?1:i,o=n.step,r=void 0===o?.1:o,s=n.onUpdate,l=void 0===s?re:s,c=n.onChange,d=void 0===c?re:c,u=n.reversed,p=void 0!==u&&u,h=this.state.valueToStep.getValue;this.setState((function(n){var i=n.handles,o=[];if("function"==typeof a)o=a(i,e,r,p,h),v()(Array.isArray(o),"Custom mode function did not return an array.");else switch(a){case 1:o=$(0,e);break;case 2:o=K(i,e);break;case 3:o=G(i,e,r,p,h);break;default:o=e,v()(!1,"".concat(M," Invalid mode value."))}return l(o.map((function(e){return e.val}))),t&&d(o.map((function(e){return e.val}))),{handles:o}}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.handles,a=t.valueToPerc,o=t.activeHandleID,r=this.props,s=r.className,l=r.rootStyle,c=void 0===l?{}:l,d=r.rootProps,u=void 0===d?{}:d,p=r.component,h=void 0===p?"div":p,m=r.disabled,_=void 0!==m&&m,g=r.flatten,v=void 0!==g&&g,y=n.map((function(e){var t=e.key,n=e.val;return{id:t,value:n,percent:a.getValue(n)}})),f=i.Children.map(this.props.children,(function(t){return!0===function(e){if(!(0,i.isValidElement)(e))return!1;var t=e.type,n=t?t.name:"";return n===J.name||n===Y.name||n===ee.name||n===ne.name}(t)?i.cloneElement(t,{scale:a,handles:y,activeHandleID:o,getEventData:e.getEventData,emitKeyboard:_?re:e.onKeyDown,emitMouse:_?re:e.onMouseDown,emitTouch:_?re:e.onTouchStart}):t}));return v?i.createElement(i.Fragment,null,i.createElement(h,S(S({},u),{},{style:c,className:s,ref:this.slider})),f):i.createElement(i.Fragment,null,i.createElement(h,S(S({},u),{},{style:c,className:s,ref:this.slider}),f))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,i,a=e.step,o=void 0===a?.1:a,r=e.values,s=e.domain,l=void 0===s?ce:s,c=e.reversed,d=void 0!==c&&c,u=e.onUpdate,p=void 0===u?re:u,h=e.onChange,m=void 0===h?re:h,_=e.warnOnChanges,g=void 0!==_&&_,y=t.valueToPerc,f=t.valueToStep,b=t.pixelToStep,x={};if(y&&f&&b||(y=new X,f=new ae,b=new ae,x.valueToPerc=y,x.valueToStep=f,x.pixelToStep=b),t.domain===ce||null===t.step||null===t.domain||null===t.reversed||o!==t.step||l[0]!==t.domain[0]||l[1]!==t.domain[1]||d!==t.reversed){var w=O(l,2),S=w[0],P=w[1];f.setStep(o).setRange([S,P]).setDomain([S,P]),!0===d?(y.setDomain([S,P]).setRange([100,0]),b.setStep(o).setRange([P,S])):(y.setDomain([S,P]).setRange([0,100]),b.setStep(o).setRange([S,P])),v()(P>S,"".concat(M," Max must be greater than min (even if reversed). Max is ").concat(P,". Min is ").concat(S,"."));var T=V(r||t.values,d,f,g),k=T.handles;(T.changes||void 0===r||r===t.values)&&(p(k.map((function(e){return e.val}))),m(k.map((function(e){return e.val})))),x.step=o,x.values=r,x.domain=l===ce?L(l):l,x.handles=k,x.reversed=d}else if(n=r,i=t.values,!(n===i||n.length===i.length&&n.reduce(function(e){return function(t,n,i){return t&&e[i]===n}}(i),!0))){var I=V(r,d,f,g),A=I.handles;I.changes&&(p(A.map((function(e){return e.val}))),m(A.map((function(e){return e.val})))),x.values=r,x.handles=A}return Object.keys(x).length?x:null}}]),n}(i.PureComponent);const ue=({domain:[e,t],handle:{id:n,value:i,percent:a},getHandleProps:o,touched:r,activeHandleID:s})=>(0,u.jsx)("div",{"aria-valuemax":t,"aria-valuemin":e,"aria-valuenow":i,role:"slider",style:{left:`${a}%`,position:"absolute",marginLeft:"-11px",marginTop:"-5px",border:"1px solid white",zIndex:2,width:15,height:15,cursor:"pointer",borderRadius:"50%",boxShadow:"1px 1px 1px 1px rgba(0, 0, 0, 0.2)",backgroundColor:"black",transform:r&&s===n?"scale(2)":""},...o(n)}),pe=({source:e,target:t,getTrackProps:n,backgroundColor:i})=>(0,u.jsx)("div",{style:{position:"absolute",height:5,zIndex:1,backgroundColor:i||"black",borderRadius:7,cursor:"pointer",left:`${e.percent}%`,width:t.percent-e.percent+"%"},...n()});const he=function({cropSource:e,currencyType:t,minPrice:n,maxPrice:a,lowerBound:r,upperBound:s,handlePriceChange:p}){const g=(0,l.ZP)(),v=(0,h.Z)(),y=(0,c.Z)(),{locale:f}=(0,_.B)(),b={position:"absolute",width:"100%",height:5,borderRadius:7,cursor:"pointer",backgroundColor:(0,m.Yc)()?"#454545":"lightGrey"},x=[Math.ceil(r),Math.ceil(s)],w=[Math.ceil(n),Math.ceil(a)],[S,P]=(0,i.useState)([!1,!1]);(0,i.useEffect)((()=>{y({event_type:120,component:13468,view_parameter:3396,view_type:72,aux_data:{commerce_data:JSON.stringify({source:(0,o.Z)(e)})}})}),[]);const T={currency:t,style:"currency",minimum_fraction_digits:0,maximum_fraction_digits:2};return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(d.xu,{paddingY:4,children:(0,u.jsx)(d.xv,{children:g._('Price range', 'FeedFiltering.PriceFilter.PriceRange', 'Area that lists the price slider')})}),(0,u.jsxs)(d.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:3,children:[(0,u.jsx)(d.xv,{weight:"bold",children:(0,u.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{transform:S[0]?"translateZ(0) translateY(0) scale(1.25)":""}},children:v(f,w[0],T)})}),(0,u.jsx)(d.xv,{weight:"bold",children:(0,u.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{transform:S[1]?"translateZ(0) translateY(0) scale(1.25)":"",textAlign:"right"}},children:v(f,w[1],{...T,uplimit:s})})})]},"priceSliderValues"),(0,u.jsxs)(de,{domain:x,mode:2,onChange:()=>{P([!1,!1])},onUpdate:e=>{p(e);const[t,n]=w,[i,a]=e;t!==i?P([!0,!1]):n!==a&&P([!1,!0])},rootStyle:{margin:"5%",position:"relative",width:"90%"},step:1,values:w,children:[(0,u.jsx)(Y,{children:({getRailProps:e})=>(0,u.jsx)("div",{style:b,...e()})}),(0,u.jsx)(J,{children:({handles:e,getHandleProps:t,activeHandleID:n})=>(0,u.jsx)("div",{className:"slider-handles",children:e.map(((e,i)=>(0,u.jsx)(ue,{activeHandleID:n,domain:x,getHandleProps:t,handle:e,touched:S[i]},e.id)))})}),(0,u.jsx)(ne,{left:!1,right:!1,children:({tracks:e,getTrackProps:t})=>(0,u.jsx)("div",{className:"slider-tracks",children:e.map((({id:e,source:n,target:i})=>(0,u.jsx)(pe,{getTrackProps:t,source:n,target:i,backgroundColor:(0,m.Yc)()?"white":"black"},e)))})})]}),(0,u.jsx)(d.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginTop:12,children:(0,u.jsx)(d.xv,{children:g._('Drag to change price', 'FeedFiltering.PriceFilter.PriceDragText', 'Area that instructs how to use price slider')})})]})};function me({domains:e,prices:t}){return!(!e||""===e)||!!(t&&t.length>0)}function _e(e){return e?e.filter((e=>e.selected)).map((e=>e.domain)).join(","):null}function ge({minPrice:e,maxPrice:t,priceFilters:n}){const{min_value:i,suggested_max_value:a}=n||{};return e!==i||t!==a?[e,t]:[]}function ve({currentPrice:e,currencyType:t,lowerBound:n,upperBound:i,handlePriceChange:a,cropSource:o}){const r=e[0],s=e[1];return(0,u.jsx)(he,{cropSource:o,currencyType:t,handlePriceChange:a,lowerBound:n,maxPrice:s,minPrice:r,upperBound:i})}const ye=function({cropSource:e,initialProductFilters:t,pinId:n,productFilters:a,submitFilters:o,updateShowIndicator:r}){const s=(0,l.ZP)(),h=(0,c.Z)(),m=a.domainFilters,_=a.priceFilters,{min_value:g,suggested_max_value:v,currency_type:y}=_||{},f=null==t?void 0:t.domains;let b=[];f&&(b=f.split(",")),m&&m.forEach((e=>{e.selected=b.includes(e.domain)}));const[x,w]=(null==t?void 0:t.prices)||[],S=x||g,P=w||v,[T,k]=(0,i.useState)(m),[I,A]=(0,i.useState)([S,P]);return(0,i.useEffect)((()=>{k(m),A([S,P]);const e={domains:_e(m)||"",prices:ge({minPrice:S,maxPrice:P,priceFilters:_})};r(me(e))}),[m,S,P]),(0,u.jsxs)(i.Fragment,{children:[(0,u.jsxs)(d.xu,{children:[_&&Object.values(_).length>0&&(0,u.jsx)(ve,{cropSource:e,currencyType:y,currentPrice:I,handlePriceChange:e=>{A(e)},lowerBound:g,upperBound:v}),T&&(0,u.jsx)(p,{cropSource:e,domainFilters:T,handleDomain:e=>{if(!T)return;const t=!T[e].selected,n=[...T.slice(0,e),{...T[e],selected:t},...T.slice(e+1)];k(n)},pinId:n})]}),(0,u.jsx)(d.kC,{alignItems:"center",justifyContent:"center",children:(0,u.jsx)(d.zx,{color:"red",onClick:()=>{h({event_type:102,view_parameter:3396,view_type:72,element:11546});const e=_e(T)||"",[t,n]=I,i={domains:e,prices:ge({minPrice:t,maxPrice:n,priceFilters:_})};o(i),r(me(i))},size:"lg",text:s._('Confirm', 'FeedFilterContainer.FeedFiltering.ConfirmButton', 'Confirms filter selection'),type:"submit"})})]})},fe=({heading:e,onDismiss:t,onReset:n})=>{const i=(0,l.ZP)();return(0,u.jsx)(d.xu,{children:(0,u.jsxs)(d.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,u.jsx)(d.kC,{alignItems:"center",justifyContent:"start",children:(0,u.jsx)(d.hU,{accessibilityLabel:i._('Close', 'SlidingModal.FeedFilterContainer.IconButton', 'Close filters menu'),icon:"cancel",onClick:t,padding:5,size:"lg",iconColor:"gray"})}),(0,u.jsx)(d.kC,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,u.jsx)(d.xv,{align:"center",weight:"bold",children:e})}),(0,u.jsx)(d.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginRight:15}},display:"flex",children:(0,u.jsx)(d.zx,{fullWidth:!0,onClick:n,text:i._('Reset', 'SlidingModal.FeedFilterContainer.ResetButton', 'Reset filters')})})]})})};const be=function({closeFiltersModal:e,cropSource:t,initialProductFilters:n,isOpen:r,pinId:s,productFilters:p,submitFilters:h,updateShowIndicator:m}){const _=(0,l.ZP)(),g=(0,c.Z)();return(0,i.useEffect)((()=>{g({event_type:13,view_parameter:3396,view_type:72,aux_data:{commerce_data:JSON.stringify({source:(0,o.Z)(t)})}})}),[]),(0,u.jsx)(d.xu,{marginEnd:2,children:(0,u.jsxs)(a.Z,{allowClickAndDrag:!0,isOpen:r,accessibilityModalLabel:_._('Filters', 'flashlightPage.slidingModal.accessibilityModalLabel', 'Modal label for product filters'),children:[(0,u.jsx)(fe,{heading:_._('Filters', 'flashlightPage.slidingModal.heading', 'heading for this mobile modal'),onDismiss:e,onReset:()=>{h({domains:"",prices:[]}),m(!1),e(),g({event_type:102,view_parameter:3396,view_type:72,element:11545})}}),(0,u.jsx)(d.xu,{paddingX:5,paddingY:5,children:(0,u.jsx)(ye,{cropSource:t,initialProductFilters:n,productFilters:p,pinId:s,submitFilters:({domains:t,prices:n})=>{h({domains:t,prices:n}),e()},updateShowIndicator:m})})]})})}},225313:(e,t,n)=>{n.d(t,{Z:()=>B});var i=n(667294),a=n(702664),o=n(90771),r=n(31149),s=n(659522),l=n(214680),c=n(331744),d=n(172071),u=n(757146),p=n(785893);function h({size:e=56}){return(0,p.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("rect",{fill:"#e60023",height:"56",rx:"28",width:"56"}),(0,p.jsx)("path",{clipRule:"evenodd",d:"m28 31.9842 6 3.6666v-15.6508h-12v15.6508zm0 3.5158 5.9571 3.6404c1.3327.8145 3.0429-.1447 3.0429-1.7065v-17.4339c0-1.6569-1.3431-3-3-3h-12c-1.6569 0-3 1.3431-3 3v17.4339c0 1.5618 1.7102 2.521 3.0429 1.7065z",fill:"#fff",fillRule:"evenodd"})]})}var m=n(862960),_=n(941646),g=n(499128),v=n(464240),y=n(287072),f=n(89396),b=n(22641),x=n(467570),w=n(867820),S=n(773285),P=n(50286),T=n(167912),k=n(780280),I=n(898781),A=n(112690),C=n(52022),E=n(86802),j=n(642832),R=n(883119),D=n(844974),O=n(644035),L=n(343341);function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const N=56,M=String(86),z=({text:e})=>(0,p.jsx)(R.xv,{align:"center",size:"100",children:e});class Z extends i.PureComponent{constructor(...e){super(...e),F(this,"state",{invitePath:"",inviteCode:null,inviteMessage:"",inviteTitle:"",Clipboard:null,fbLoaded:!1}),F(this,"setClipboard",(e=>{const{Clipboard:t,invitePath:n}=this.state;(0,j.sF)(n,t,e,this.showCopyToast)})),F(this,"showCopyToast",(()=>{var e,t,n,i;this.logShareClick(12),this.setNewAppOrder(12),null===(e=(t=this.props).onShare)||void 0===e||e.call(t),this.props.showToast((({hideToast:e})=>(0,p.jsx)(g.ZP,{text:this.props.i18n._('Copied link to your clipboard to share', 'url link was copied to user clipboard', 'url link was copied to user clipboard'),onHide:e}))),null===(n=(i=this.props).setShareSent)||void 0===n||n.call(i,!0),this.props.trackInteraction({action:"click",item:"copy-link-share-icon"})})),F(this,"getDefaultAppOrder",(()=>{const{country:e,isDesktop:t}=this.props;return(0,j.pW)({country:e,isDesktop:t,shouldShowNativeShare:Boolean(navigator.share)})})),F(this,"getAppOrder",(()=>{const{isDesktop:e}=this.props;let t=JSON.parse((0,D.qn)(E.B));return!t||e?this.getDefaultAppOrder():(t=[...t.filter((e=>11!==e&&12!==e)),12],Boolean(navigator.share)&&t.push(11),t)})),F(this,"setNewAppOrder",(e=>{const{isDesktop:t}=this.props;t||E.F6.has(e)||(0,D.Nh)(E.B,JSON.stringify([e,...this.getAppOrder().filter((t=>t!==e))]))})),F(this,"handleMessagingAppClick",(e=>{var t,n,i,a;null===(t=(n=this.props).onShare)||void 0===t||t.call(n),null===(i=(a=this.props).setShareSent)||void 0===i||i.call(a,!0),this.logShareClick(e),this.setFreshInviteCode(e),E.rO.has(e)||(0,D.Nh)(E.Cq,e),this.setNewAppOrder(e)})),F(this,"handleMessengerClick",(()=>{this.props.trackInteraction({action:"click",item:"fbmessenger-share-icon"}),this.handleMessagingAppClick(6)})),F(this,"handleTwitterClick",(()=>{this.props.trackInteraction({action:"click",item:"twitter-share-icon"}),this.handleMessagingAppClick(9)})),F(this,"handleWhatsappClick",(()=>{this.props.trackInteraction({action:"click",item:"whatsapp-share-icon"}),this.handleMessagingAppClick(10)})),F(this,"handleLineClick",(()=>{this.handleMessagingAppClick(8)})),F(this,"handleTelegramClick",(()=>{this.handleMessagingAppClick(20)})),F(this,"handleViberClick",(()=>{this.handleMessagingAppClick(22)})),F(this,"handleEmailClick",(()=>{this.handleMessagingAppClick(3),this.props.trackInteraction({action:"click",item:"email-share-button"})})),F(this,"handleFacebookClick",(e=>{var t,n,i,a;const{isDesktop:o}=this.props;e.preventDefault(),null===(t=(n=this.props).onShare)||void 0===t||t.call(n),null===(i=(a=this.props).setShareSent)||void 0===i||i.call(a,!0),(0,w.My)(`pcons.${o?"desktop":"mobile"}.facebook-share-icon`),this.props.trackInteraction({action:"click",item:"facebook-share-icon"}),this.logShareClick(5);const{inviteCode:r,invitePath:s,fbLoaded:l}=this.state;(0,j.Rh)(l,s,r||""),this.setFreshInviteCode(5),this.setNewAppOrder(5)})),F(this,"handleSmsClick",(()=>{this.handleMessagingAppClick(4)})),F(this,"logShareClick",((e,t=this.state.inviteCode)=>{const{objectId:n,objectType:i,component:a,clientTrackingParams:o,logContextEvent:r,viewType:s,viewParameter:l,socialShareComponent:c}=this.props;(0,j.Iz)({inviteChannel:e,inviteCode:t,objectId:n,objectType:i,component:a,clientTrackingParams:o,logContextEvent:r,view_type:s,view_parameter:l,socialShareComponent:c})})),F(this,"copyButtonRef",null),F(this,"renderAppsInCustomOrder",(({Email:e,Facebook:t,FBMessenger:n,Line:a,WhatsApp:o,Twitter:r,Viber:s,Telegram:l,CopyLink:c,Sms:d,ShareVia:u})=>{const h=this.getAppOrder(),m=new Map([[6,n],[10,o],[5,t],[9,r],[3,e],[8,a],[20,l],[22,s],[4,d],[12,c],[11,u]]);return(0,p.jsx)(i.Fragment,{children:h.map((e=>m.get(e)))})})),F(this,"onHandleRepinSave",(({event:e,dangerouslyDisableOnNavigation:t})=>{var n,i;t(),null===(n=(i=this.props).onSave)||void 0===n||n.call(i),this.props.onNavigation({event:e})}))}componentDidMount(){this.setFreshInviteCode(12),(0,x.we)(this.props.locale).then((()=>{this.setState({fbLoaded:!0})})),n.e(6527).then(n.t.bind(n,842152,23)).then((({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))}))}componentDidUpdate({objectId:e}){const{objectId:t}=this.props;e!==t&&this.setFreshInviteCode(12)}async setFreshInviteCode(e){const{objectId:t,objectType:n}=this.props,{invitePath:i,inviteCode:a,title:o,message:r}=await(0,j.yP)(e,t,n,this.props.relayEnvironment),s={};i&&(s.invitePath=i),a&&(s.inviteCode=a),o&&(s.inviteTitle=o),r&&(s.inviteMessage=r),this.setState(s)}render(){const{isDesktop:e,objectType:t,onSave:n,showSaveOption:i,isAppleDevice:a,inVerticalContactsShareExp:g}=this.props,{invitePath:y,inviteMessage:x,inviteTitle:w}=this.state,{emailShareLink:S,messengerShareLink:P,twitterShareLink:T,whatsappShareLink:k,lineShareLink:I,telegramShareLink:A,viberShareLink:C,smsShareLink:E}=(0,j.tA)({invitePath:y,inviteTitle:w,objectType:t,i18n:this.props.i18n,isDesktop:e}),D=({children:t})=>(0,p.jsx)(R.kC,{alignItems:"center",justifyContent:"start",direction:"column",width:e?`${M}px`:"100%",children:t}),O=({children:e})=>(0,p.jsx)(R.xu,{display:"flex",justifyContent:"center",paddingX:3,marginBottom:1,children:e}),L=(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(_.Z,{id:"fbmessenger-share-icon",children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:P,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleMessengerClick()},children:(0,p.jsx)(u.Z,{size:N})})})}),(0,p.jsx)(z,{text:this.props.i18n._('Messenger', 'shareMenu.icon.label.messenger', 'Facebook Messenger App')})]}),F=(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(_.Z,{id:"whatsapp-share-icon",children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:k,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleWhatsappClick()},children:(0,p.jsx)(b.Z,{size:N})})})}),(0,p.jsx)(z,{text:this.props.i18n._('WhatsApp', 'shareMenu.icon.label.whatsapp', 'WhatsApp App')})]}),Z=(0,p.jsx)(R.xu,{"data-test-id":"facebook-share-icon",display:"flex",flex:"shrink",children:(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(R.rU,{href:"#",onClick:({event:e})=>{this.handleFacebookClick(e)},children:(0,p.jsx)(s.Z,{size:N})})}),(0,p.jsx)(z,{text:this.props.i18n._('Facebook', 'shareMenu.icon.label.facebook', 'Facebook App')})]})}),B=(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(_.Z,{id:"twitter-share-icon",children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:T,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTwitterClick()},children:(0,p.jsx)(v.Z,{size:N})})})}),(0,p.jsx)(z,{text:this.props.i18n._('Twitter', 'shareMenu.icon.label.twitter', 'Twitter App')})]}),U=(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:I,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleLineClick()},children:(0,p.jsx)(c.Z,{size:N})})}),(0,p.jsx)(z,{text:this.props.i18n._('Line', 'shareMenu.icon.label.line', 'Line App')})]}),H=(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:C,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleViberClick()},children:(0,p.jsx)(f.Z,{size:N})})}),(0,p.jsx)(z,{text:this.props.i18n._('Viber', 'shareMenu.icon.label.viber', 'Viber App')})]}),V=(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:A,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTelegramClick()},children:(0,p.jsx)(m.Z,{size:N})})}),(0,p.jsx)(z,{text:this.props.i18n._('Telegram', 'shareMenu.icon.label.telegram', 'Telegram App')})]}),$=(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(_.Z,{id:"email-share-button",children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:S,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleEmailClick()},children:(0,p.jsx)(r.Z,{size:N})})})}),(0,p.jsx)(z,{text:this.props.i18n._('Email', 'shareMenu.icon.label.email', 'Email App')})]}),K=(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:"#",onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{var n,i;e.preventDefault(),null===(n=(i=this.props).onShare)||void 0===n||n.call(i),t();const a=x.indexOf("https://");navigator.share&&navigator.share({url:y,text:a>0?x.slice(0,a):x,title:w}).then((()=>{this.handleMessagingAppClick(11),d.Z.increment("allshareoptions_navigator_share.success",1)})).catch((e=>{d.Z.increment("allshareoptions_navigator_share.error",1,{name:e.name,message:e.message})}))},children:(0,p.jsx)(R.xu,{height:N,children:(0,p.jsx)(R.hU,{accessibilityLabel:this.props.i18n._('Native share sheet icon', 'shareMenu.icon.accessibilityLabel.native_share_sheet', 'Accessibility label for native share sheet icon'),bgColor:"lightGray",icon:"share",iconColor:"darkGray",size:"xl"})})})}),(0,p.jsx)(z,{text:this.props.i18n._('Share via', 'shareMenu.icon.label.share_via', 'Share via label')})]}),G=(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:E,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleSmsClick()},children:a?(0,p.jsx)(l.Z,{size:N}):(0,p.jsx)(o.Z,{size:N})})}),(0,p.jsx)(z,{text:this.props.i18n._('Message', 'shareMenu.icon.label.message', 'Message App')})]}),W=(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(R.xu,{ref:this.setClipboard,dangerouslySetInlineStyle:{__style:{cursor:e?"pointer":void 0}},"data-test-id":"copy-link-share-icon",height:N,children:(0,p.jsx)(R.hU,{accessibilityLabel:this.props.i18n._('Link icon', 'shareMenu.icon.accessibilityLabel.copy', 'Accessibility label for copy link icon'),bgColor:"lightGray",icon:"link",iconColor:"darkGray",size:"xl"})})}),(0,p.jsx)(z,{text:this.props.i18n._('Copy link', 'shareMenu.icon.label.copy', 'Copy link icon')})]});return(0,p.jsxs)(R.xu,{children:[!g&&(0,p.jsx)(R.xu,{height:4}),(0,p.jsx)(R.kC,{alignItems:"stretch",justifyContent:"start",overflow:"hidden",children:(0,p.jsxs)(R.xu,{display:"flex",justifyContent:"start",height:e?180:void 0,width:e?370:"100vw",marginBottom:-2,marginTop:g?-2:void 0,paddingX:1,paddingY:2,overflow:e?void 0:"scrollX",wrap:e,children:[i&&n&&(()=>(0,p.jsxs)(D,{children:[(0,p.jsx)(O,{children:(0,p.jsx)(R.iP,{rounding:"circle",onTap:this.onHandleRepinSave,children:(0,p.jsx)(h,{size:N})})}),(0,p.jsx)(z,{text:this.props.i18n._('Save', 'shareMenu.icon.label.save', 'Save')})]}))(),this.renderAppsInCustomOrder({Email:$,Facebook:Z,FBMessenger:L,Line:U,WhatsApp:F,Twitter:B,Viber:H,Telegram:V,CopyLink:W,Sms:G,ShareVia:K})]})}),(0,p.jsx)(R.xu,{height:16})]})}}function B(e){const t=(0,I.ZP)(),n=(0,P.HG)(),{showToast:i}=(0,L.F9)(),{country:o,locale:r}=(0,k.B)(),s=(0,y.Z)({href:{pathname:`/pin/${e.objectId}/repin`,state:{viewType:e.viewType,viewParameter:e.viewParameter}}}),{checkExperiment:l}=(0,S.F)(),c=(0,a.useSelector)((({session:e})=>e.userAgentPlatform)),d=c===O.RL||c===O.s4,u=l("graphql_migration_sharesheet_sgrowth_web").anyEnabled,h=(0,T.useRelayEnvironment)(),m=(0,A.Z)(),_=(0,C.Z)();return(0,p.jsx)(Z,{...e,country:o,i18n:t,isDesktop:n,locale:r,showToast:i,onNavigation:s,logContextEvent:m,isAppleDevice:d,relayEnvironment:u?h:void 0,trackInteraction:_})}},642832:(e,t,n)=>{n.d(t,{Iz:()=>g,Rh:()=>p,pW:()=>d,rL:()=>_,sF:()=>h,tA:()=>u,yP:()=>m});var i,a,o=n(214494),r=n(467570),s=n(867060),l=n(167912);const c={FBMessenger:6,WhatsApp:10,Facebook:5,Twitter:9,Email:3,Line:8,Telegram:20,Viber:22,Sms:4,CopyLink:12,ShareVia:11};function d({country:e,isDesktop:t,shouldShowNativeShare:n}){const{FBMessenger:i,WhatsApp:a,Facebook:o,Twitter:r,Email:s,Line:l,Telegram:d,Viber:u,Sms:p,CopyLink:h,ShareVia:m}=c;function _(){switch(e){case"US":return t?[a,o,r,s]:[p,i,a,o,r];case"ID":return t?[a,l,s,o]:[a,d,p,l,s,o];case"JP":case"TH":case"TW":return t?[l,r,s,o]:[l,s,p,r,o];case"GR":return t?[a,o,r,s]:[u,i,a,p,o,r];case"IR":case"IQ":return t?[a,o,r,s]:[a,d,p,i,r];case"UA":case"RU":return t?[a,o,r,s]:[a,u,d,o,i,p,r];default:return t?[a,o,r,s]:[a,i,p,o,r]}}return t?[h,..._()]:[..._(),h,...n?[m]:[]]}function u({invitePath:e,inviteTitle:t,objectType:n,i18n:i,isDesktop:a}){let o=i._('A Pin for you', 'shareMenu.message.title', 'Messaging title when sharing a pin to a friend');8===n&&(o=i._('Check out this article on Pinterest!', 'shareMenu.message.title', 'Messaging title when sharing a today article to a friend'));const s=`mailto:?subject=${encodeURIComponent(o)}&body=${encodeURIComponent(e)}`,l=`fb-messenger://share/?link=${encodeURIComponent(e)}&app_id=${r.GH}`,c=`${t}\n${e}`,d=a?`https://twitter.com/intent/tweet?via=pinterest&url=${encodeURIComponent(c)}`:`twitter://post?message=${encodeURIComponent(c)}`,u=a?`https://web.whatsapp.com/send?text=${encodeURIComponent(c)}`:`whatsapp://send?text=${encodeURIComponent(c)}`,p=a?`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`:`https://line.me/R/msg/text/?${encodeURIComponent(c)}`,h=`viber://forward?text=${encodeURIComponent(c)}`;return{emailShareLink:s,messengerShareLink:l,twitterShareLink:d,whatsappShareLink:u,lineShareLink:p,telegramShareLink:`tg://msg?text=${encodeURIComponent(c)}`,viberShareLink:h,smsShareLink:`sms:?&body=${encodeURIComponent(c)}`}}function p(e,t,n,i){e&&window.FB&&window.FB.ui&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},(e=>{e&&!e.error_message&&i&&i()}))}function h(e,t,n,i){if(!n||!t)return;const a=new t(n,{text:()=>e});a.on("success",(e=>{i&&i(e)})),a.on("error",(e=>{throw new Error("<ShareMenu /> error: copy command failed")}))}async function m(e,t,a,r){if(r)return((e,t,a,o,r)=>{const s=void 0!==i?i:i=n(865107),c={invite_category:t,invite_object:a,invite_channel:o};return(0,l.fetchQuery)(e,s,{inviteType:JSON.stringify(c),objectId:r}).toPromise().then((e=>{var t;return Promise.resolve((e=>{var t,n,i,a;return{inviteCode:null!==(t=null==e?void 0:e.inviteCode)&&void 0!==t?t:"",invitePath:null!==(n=null==e?void 0:e.inviteUrl)&&void 0!==n?n:"",title:null!==(i=null==e?void 0:e.title)&&void 0!==i?i:"",message:null!==(a=null==e?void 0:e.message)&&void 0!==a?a:""}})(null==e||null===(t=e.v3InviteUserExternalQuery)||void 0===t?void 0:t.data))}),(e=>Promise.reject(e)))})(r,3,a,e.toString(),t);{const n=o.Z.create("CreateExternalInviteResource",{invite_type:{invite_category:3,invite_object:a,invite_channel:e},object_id:t}),i=await n.callCreate(),{invite_url:r,invite_code:s,title:l,message:c}=i.resource_response.data;return{inviteCode:s,invitePath:r,title:l,message:c}}}const _=(e,t,i,o,r,s)=>{const c=void 0!==a?a:a=n(361600),d={inviteType:JSON.stringify({invite_category:t,invite_object:i,invite_channel:o}),inviteCode:r,objectId:s};(0,l.commitMutation)(e,{mutation:c,variables:{...d}})};async function g({inviteChannel:e,inviteCode:t,objectId:n,objectType:i,component:a,clientTrackingParams:r,logContextEvent:l,view_parameter:c,view_type:d,socialShareComponent:u}){let p,h;l({aux_data:{invite_object:i},object_id_str:n,component:a,clientTrackingParams:r,element:s.cc[e],event_type:102,view_type:d,view_parameter:c}),p=2===i?s.LO:3===i?s.Pu:s.dB,h=14122===a?14312:14123===a?14310:u||a,l({event_type:10399,component:h,object_id_str:n,view_type:d,view_parameter:c,aux_data:{invite_object:i},element:p[e]}),o.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:3,invite_object:i,invite_channel:e},invite_code:t,object_id:n,client_tracking_params:r}).callCreate()}},590674:(e,t,n)=>{n.r(t),n.d(t,{default:()=>W});var i=n(667294),a=n(225313),o=n(702664),r=n(766935),s=n(72566),l=n(936776),c=n(172071),d=n(214494),u=n(700380),p=n(784590),h=n(19121),m=n(53987),_=n(773285),g=n(385740),v=n(698330),y=n(878499),f=n(116303),b=n(499128),x=n(407043),w=n(898781),S=n(927383),P=n(349700),T=n(313951),k=n(883119),I=n(276775),A=n(343341),C=n(785893);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class j extends i.PureComponent{constructor(...e){var t;super(...e),t=this,E(this,"state",{viewConversation:!1,isSent:!1,path:""}),E(this,"renderViewConversationButton",(()=>{const{viewConversation:e}=this.state;return e?(0,C.jsxs)(k.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,C.jsx)(k.zx,{fullWidth:!0,size:"sm",text:this.props.i18n._('View chat', 'View current chat', 'View current chat'),color:"white",onClick:()=>{this.onViewConversation()}}),(0,C.jsx)(k.JO,{icon:"arrow-forward",color:"default",accessibilityLabel:this.props.i18n._('View chat', 'View current chat', 'View current chat')})]}):(0,C.jsxs)(k.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,C.jsx)(k.xu,{marginEnd:2,children:(0,C.jsx)(k.JO,{icon:"check",color:"default",accessibilityLabel:this.props.i18n._('sent', 'content is sent', 'content is sent')})}),(0,C.jsx)(k.xu,{marginEnd:2,children:(0,C.jsx)(k.xv,{size:"300",color:"subtle",weight:"bold",children:this.props.i18n._('Sent', 'mweb.sharemenu.contactItem.isSent', 'Text notification indicating a Pin has been sent to a pinner')})})]})})),E(this,"onViewConversation",(()=>{const{path:e}=this.state,{sendObject:t,component:n}=this.props;let i;c.Z.increment("mweb_sharesheet_view_conversation",1),this.props.history.push(e),i=3===t.objectType?13532:2===t.objectType?13529:13526,this.props.logContextEvent({view_type:this.props.viewType,event_type:10399,component:n,element:i})})),E(this,"onInlineSend",this.props.requireAuthForLimitedLogin({fn:async function(){const e={1:"pin",2:"board",3:"user",8:"today_article"},{createConversation:n,i18n:i,isFullHeight:a,onDismiss:o,setShareSent:r,recipient:s,sendObject:l,showToast:d,email:u,updateCachedContactsAfterSend:p,userId:h,logContextOnSend:m}=t.props,_=e[l.objectType];null==m||m(),t.setState({isSent:!0});try{const e=await n({user_ids:s?[s.id,h]:void 0,[_]:l.objectId,emails:u?[u]:void 0});if(e){const n=e.id;t.setState({path:`/conversation/${n}`,viewConversation:!0}),c.Z.increment("mweb_sharesheet.inline_send",1,{success:!0}),r(!0),null==p||p(),!a&&o&&(d((({hideToast:e})=>(0,C.jsx)(b.ZP,{dataTestId:"sharesheet-inline-send-toast",primaryAction:{accessibilityLabel:i._('View the conversation', 'ContactItem.ConfirmationToast.a11yButtonText', 'Button on confirmation toast after a user sends a Pin/Board/Profile to view the conversation'),label:i._('View', 'ContactItem.ConfirmationToast.buttonText', 'Button on confirmation toast after a user sends a Pin/Board/Profile to view the conversation'),onClick:t.onViewConversation},duration:4e3,onHide:e,text:(0,P.Wc)(i._('Sent to {{recipientName}}!', 'ContactItem.ConfirmationToast.text', 'Confirmation toast after a user sends a Pin/Board/Profile'),{recipientName:(null==s?void 0:s.full_name)||""}),thumbnail:{avatar:(0,C.jsx)(f.Z,{size:"fit",src:(null==s?void 0:s.image_large_url)||"",name:(null==s?void 0:s.full_name)||""})}}))),o(n))}}catch(g){d((({hideToast:e})=>(0,C.jsx)(b.ZP,{type:"error",text:(null==g?void 0:g.message_detail)||(null==g?void 0:g.message)||i._('Failed to create conversation.', 'ContactItem.errorToast.text', 'Error during message send from the share sheet'),onHide:e}))),t.setState({isSent:!1}),c.Z.increment("mweb_sharesheet.inline_send",1,{success:!1,error:g})}}}))}render(){var e,t,n,a,o,r;const{isFullHeight:s,recipient:l,email:c,inVerticalContactsShareExp:d}=this.props,{isSent:u}=this.state,p=(0,C.jsx)(k.zx,{fullWidth:!0,size:"lg",color:"gray",text:this.props.i18n._('Send', 'Send current content', 'Send current content'),onClick:()=>{this.onInlineSend()}});return!s&&l?(0,C.jsx)(i.Fragment,{children:d?(0,C.jsxs)(k.xu,{display:"flex",alignItems:"center",paddingX:3,paddingY:2,children:[(0,C.jsx)(k.kC,{height:48,width:48,flex:"none",children:(0,C.jsx)(f.Z,{size:"md",src:null!==(e=l.image_large_url)&&void 0!==e?e:"",name:null!==(t=l.full_name)&&void 0!==t?t:""})}),(0,C.jsx)(k.xu,{paddingX:2,marginStart:2,display:"flex",flex:"grow",children:(0,C.jsx)(k.xv,{lineClamp:1,children:l.full_name})}),(0,C.jsx)(k.xu,{"data-test-id":"sharesheet-send-button",children:p})]}):(0,C.jsxs)(k.xu,{"data-test-id":"sharesheet-send-button",display:"flex",direction:"column",paddingX:3,paddingY:4,children:[(0,C.jsx)(k.iP,{onTap:()=>this.onInlineSend(),children:(0,C.jsx)(k.xu,{height:56,marginBottom:1,width:56,children:(0,C.jsx)(f.Z,{size:"fit",src:null!==(n=l.image_large_url)&&void 0!==n?n:"",name:null!==(a=l.full_name)&&void 0!==a?a:""})})}),(0,C.jsx)(k.xu,{width:56,children:(0,C.jsx)(k.xv,{lineClamp:1,size:"100",align:"center",children:l.full_name})})]})}):(0,C.jsxs)(k.xu,{"data-test-id":"sharesheet-send-button",position:"relative",direction:"row",display:"flex",width:"100%",alignItems:"center",justifyContent:"between",paddingY:2,children:[l?(0,C.jsx)(k.xu,{children:(0,C.jsx)(f.Z,{size:"md",src:null!==(o=l.image_large_url)&&void 0!==o?o:"",name:null!==(r=l.full_name)&&void 0!==r?r:""})}):c&&(0,C.jsx)(k.xu,{children:(0,C.jsx)(f.Z,{size:"md",name:c})}),(0,C.jsx)(k.xu,{paddingX:2,flex:"grow",maxWidth:"71%",children:(0,C.jsx)(k.xv,{lineClamp:1,weight:"bold",children:l?l.full_name:c&&u?c:(0,P.nk)(this.props.i18n._('invite {{email}}', 'mweb.newMessage.searchEmail', 'invite from email'),{email:c})})}),(0,C.jsx)(k.xu,{"data-test-id":"sharesheet-viewchat-link",right:!0,flex:"none",maxWidth:"100%",children:u?this.renderViewConversationButton():p})]})}}function R(e){const t=(0,I.useHistory)(),n=(0,w.ZP)(),i=(0,S.Z)(),{showToast:a}=(0,A.F9)(),o=(0,T.aX)(),{logContextEvent:r}=(0,x.v)();return(0,p.Z)({name:"ConversationsResource",options:{user_ids:[e.userId]}}),(0,C.jsx)(j,{...e,createConversation:o,history:t,i18n:n,requireAuthForLimitedLogin:i,showToast:a,logContextEvent:r})}var D=n(112690),O=n(248327);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const F={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};class N extends i.PureComponent{componentDidUpdate(e){const{fetching:t}=e,{value:n}=this.state,i=t&&!this.props.fetching,a=this.getContactSuggestions();if(!n&&i){const e=a.length>0?7511:7512;this.props.logContextEvent({event_type:e,view_type:70,view_parameter:256})}}constructor(e){super(e),L(this,"state",{value:"",showScrollShadow:!1,defaultSuggestions:[],loadingDefaultSuggestions:!0}),L(this,"onSearchChange",(({value:e})=>{const{userId:t,searchContacts:n}=this.props,i={options:{user:t,term:e}};this.setState({value:e},n(i))})),L(this,"getContactSuggestions",(()=>{const{typeaheadSuggestions:e,userId:t,users:n}=this.props,{value:i,defaultSuggestions:a}=this.state;if(!i)return a.filter((e=>e.id&&n[e.id]))||[];const o=`term="${i}",user="${t}"`,r=`term="${i.slice(0,-1)}",user="${t}"`;return e[o]||e[r]||[]})),L(this,"renderContactSuggestions",(()=>{const{expandContactsList:e,fetching:t,i18n:n,isFullHeight:i,logContextEvent:a,onDismiss:o,sendObject:r,setShareSent:s,userId:c,updateCachedContactsAfterSend:d,viewType:u,viewParameter:p,inVerticalContactsShareExp:h,location:_,component:g}=this.props,{loadingDefaultSuggestions:v,value:y}=this.state,f=this.getContactSuggestions(),b=t||v,x=h?48:56,w=()=>{let t;a({event_type:102,view_type:70,view_parameter:256,component:14315,element:13498}),t=3===r.objectType?13531:2===r.objectType?13528:13525,a({view_type:(0,m.b0)(_)?42:u,view_parameter:(0,m.b0)(_)?203:p,event_type:10399,component:g,element:t}),e()},S=e=>{const t=y&&y.trim(),{selected_contact_index:n,selected_contact_reason:o}=e||{},s=()=>t?(0,l.Z)(t)?{is_selected_contact_email:"true"}:{search_query_length:JSON.stringify(t.length),selected_contact_index:n,selected_contact_reason:o}:{selected_contact_index:n,selected_contact_reason:o};let c;a({event_type:102,view_type:70,view_parameter:i?3827:256,component:t?14314:14315,element:10837,aux_data:s()}),c=3===r.objectType?13530:2===r.objectType?13527:13524,a({event_type:10399,view_type:(0,m.b0)(_)?42:u,view_parameter:(0,m.b0)(_)?203:p,component:g,element:c,aux_data:s()})};let P;return P=!i&&b?107:"100%",b?(0,C.jsx)(k.xu,{alignItems:"center",display:"flex",justifyContent:"center",height:P,paddingY:2,children:(0,C.jsx)(k.$j,{show:!0,accessibilityLabel:n._('Searching for contacts', 'Placeholder text for spinner on share menu', 'Placeholder text for spinner on share menu')})}):0===f.length&&!(0,l.Z)(y)&&y&&i?(0,C.jsx)(k.xu,{marginTop:3,children:(0,C.jsx)(k.xv,{align:"center",children:n._('Sorry, we can\'t find anyone by that name.', 'Text to show empty state when a contact can not be found', 'Text to show empty state when a contact can not be found')})}):(0,C.jsx)(k.kC,{direction:i?"column":"row",overflow:i?void 0:"hidden",children:(0,C.jsxs)(k.xu,{display:i?void 0:"flex",direction:!i&&h?"column":void 0,height:P,overflow:i||h?void 0:"scrollX",paddingX:i?4:1,width:"100%",children:[0===f.length&&(0,l.Z)(y)&&(0,C.jsx)(R,{email:y,isFullHeight:i,sendObject:r,setShareSent:s,userId:c,logContextOnSend:S,viewType:u,component:g}),!i&&(0,C.jsxs)(k.xu,{alignItems:"center",display:"flex",direction:h?"row":"column",paddingX:3,paddingY:h?2:4,children:[(0,C.jsx)(k.xu,{marginEnd:h?1:void 0,marginBottom:h?void 0:1,"data-test-id":"sharesheet-search-icon",width:x,height:x,children:(0,C.jsx)(k.hU,{accessibilityLabel:n._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:w,size:h?"lg":"xl"})}),(0,C.jsx)(k.xu,{paddingX:h?1:void 0,marginStart:h?2:void 0,display:"flex",flex:"grow",children:(0,C.jsx)(k.iP,{onTap:h?w:void 0,children:(0,C.jsx)(k.xv,{lineClamp:1,size:h?void 0:"100",children:h?n._('Search contacts', 'ContactsSuggestions.SearchOption.text', 'Label for search icon in Contacts Suggestions list'):n._('Search', 'ContactsSuggestions.SearchOption.text', 'Label for search icon in Contacts Suggestions list')})})})]}),f.map(((e,t)=>(0,C.jsx)(R,{isFullHeight:i,onDismiss:o,recipient:e,sendObject:r,setShareSent:s,userId:c,updateCachedContactsAfterSend:d,logContextOnSend:()=>{S({selected_contact_index:JSON.stringify(t),selected_contact_reason:JSON.stringify(e.debug_reason.reason)})},viewType:u,inVerticalContactsShareExp:h,component:g},e.id)))]})})})),this.scrollerRef=(0,i.createRef)()}async componentDidMount(){const{inContactsCacheExp:e,cachedShareSuggestions:t,getFreshContactSuggestions:n,updateCachedShareSuggestions:i}=this.props;if(e)if(t)this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:t});else{const e=await n()||[];i(e),this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:e})}else{const e=await n()||[];this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:e})}}render(){const{showScrollShadow:e}=this.state,{isFullHeight:t,expandContactsList:n}=this.props,a=(0,u.Z)((()=>{const e=this.scrollerRef.current;e&&!Number.isNaN(e.scrollTop)&&this.setState({showScrollShadow:e.scrollTop>0})}),100);return(0,C.jsx)(i.Fragment,{children:t?(0,C.jsxs)(k.xu,{color:"default",display:"flex",direction:"column",paddingX:0,height:"90%",children:[(0,C.jsx)(k.xu,{"data-test-id":"contact-suggestion-search-field",paddingY:2,color:"default",paddingX:4,dangerouslySetInlineStyle:{__style:e?F:null},children:(0,C.jsx)(s.Z,{accessibilityLabel:this.props.i18n._('search contact', 'Accessibility label for searchbar on share menu', 'Accessibility label for searchbar on share menu'),id:"contactsSuggestSearchField",onChange:this.onSearchChange,onFocus:n,placeholder:this.props.i18n._('Search by name or email', 'Placeholder text for searchbar on share menu', 'Placeholder text for searchbar on share menu'),value:this.state.value,autoFocus:t})}),(0,C.jsx)(k.xu,{display:"flex",direction:"column",paddingY:1,overflow:"scrollY",onScroll:a,ref:this.scrollerRef,children:this.renderContactSuggestions()})]}):(0,C.jsx)(k.xu,{children:this.renderContactSuggestions()})})}}function M(e){const t=(0,w.ZP)(),n=(0,v.kW)(),i=(0,D.Z)(),{id:a}=(0,h.Z)(),s=(0,o.useDispatch)(),{viewType:l}=(0,g.SU)(),u=(0,I.useLocation)();(0,p.Z)({name:"ShareSuggestionsTypeaheadResource",options:{term:"",user:a}});const m=(0,o.useSelector)((({resources:e})=>{const{ShareSuggestionsTypeaheadResource:t}=e,n={};for(const i of Object.keys(t||{})){const e=t[i].data;e&&e.items&&(n[i]=e.items)}return n})),f=(0,o.useSelector)((e=>e.resources.ShareSuggestionsTypeaheadResource)),b=Object.keys(f||{}).some((e=>f[e].fetching)),{cachedShareSuggestions:x,clearCachedShareSuggestions:S,updateCachedShareSuggestions:P}=(0,y.$)(),T=async()=>{let e;const t=d.Z.create("ShareSuggestionsResource",{suggestion_type:"share"});try{var n;e=null===(n=(await t.callGet()).resource_response)||void 0===n?void 0:n.data}catch(i){c.Z.increment("mweb_share_menu_load_suggestions.fail.share",1)}return e},{checkExperiment:k}=(0,_.F)(),A=k("mweb_cache_contacts_share").anyEnabled;return(0,C.jsx)(N,{...e,i18n:t,logContextEvent:i,users:n,searchContacts:e=>{(0,r.Z)(s((0,O.U)("ShareSuggestionsTypeaheadResource",e)),200)},fetching:b,userId:a||"",typeaheadSuggestions:m,inContactsCacheExp:A,cachedShareSuggestions:x,getFreshContactSuggestions:T,updateCachedContactsAfterSend:async()=>{if(A){S();const e=await T();e&&P(e)}},updateCachedShareSuggestions:P,viewType:l,location:u})}var z=n(79113),Z=n(121151),B=n(52022),U=n(749049),H=n(867820),V=n(50286);const $=14121,K=({heading:e,onDismiss:t})=>{const n=(0,w.ZP)();return(0,C.jsxs)(k.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,C.jsx)(k.xu,{display:"flex",alignItems:"center",padding:1,children:(0,C.jsx)(k.hU,{accessibilityLabel:n._('Close', 'close share menu', 'close share menu'),icon:"cancel",onClick:t,size:"sm",iconColor:"darkGray",padding:4})}),(0,C.jsx)(k.xu,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"center",marginEnd:12,children:(0,C.jsx)(k.xv,{align:"center",weight:"bold",children:(0,C.jsx)("span",{className:"deprecatedTextSizeXL",children:e})})})]})},G=({children:e,isOpen:t,onDismiss:n,childPaddingX:i=3,shouldRenderCloseIcon:a,shouldRenderFullHeight:o,heading:r})=>{const s=(0,w.ZP)(),l={mobileAccessibilityCloseIconLabel:s._('close send modal', ' - ', ' -- '),accessibilityModalLabel:"",heading:r,mobileHideCloseIcon:!a,isOpen:t,onDismiss:n,type:"share_menu"};return o?(0,C.jsxs)(z.Z,{isOpen:t,accessibilityModalLabel:r,children:[(0,C.jsx)(K,{heading:r,onDismiss:n}),e]}):(0,C.jsx)(Z.ZP,{...l,children:(0,C.jsx)(k.xu,{marginTop:a?0:4,paddingX:i,children:e})})},W=({isOpen:e,onDismiss:t,objectType:n,objectId:o,hideContactsSuggestions:r,clientTrackingParams:s,element:l,viewType:d,viewParameter:u,component:p})=>{const g=(0,w.ZP)(),[v,y]=(0,i.useState)(!1),[f,b]=(0,i.useState)(!1),x=(0,I.useLocation)(),{checkExperiment:S}=(0,_.F)(),P=(0,D.Z)(),T=(0,B.Z)(),{should_show_messaging:A}=(0,h.Z)(),E=r||!A,j=p,R=e=>{S("mweb_share_menu_logging").anyEnabled&&P({clientTrackingParams:s,component:$,event_type:f||e?7493:7492,element:13097,view_type:70,view_parameter:u,aux_data:{invite_object:n}}),f||void 0!==e||P({clientTrackingParams:s,component:p,event_type:10403,element:13478,view_type:d,view_parameter:u,aux_data:{invite_object:n}});const i=(e=>(0,m.cD)(e)?"profile_page":(0,m.am)(e)?"board_page":(0,m.uM)(e)?"pin_page":"unknown")(x);T({action:"click",item:"close-share-menu"}),t(),(0,H.My)(`mweb_${i}_share_menu.click_invite.close`)},O=S("mweb_share_menu_logging").anyEnabled;(0,i.useEffect)((()=>{e&&(P({event_type:7120,component:$,object_id_str:o,clientTrackingParams:O?s:null,element:O?l:null,view_type:O?d:70,view_parameter:O?u:256,aux_data:O?{invite_object:n}:void 0}),P({event_type:10400,component:p,object_id_str:o,clientTrackingParams:s,element:(0,U.O)(n),view_type:d,view_parameter:u,aux_data:{invite_object:n}}))}),[e,S,O]);const L=(0,V.Wb)(),F=!E&&S("mweb_share_sheet_vertical_contacts").anyEnabled,N=g._('Send on Pinterest', 'Heading for share contacts search', 'Heading for share contacts search'),z=F?g._('Share to', 'ShareMenu.AllShareOptions.HeaderText', 'Header for social share options section of the share menu'):g._('Share', 'ShareMenu.AllShareOptions.HeaderText', 'Header for social share options section of the share menu'),Z=v?N:(0,C.jsx)(k.xu,{marginTop:0,children:(0,C.jsx)(k.xv,{align:"center",weight:"bold",size:"300",children:E||F?z:N})}),K=(0,C.jsx)(M,{sendObject:{objectId:o,objectType:n},expandContactsList:()=>{y(!0),c.Z.increment("mweb_sharesheet.contacts.expand",1)},isFullHeight:v,onDismiss:R,setShareSent:e=>b(e),viewType:d,viewParameter:u,inVerticalContactsShareExp:F,component:j}),W=(0,C.jsx)(a.Z,{objectId:o,objectType:n,viewType:O?d:70,viewParameter:u,onDismiss:R,setShareSent:e=>b(e),clientTrackingParams:s,component:$,inVerticalContactsShareExp:F,socialShareComponent:j});return(0,C.jsx)(G,{isOpen:e,onDismiss:v?()=>{y(!1),c.Z.increment("mweb_sharesheet.contacts.collapse",1)}:()=>R(),shouldRenderFullHeight:v,shouldRenderCloseIcon:!0,childPaddingX:0,heading:Z,children:(0,C.jsx)(k.kC,{justifyContent:"center",children:(0,C.jsx)(k.xu,{width:L?440:"100%",height:"100%",children:v?K:(0,C.jsx)(i.Fragment,{children:E?(0,C.jsx)(k.xu,{marginBottom:8,children:W}):(0,C.jsx)(i.Fragment,{children:F?(0,C.jsxs)(k.xu,{maxHeight:L?552:526,marginTop:L?-6:void 0,overflow:"scrollY",paddingY:L?6:void 0,position:L?"relative":void 0,rounding:L?8:void 0,zIndex:L?new k.Ry(1):void 0,children:[W,(0,C.jsxs)(i.Fragment,{children:[(0,C.jsxs)(k.xu,{paddingX:4,children:[(0,C.jsx)(k.xu,{marginTop:2,marginBottom:4,children:(0,C.jsx)(k.iz,{})}),(0,C.jsx)(k.xu,{paddingY:2,children:(0,C.jsx)(k.xv,{size:"300",weight:"bold",children:N})})]}),K]})]}):(0,C.jsxs)(k.xu,{marginBottom:8,marginTop:-4,children:[(0,C.jsxs)(i.Fragment,{children:[K,(0,C.jsxs)(k.xu,{marginTop:4,paddingX:4,children:[(0,C.jsx)(k.iz,{}),(0,C.jsx)(k.xu,{marginTop:8,children:(0,C.jsx)(k.xv,{align:"center",size:"300",weight:"bold",children:z})})]})]}),W]})})})})})})}},878499:(e,t,n)=>{n.d(t,{$:()=>s,l:()=>l});var i=n(667294),a=n(425288),o=n(785893);const{Provider:r,useHook:s}=(0,a.Z)("ShareSuggestions");function l({children:e}){const[t,n]=(0,i.useState)(void 0),a=(0,i.useCallback)((()=>{n(void 0)}),[]),s=(0,i.useCallback)((e=>{n(e)}),[]),l=(0,i.useMemo)((()=>({cachedShareSuggestions:t,clearCachedShareSuggestions:a,updateCachedShareSuggestions:s})),[t,a,s]);return(0,o.jsx)(r,{value:l,children:e})}},86802:(e,t,n)=>{n.d(t,{B:()=>o,Cq:()=>a,F6:()=>u,RV:()=>i,VZ:()=>r,W_:()=>l,bm:()=>s,iS:()=>p,rO:()=>d,zn:()=>c});const i="animatedShareIconLastViewed",a="lastUsedSocialShare",o="customizedSocialAppOrder",r=44,s=9e5,l=4e3,c=5e3,d=new Set([12,3,11]),u=new Set([11,12]),p=new Map([["AU",6],["CA",6],["DK",6],["DZ",6],["GE",6],["HU",6],["LT",6],["NO",6],["NP",6],["NZ",6],["PH",6],["PL",6],["SK",6],["TN",6],["US",6],["JP",8],["TW",8],["TH",8],["IQ",20],["KH",20],["MM",20],["UZ",20],["BA",22],["BG",22],["BY",22],["CY",22],["GR",22],["MD",22],["RS",22],["UA",22]])},749049:(e,t,n)=>{n.d(t,{O:()=>i});const i=e=>{switch(e){case 2:return 331;case 3:return 12631;default:return 72}}},72566:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(883119),o=n(785893);class r extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{e&&(this.searchRef=e)},(n="setSearchRef")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.props.autoFocus&&this.searchRef.focus()}render(){const{accessibilityLabel:e,id:t,onBlur:n,onChange:i,onFocus:r,placeholder:s,value:l}=this.props;return(0,o.jsx)(a.Um,{accessibilityLabel:e,id:t,onBlur:n,onChange:i,onFocus:r,placeholder:s,ref:this.setSearchRef,size:"lg",value:l})}}},163321:(e,t,n)=>{n.d(t,{Z:()=>_,e:()=>p});var i=n(702664),a=n(240684),o=n(46584),r=n(131108),s=n(599997),l=n(883119),c=n(332611),d=n(785893);const u=(0,a.ZP)({resolved:{},chunkName:()=>"storyPins-duplo-HlsVideoContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(19596).then(n.bind(n,881999)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 881999}}),p=Object.freeze({white:"inverse",black:"default"}),h={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function m({titleText:e,videoPin:t,videoPlaceholderImage:n}){return(0,d.jsx)(u,{fallback:(0,d.jsx)(l.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:n||t.metadata.thumbnail}),aspectRatio:s.q4,controls:!1,poster:n||t.metadata.thumbnail,src:t.url})}function _({buttonAction:e,buttonCustomization:t,buttonText:n,experience:a,hideCompleteButton:u,imageAlt:p,imageUrl:_,openNewTab:g,storyType:v,titleText:y,titleTextColor:f,titleTextCustomization:b,videoPin:x,videoPlaceholderImage:w}){var S;const P=(0,i.useDispatch)(),{experience_id:T,placement_id:k}=a||{},I=(0,o.Z)({onVisibilityChanged:e=>{e&&a&&"viewed"!==a.status&&(a.status="viewed",P((0,c.UT)(k,T,!1,!0)))}}),A=(0,s.zn)(v),C=A?r.f8:r.hm,E=A?r.sH:r.HI,j=!A,{color:R,fontStyle:D,fontWeight:O,horizontalAlignment:L,fontSize:F}=(0,s.Mf)(b||{},"mweb"),{button_background_color:N,button_text_color:M}=t||{};return(0,d.jsx)(l.xu,{position:"relative",padding:1,marginBottom:2,ref:I,children:(0,d.jsxs)(l.rU,{accessibilityLabel:y,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),a&&P((0,c.CK)(k,T,!1,!0))},target:g?"blank":null,children:[(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,d.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,d.jsx)(l.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:"feed_card_video"===v&&x?(0,d.jsx)(m,{titleText:y,videoPin:x,videoPlaceholderImage:w}):_&&(0,d.jsx)(l.Ee,{alt:p||y||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:_,fit:"cover"})}),j&&(0,d.jsx)(l.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:h.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,d.jsx)(C,{children:(0,d.jsx)(l.xv,{align:L,color:f,italic:"italics"===D,weight:O,children:(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(S=R||f)&&void 0!==S?S:void 0,fontSize:F}},children:y})})})]})}),!u&&(0,d.jsx)(E,{children:(0,d.jsx)(l.xu,{display:"flex",rounding:"pill",color:A?"default":"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:N}},justifyContent:"center",alignItems:"center",paddingX:2,height:48,children:(0,d.jsx)(l.xv,{weight:"bold",size:"200",lineClamp:1,children:(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:M}},children:n})})})})]})})}},706794:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(702664),o=n(491563),r=n(19121),s=n(773285),l=n(350118),c=n(861411),d=n(883119),u=n(785893);function p({slotIndex:e,storyId:t,exactMatch:n=!1}){const{isAuth:p}=(0,r.Z)(),{checkExperiment:h}=(0,s.F)(),m=(0,l.S6)(),{action:_,aux_fields:g,objects:v,story_type:y,title:f}=(0,a.useSelector)((({stories:e})=>e[t])),b=v[0].id,x=v.slice(1,3).map((({id:e})=>m(e)));return!n&&x.length<2?null:h(p?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,u.jsx)(c.qS,{auxData:{content_ids:x.map((e=>null==e?void 0:e.id)),story_id:t,story_type:y,...g},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:({impressionTrackerRef:e})=>(0,u.jsxs)(d.xu,{ref:e,children:[f&&(0,u.jsx)(d.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(d.xv,{align:"center",children:f.format})}),(0,u.jsx)(o.Z,{action:_,auxData:g,isPinnerAuthorityHero:n,userId:b,userPins:n?void 0:x,userSearchRepStyle:n,viewParameter:43,viewType:2})]})}):(0,u.jsx)(c.Hs,{auxData:{content_ids:x.map((e=>null==e?void 0:e.id)),story_id:t,story_type:y,...g},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:(0,u.jsxs)(i.Fragment,{children:[f&&(0,u.jsx)(d.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(d.xv,{align:"center",children:f.format})}),(0,u.jsx)(o.Z,{action:_,auxData:g,isPinnerAuthorityHero:n,userId:b,userPins:n?void 0:x,userSearchRepStyle:n,viewParameter:43,viewType:2})]})})}},687866:(e,t,n)=>{n.d(t,{UG:()=>u,ZP:()=>h,aG:()=>p});var i=n(667294),a=n(116303),o=n(898781),r=n(52022),s=n(57791),l=n(940882),c=n(883119),d=n(785893);const u={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest"},p={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}}};function h({backgroundColor:e,bubbleId:t,bubbleUrl:n,coverImageUrl:h,curator:m,font:_,format:g,height:v,identifierIconType:y,onTap:f,pwtSurfaceContext:b,referringSource:x,subtitle:w,title:S,buttonFormat:P,contentAlign:T="center",textAlign:k="center",width:I="100%"}){const A=(0,o.ZP)(),C=(0,r.Z)(),[E,j]=(0,i.useState)("string"==typeof v?void 0:v),R=e=>{if(e){const t=e.offsetWidth,n="string"==typeof v?Number.parseFloat(v):100;j(t*n/100)}};if(!E)return(0,d.jsx)(c.xu,{ref:R,dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof v?Number.parseFloat(v)+"%":"100%",width:I}}});const D=g===u.article,O=g===u.interest,L=_||E>250&&"lg"||E>140&&g&&[u.medium,u.small,u.article].includes(g)&&"md"||E<120&&g&&g===u.small&&"xs"||"sm";return(0,d.jsx)(c.xu,{position:"relative","data-test-id":"search-suggestion","data-test-type":x,children:(0,d.jsx)(s.MZ,{to:n,isAppUpsellDisabled:!0,onTouch:()=>{f&&(C({action:"click",item:"search-suggestion"}),f(t))},rounding:4,children:(0,d.jsxs)(c.zd,{rounding:4,children:[(0,d.jsx)(c.xu,{width:I,height:E,children:h&&(0,d.jsx)(c.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{b&&b.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:h})}),(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:p.bubbleOverlay,height:E,width:I,position:"absolute",top:!0,left:!0}),m&&!D&&(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,d.jsx)(a.Z,{outline:!0,size:"xs",src:m.image_small_url,name:m.full_name})}),!!y&&y!==l.J&&(0,d.jsx)(c.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,d.jsx)(c.JO,{icon:(0,l.Z)(y),accessibilityLabel:A._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",size:12})}),(0,d.jsx)(c.xu,{display:"flex",position:"absolute",top:!0,width:I,height:E,padding:D||O?6:E>100?3:1,alignItems:D||O?"end":"center",justifyContent:T,children:(0,d.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[w&&(0,d.jsx)(c.xv,{align:k,color:"light",size:"lg"===L?"300":"100",overflow:"normal",children:w}),["lg","md"].includes(L)?(0,d.jsx)(c.X6,{align:k,size:"md"===L&&O?"500":"lg"===L?"600":"400",color:"light",overflow:"normal",children:S}):(0,d.jsx)(c.xv,{align:k,color:"light",size:"sm"===L?"300":"100",overflow:"normal",weight:"bold",children:S}),m&&D&&(0,d.jsxs)(c.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,d.jsx)(c.xu,{marginEnd:2,children:(0,d.jsx)(a.Z,{outline:!0,size:"xs",src:m.image_small_url,name:m.full_name})}),(0,d.jsx)(c.xv,{size:"100",color:"light",weight:"bold",children:m.full_name})]}),P&&(0,d.jsx)(c.xu,{marginTop:4,children:(0,d.jsx)(c.zx,{role:"link",text:P.text,href:P.href,size:P.size,accessibilityLabel:P.accessibilityLabel})})]})})]})})})}},368156:(e,t,n)=>{n.d(t,{Z:()=>y});var i,a=n(667294),o=n(702664),r=n(30439),s=n(934494),l=n(149230),c=n(112690),d=n(861411),u=n(940882),p=n(883119),h=n(167912),m=n(785893);const _=void 0!==i?i:i=n(16143);function g({auxData:e,pattern:t,slotIndex:n,storyId:i,viewType:o,viewParameter:s,storyData:{storyType:h,referringSource:_,hasTitle:g,titleFormat:v,identifierIconName:y,actionUrl:f,actionText:b,bubblesData:x,storyGraphqlRef:w}}){const S=(0,c.Z)(),P={story_type:h,story_id:i,content_ids:x.map((({type:e,id:t})=>e+":"+t)).join("|"),...e};return(0,m.jsx)(d.Hs,{loggingId:i,objectIdStr:i,viewParameter:s,viewType:o,slotIndex:n,component:200,auxData:P,children:(0,m.jsxs)(a.Fragment,{children:[g&&(0,m.jsxs)(p.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:["number"==typeof y&&y!==u.J&&(0,m.jsx)(p.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,m.jsx)(p.JO,{accessibilityLabel:"",color:"default",icon:(0,u.Z)(y),size:14})}),(0,m.jsx)(p.xv,{weight:"bold",children:v})]}),(0,m.jsx)(r.Z,{pattern:t,referringSource:_,storyId:i,viewParameter:s,viewType:o,storyGraphqlRef:w}),f&&b&&(0,m.jsx)(p.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,m.jsx)(p.zx,{role:"link",accessibilityLabel:b,color:"gray",onClick:()=>{S({view_type:o,view_parameter:s,aux_data:P,event_type:102})},text:b,href:f,rel:(0,l.Z)(f)?"nofollow":void 0,target:(0,l.Z)(f)?"blank":void 0,size:"md"})})]})})}const v=(0,s.Z)({useGraphQLAdapter:({storyGraphqlRef:e})=>{const t=(0,h.useFragment)(_,e),{storyType:n,storyTitle:i,referringSource:a,displayOptions:o,action:r,objects:s}=t,l=null==o?void 0:o.identifierIconName;return{storyType:n,referringSource:a,hasTitle:!!i,titleFormat:null==i?void 0:i.format,identifierIconName:l,actionUrl:null==r?void 0:r.url,actionText:(null==r?void 0:r.text)||void 0,bubblesData:(null==s?void 0:s.filter((e=>"ExploreArticle"===e.__typename)).map((e=>({id:e.entityId||"",type:e.type||""}))).filter(Boolean))||[],storyGraphqlRef:t}},useLegacyAdapter:({storyId:e})=>{const t=(0,o.useSelector)((({stories:t})=>t[e])),{story_type:n,referring_source:i,title:a,display_options:r,action:s,objects:l}=t,c=l.map((e=>e.id))||[],d=(0,o.useSelector)((({articles:e})=>c.map((t=>{const n=e[t];return{type:n.type,id:n.id}}))));return{storyType:n,referringSource:i,hasTitle:!!a,titleFormat:null==a?void 0:a.format,identifierIconName:null==r?void 0:r.identifier_icon_name,actionUrl:null==s?void 0:s.url,actionText:null==s?void 0:s.text,bubblesData:d}}});function y({storyGraphqlRef:e,storyId:t,...n}){return(0,m.jsx)(v,{input:e?{enabled:!0,data:{storyGraphqlRef:e}}:{enabled:!1,data:{storyId:t}},children:({data:e})=>(0,m.jsx)(g,{...n,storyId:t,storyData:e})})}},30439:(e,t,n)=>{n.d(t,{Z:()=>m});var i,a=n(702664),o=n(934494),r=n(936819),s=n(883119),l=n(687866),c=n(167912),d=n(785893);const u=void 0!==i?i:i=n(165103);function p({storyData:{storyType:e,bubblesData:t},onTouch:n,pattern:i=[l.UG.medium],pwtSurfaceContext:a,referringSource:o,storyId:c,viewParameter:u,viewType:p}){const h=t.map((({type:e,id:t})=>e+":"+t)).join("|");return(0,d.jsx)(s.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",wrap:!0,children:t.map(((t,m)=>{var _;const g=i[m%i.length];return(0,d.jsx)(s.xu,{paddingY:1,width:[l.UG.small,l.UG.extra_small].includes(g)?"calc(50% - 4px)":"100%","data-test-id":`bubble-${m}`,children:(0,d.jsx)(r.ZP,{auxData:{content_ids:h,story_type:e,grid_index:m},bubbleId:t.id,format:g,height:([l.UG.medium,l.UG.extra_small].includes(g)?"50%":g===l.UG.article&&"73%")||"100%",onTouch:n,pwtSurfaceContext:a,referringSource:o,slotIndex:m,storyId:c,viewParameter:u,viewType:p,bubbleGraphqlRef:"ExploreArticle"===(null===(_=t.bubbleGraphqlRef)||void 0===_?void 0:_.__typename)?t.bubbleGraphqlRef:null})},`bubble-${m}`)}))})}const h=(0,o.Z)({useGraphQLAdapter:({storyGraphqlRef:e})=>{var t;const n=(0,c.useFragment)(u,e);return{storyType:n.storyType,bubblesData:(null===(t=n.objects)||void 0===t?void 0:t.filter((e=>"ExploreArticle"===e.__typename)).map((e=>({id:e.entityId||"",type:e.type||"",bubbleGraphqlRef:e}))).filter(Boolean))||[]}},useLegacyAdapter:({storyId:e})=>{const t=(0,a.useSelector)((({stories:t})=>t[e])),n=t.objects.map((e=>e.id))||[],i=(0,a.useSelector)((({articles:e})=>n.map((t=>{const n=e[t];return{id:n.id,type:n.type}}))));return{storyType:t.type,bubblesData:i}}});function m({storyGraphqlRef:e,storyId:t,...n}){return(0,d.jsx)(h,{input:e?{enabled:!0,data:{storyGraphqlRef:e}}:{enabled:!1,data:{storyId:t}},children:({data:e})=>(0,d.jsx)(p,{...n,storyId:t,storyData:e})})}},936819:(e,t,n)=>{n.d(t,{Bp:()=>v,VM:()=>g,ZP:()=>f});var i,a=n(702664),o=n(934494),r=n(112690),s=n(19121),l=n(861411),c=n(826067),d=n(773285),u=n(687866),p=n(613316),h=n(167912),m=n(785893);const _=void 0!==i?i:i=n(902856),g=e=>{var t,n,i,a,o,r,s,l,c;return{actionUrl:null===(t=e.action)||void 0===t?void 0:t.url,coverImage236xUrl:null===(n=e.cover_images[0]["236x"])||void 0===n?void 0:n.url,coverImage474xUrl:null===(i=e.cover_images[0]["474x"])||void 0===i?void 0:i.url,coverImage136x136Url:null===(a=e.cover_images[0]["136x136"])||void 0===a?void 0:a.url,coverImage170xUrl:null===(o=e.cover_images[0]["173x"])||void 0===o?void 0:o.url,coverImage222xUrl:null===(r=e.cover_images[0]["222x"])||void 0===r?void 0:r.url,coverImage90x90Url:null===(s=e.cover_images[0]["90x90"])||void 0===s?void 0:s.url,curatorFullName:null===(l=e.curator)||void 0===l?void 0:l.full_name,curatorImageSmallUrl:null===(c=e.curator)||void 0===c?void 0:c.image_small_url,dominantColors:e.dominant_colors,id:e.id,identifierIconType:e.identifier_icon_type,storyCategory:e.story_category,titleFormat:e.title.format}};function v({auxData:e,bubbleData:{actionUrl:t,coverImage236xUrl:n,coverImage474xUrl:i,coverImage136x136Url:a,coverImage170xUrl:o,coverImage222xUrl:h,coverImage90x90Url:_,curatorFullName:g,curatorImageSmallUrl:v,dominantColors:y,id:f,identifierIconType:b,storyCategory:x,titleFormat:w},font:S,format:P,height:T,onTouch:k,pwtSurfaceContext:I,referringSource:A,slotIndex:C,storyId:E,viewParameter:j,viewType:R,width:D="100%"}){const O=(0,r.Z)(),L=(0,s.Z)(),{checkExperiment:F}=(0,d.F)();if(!((n||i||a||o||h||_)&&w))return null;const N=g&&v?{full_name:g,image_small_url:v}:void 0,M={"236x":n,"474x":i,"136x136":a,"170x":o,"222x":h,"90x90":_};let z="",Z="";if(L.isAuth&&5===R){z=F("blp_explore_bubble_image_size").group;const e=z.split("_");e.length>1&&(Z=e[1])}const B=z.startsWith("enabled")&&Z?M[Z]:M["474x"]||M["236x"],U=t||(({storyCategory:e,query:t,referringSource:n,bubbleId:i,storyId:a,title:o})=>{const r=null!=e&&(0,p.y)(e),s=(0,c.XP)({q:t,rs:n||void 0,b_id:i,source_id:a}),l=r&&o?(0,p.x)({title:o,id:i,articleType:"discover"}):`/discover/article/${i}/`;return r?l:"/search/pins/"+(s?"?"+s:"")})({storyCategory:x,query:w,referringSource:A,bubbleId:f,storyId:E,title:w}),H=P===u.UG.article?13865:200,V=P===u.UG.article?102:6940,$=y&&y.length?y[0]:void 0;return(0,m.jsx)(l.fv,{auxData:{story_id:E,...e},impressionData:{storyCategory:x,storyIdStr:E},impressionType:"articleImpressions",loggingId:E,slotIndex:C,viewParameter:j,viewType:R,children:(0,m.jsx)(u.ZP,{backgroundColor:$,bubbleId:f,bubbleUrl:U,coverImageUrl:B,curator:N,font:S,format:P,height:T,identifierIconType:b,onTap:t=>{O({component:H,event_type:V,object_id_str:t,view_parameter:j,view_type:R,aux_data:{article_id:t,grid_index:C,...e}}),k&&k({query:w})},pwtSurfaceContext:I,referringSource:A,title:w,width:D})})}const y=(0,o.Z)({useGraphQLAdapter:({bubbleGraphqlRef:e})=>{var t,n,i,a,o,r,s,l,c,d;const u=(0,h.useFragment)(_,e);return{actionUrl:null===(t=u.action)||void 0===t?void 0:t.url,coverImage236xUrl:null===(n=u.coverImage236x)||void 0===n?void 0:n[0].url,coverImage474xUrl:null===(i=u.coverImage474x)||void 0===i?void 0:i[0].url,coverImage136x136Url:null===(a=u.coverImage136x136)||void 0===a?void 0:a[0].url,coverImage170xUrl:null===(o=u.coverImage170x)||void 0===o?void 0:o[0].url,coverImage222xUrl:null===(r=u.coverImage222x)||void 0===r?void 0:r[0].url,coverImage90x90Url:null===(s=u.coverImage90x90)||void 0===s?void 0:s[0].url,curatorFullName:null===(l=u.curator)||void 0===l?void 0:l.fullName,curatorImageSmallUrl:null===(c=u.curator)||void 0===c?void 0:c.imageSmallUrl,dominantColors:u.dominantColors,id:u.entityId||"",identifierIconType:u.identifierIconType,storyCategory:u.storyCategory,titleFormat:null===(d=u.title)||void 0===d?void 0:d.format}},useLegacyAdapter:({bubbleId:e})=>{const t=(0,a.useSelector)((({articles:t})=>t[e]));return g(t)}});function f({bubbleGraphqlRef:e,bubbleId:t,...n}){return(0,m.jsx)(y,{input:e?{enabled:!0,data:{bubbleGraphqlRef:e}}:{enabled:!1,data:{bubbleId:t}},children:({data:e})=>(0,m.jsx)(v,{...n,bubbleData:e})})}},946036:(e,t,n)=>{n.d(t,{q:()=>a,z:()=>i});const i=["shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2"],a="checklist_education_feed_card"},566102:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(730568);const a=({containerTypeIsItemGrid:e,numColumnsRequested:t,storyType:n})=>"BUBBLE_ONE_COL"===n||e&&!(0,i.Z)({storyType:n,numColumnsRequested:t})},730568:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(946036);const a=({storyType:e,numColumnsRequested:t})=>i.z.includes(e)&&0===t},248299:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(166300),a=n(898781),o=n(883119),r=n(785893);function s({isPinRep:e}){const t=(0,a.ZP)(),n=e?"default":"inverse",s=(0,r.jsx)(o.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,r.jsx)(o.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,r.jsxs)(o.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(o.xu,{paddingY:4,children:(0,r.jsx)(o.JO,{accessibilityLabel:t._('Pin not available', 'story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:n,icon:"alert",size:20})}),(0,r.jsx)(o.xv,{align:"center",color:n,weight:"bold",children:t._('Unavailable', 'story-pin.Closeup.UnavailableStoryPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),(0,r.jsx)(o.xu,{paddingY:1,children:(0,r.jsx)(o.xv,{align:"center",color:n,children:t._('Removed by the creator', 'story-pin.Closeup.UnavailableStoryPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})});return e?s:(0,r.jsx)(o.xu,{height:"100vh",children:(0,r.jsx)(i.Z,{children:s})})}},258430:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(130460),o=n(785893);function r({boardId:e}){var t;const n=(0,a.gC)()(e),r=null!=n&&n.images&&n.images["170x"]?n.images["170x"][0]:void 0;return e&&r?(0,o.jsx)(i.Ee,{alt:"Pin image",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(t=r.url)&&void 0!==t?t:""}):null}},759929:(e,t,n)=>{n.d(t,{k:()=>r,w:()=>o});var i=n(379764),a=n(883119);const o=2e3,r=new a.H3([i.Z])},182476:(e,t,n)=>{n.d(t,{Z:()=>S});var i,a=n(702664),o=n(815613),r=n(780280),s=n(633083),l=n(898781),c=n(892819),d=n(883119),u=n(167912),p=n(785893);const h=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:n,isLego:i,isSelected:a,locale:o,nameTextSize:r,renderAsPill:u,showFollowerCount:h,topicName:m,followerCount:_,image:g})=>{var v;const y=(0,l.ZP)(),f=(0,c.Z)(),b=(0,p.jsx)(d.JO,{accessibilityLabel:y._('Selected', ' - ', ' -- '),color:"inverse",icon:i?"check":"check-circle",size:i?12:24});return u?(0,p.jsx)(s.Z,{color:e||"#767676",image:g,isSelected:null!=a&&a,title:m}):(0,p.jsxs)(d.xu,{position:"relative","aria-selected":a,children:[(0,p.jsx)(d.zd,{rounding:i||n?4:2,children:(0,p.jsxs)(d.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:[(0,p.jsx)(d.xu,{bottom:!0,left:!0,padding:i&&a?1:0,position:"absolute",right:!0,rounding:i&&a?4:0,top:!0,children:(0,p.jsx)(d.Ee,{alt:m,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(v=g.url)&&void 0!==v?v:""})}),(0,p.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:a?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:i&&a?"4px solid #767676":"none"}},rounding:i?4:void 0,position:"absolute",left:!0,right:!0,top:!0}),i&&a&&(0,p.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),n?(0,p.jsx)(d.xu,{top:!0,bottom:!0,left:!0,right:!0,padding:2,position:"absolute",display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center",children:(0,p.jsx)(d.xv,{align:"center",color:"light",size:r,weight:"bold",children:m})}):(0,p.jsxs)(d.xu,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,p.jsx)(d.xv,{color:"inverse",size:r,weight:"bold",children:m}),h&&_>=0&&(0,p.jsx)(d.xu,{paddingY:1,children:(0,p.jsxs)(d.xv,{color:"inverse",size:"100",children:[(0,p.jsx)(d.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:f(o,_,{shortform:!0,shortform_maximum_fraction_digits:1})}),y._('followers', ' - ', ' -- ')]})})]}),a&&(0,p.jsx)(d.xu,{margin:2,position:"absolute",right:!0,top:!0,children:i?(0,p.jsx)(d.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:b}):b})]})},m=void 0!==i?i:i=n(133132),_=({topicRef:e,...t})=>{var n,i,a,o,r,s;const l=(0,u.useFragment)(m,e),c=l.images?{url:null!==(n=l.images.url)&&void 0!==n?n:"",width:null!==(i=l.images.width)&&void 0!==i?i:0,height:null!==(a=l.images.height)&&void 0!==a?a:0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,p.jsx)(h,{backgroundColor:null!==(o=l.background_color)&&void 0!==o?o:"",topicName:null!==(r=l.name)&&void 0!==r?r:"",followerCount:null!==(s=l.follower_count)&&void 0!==s?s:0,image:c,...t})},g=({topic:e,topicBlob:t,topicInfoForContextualExp:n,...i})=>{const a=n||e||t||{},o=a.images["236x"]||a.images["400x"]||a.images["474x"]||a.images.orig||{height:1,url:"",width:1},r=a.follower_count||-1;return(0,p.jsx)(h,{backgroundColor:a.background_color,topicName:a.name,followerCount:r,image:o,...i})};var v,y=n(70090);const f=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:i=!1,nameTextSize:s="lg",onTouch:l,padding:c=2,renderAsPill:u,showFollowButton:h=!1,showFollowerCount:m=!1,shouldClickthrough:v=!1,topic:f,viewParameter:b,viewType:x,enabledHomeFeedTunerDesignChanges:w})=>{const S=(0,a.useDispatch)(),{locale:P}=(0,r.B)(),T=(0,p.jsxs)(d.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==f.type?(0,p.jsx)(g,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,locale:P,nameTextSize:s,renderAsPill:u,showFollowerCount:m,topic:f.topic,topicBlob:f.topicBlob,topicInfoForContextualExp:f.topicInfoForContextualExp}):(0,p.jsx)(_,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,locale:P,nameTextSize:s,renderAsPill:u,showFollowerCount:m,topicRef:f.topicRef}),!!f&&h&&(0,p.jsx)(d.xu,{paddingY:2,children:(0,p.jsx)(o.Z,{textType:t?"AddRemove":"FollowFollowing",followEventType:601,id:f.id,invertColors:t,inline:t&&w,isFollowed:f.is_followed,onFollow:e=>S((0,y.ZN)(e)),onUnfollow:e=>S((0,y.fv)(e)),size:"md",unfollowEventType:602,viewParameter:b||void 0,viewType:x||void 0})})]});let k="/";return f&&(k=`/topics/${f.id}`),v&&f.slug?(0,p.jsx)(d.iP,{role:"link",onTap:({event:e})=>{null==l||l(e)},tapStyle:"compress",rounding:2,href:k,children:(0,p.jsx)(d.xu,{padding:c,children:T})}):T},b=void 0!==v?v:v=n(964820),x=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:n,isLego:i,isSelected:a=!1,nameTextSize:o="lg",onTouch:r,padding:s=2,renderAsPill:l,showFollowButton:c=!1,showFollowerCount:d=!1,shouldClickthrough:h=!1,viewParameter:m,viewType:_,enabledHomeFeedTunerDesignChanges:g})=>{var v,y;const x=(0,u.useFragment)(b,e);return(0,p.jsx)(f,{decreaseNamePadding:t,isHomefeedTuner:n,isLego:i,isSelected:a,nameTextSize:o,onTouch:r,padding:s,renderAsPill:l,showFollowButton:c,showFollowerCount:d,shouldClickthrough:h,viewParameter:m,viewType:_,enabledHomeFeedTunerDesignChanges:g,topic:{id:null!==(v=x.entityId)&&void 0!==v?v:"",type:"graphql",is_followed:null!==(y=x.is_followed)&&void 0!==y&&y,topicRef:x}})},w=({id:e,topic:t,topicBlob:n,topicInfoForContextualExp:i,decreaseNamePadding:o=!1,isHomefeedTuner:r,isLego:s,isSelected:l=!1,nameTextSize:c="lg",onTouch:d,padding:u=2,renderAsPill:h,showFollowButton:m=!1,showFollowerCount:_=!1,shouldClickthrough:g=!1,viewParameter:v,viewType:y,enabledHomeFeedTunerDesignChanges:b})=>{const x=(0,a.useSelector)((({topics:t})=>t[e])),w=null!=t?t:x;return(0,p.jsx)(f,{decreaseNamePadding:o,isHomefeedTuner:r,isLego:s,isSelected:l,nameTextSize:c,onTouch:d,padding:u,renderAsPill:h,showFollowButton:m,showFollowerCount:_,shouldClickthrough:g,viewParameter:v,viewType:y,enabledHomeFeedTunerDesignChanges:b,topic:{id:e,is_followed:!(null==w||!w.is_followed),topic:w,topicBlob:n,topicInfoForContextualExp:i,type:"resource"}})},S=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:i=!1,nameTextSize:a="lg",onTouch:o,padding:r=2,renderAsPill:s,showFollowButton:l=!1,showFollowerCount:c=!1,shouldClickthrough:d=!1,viewParameter:u,viewType:h,enabledHomeFeedTunerDesignChanges:m,..._})=>_.topicRef?(0,p.jsx)(x,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,nameTextSize:a,onTouch:o,padding:r,renderAsPill:s,showFollowButton:l,showFollowerCount:c,shouldClickthrough:d,viewParameter:u,viewType:h,topicRef:_.topicRef,enabledHomeFeedTunerDesignChanges:m}):(0,p.jsx)(w,{id:_.id,decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,nameTextSize:a,onTouch:o,padding:r,renderAsPill:s,showFollowButton:l,showFollowerCount:c,shouldClickthrough:d,topic:_.topic,topicBlob:_.topicBlob,topicInfoForContextualExp:_.topicInfoForContextualExp,viewParameter:u,viewType:h,enabledHomeFeedTunerDesignChanges:m})},430235:(e,t,n)=>{n.d(t,{Z:()=>P});var i,a=n(667294),o=n(248975),r=n(862628),s=n(898781),l=n(759177),c=n(667679),d=n(62409),u=n(349700),p=n(867820),h=n(350118),m=n(276775),_=n(780679),g=n(883119),v=n(167912),y=n(785893);const f=({children:e,onTap:t})=>{const[n,i]=(0,a.useState)(!1);return(0,y.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,y.jsx)(g.iP,{onTap:t,onBlur:()=>i(!1),onFocus:()=>i(!0),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:e})})},b=void 0!==i?i:i=n(12617);function x({desktopContextMenuState:e,isMainPinImage:t,source:n,images:i,embedSrc:l,embedType:d,sourceUserUsername:h,sourceUserFullname:v,pinJoinVisualAnnotation:b,pinJoinSeoBreadcrumbName:x,pinJoinSeoBreadcrumbUrl:w,pinId:S,pinLink:P}){var T;const k=(0,s.ZP)(),I=(0,m.useHistory)(),A=(0,o.Z)({images:i,embedSrc:l,embedType:d}),C=x,E=w,j=null!==(T=null==b?void 0:b[0])&&void 0!==T?T:void 0,R=(0,r.Z)(j),D=`/search/pins/?q=${encodeURIComponent(R)}&rs=image_only_attribution`,O=(0,c.Z)(),L="dweb.plp.ellipsis.button"===n,F=(0,_.g)();return A?(0,y.jsxs)(g.xu,{"data-test-id":"desktop-context-menu",position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new g.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:250,children:[(0,y.jsx)(g.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,y.jsx)(g.JO,{icon:"pinterest",accessibilityLabel:k._('Pinterest logo', 'dweb.unauth.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"})}),(0,y.jsx)(f,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.save_image"),O({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_action_bar_ellipsis_save_button",desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:S}}}),F&&F.setUpsellReason("click_context_menu_action_bar_ellipsis_save_button")},children:(0,y.jsx)(g.xv,{size:"200",weight:"bold",children:k._('Save image', 'dweb.unauth.context_menu.link.save_image', 'Link to save the image')})}),!(t||L&&!P)&&(0,y.jsx)(f,{onTap:()=>{(0,p.My)(L?"dweb.unauth.context_menu.open_plp_new_tab.from.ellipsis.button":"dweb.unauth.context_menu.open_plp_new_tab"),window.open(L?P:`/pin/${S}/`),L||O({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_related_pin_right_click_open_link_button",desktopOptions:{modalType:"login"}})},children:(0,y.jsx)(g.xv,{size:"200",weight:"bold",children:k._('Open link in new tab', 'dweb.unauth.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})}),(j||!(!C||!E))&&(0,y.jsx)(f,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.see_more_pins"),E?I.push(`${E}`):I.push(D)},children:C?(0,y.jsx)(g.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(k._('See more ideas about {{levelOneInterestName}}', 'dweb.unauth.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:C})}):(0,y.jsx)(g.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(k._('See more ideas about {{interestTag}}', 'dweb.unauth.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:j})})}),!(!v||!h)&&(0,y.jsx)(f,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.more_from_creator"),I.push(`/${h}/`)},children:(0,y.jsx)(g.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(k._('See more from {{full_name}}', 'dweb.unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:v})})}),(0,y.jsx)(a.Fragment,{children:(0,y.jsx)(f,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.login_signup"),O({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_action_bar_ellipsis_signup_or_login_button",desktopOptions:{modalType:"login"}}),F&&F.setUpsellReason("click_context_menu_action_bar_ellipsis_signup_or_login_button")},children:(0,y.jsx)(g.xv,{size:"200",weight:"bold",children:k._('Log in or sign up for more', 'dweb.unauth.context_menu.link.login_signup', 'Link to log in or sign up')})})})]}):null}function w({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:n,...i}){var a,o,r,s,c;const d=(0,v.useFragment)(b,e),u=(0,l.Z)(d);let p;var h,m;(p=null!=d&&d.nativeCreator?d.nativeCreator:null!=d&&d.linkDomain?d.linkDomain.officialUser:(null==d?void 0:d.originPinner)||(null==d?void 0:d.pinner),p)||(p=null!==(h=null==d||null===(m=d.linkDomain)||void 0===m?void 0:m.officialUser)&&void 0!==h?h:null==d?void 0:d.pinner);return(0,y.jsx)(x,{...i,embedSrc:(null==d?void 0:d.embed)&&d.embed.src,embedType:(null==d?void 0:d.embed)&&d.embed.type,images:u,sourceUserUsername:null===(a=p)||void 0===a?void 0:a.username,sourceUserFullname:null===(o=p)||void 0===o?void 0:o.fullName,pinJoinVisualAnnotation:null==d||null===(r=d.pinJoin)||void 0===r?void 0:r.visualAnnotation,pinJoinSeoBreadcrumbName:(null==d||null===(s=d.pinJoin)||void 0===s?void 0:s.seoBreadcrumbs)&&(d.pinJoin.seoBreadcrumbs.length>0?d.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==d||null===(c=d.pinJoin)||void 0===c?void 0:c.seoBreadcrumbs)&&(d.pinJoin.seoBreadcrumbs.length>0?d.pinJoin.seoBreadcrumbs[0].url:null),pinId:t})}function S({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:n,...i}){var a,o,r,s,l,c;const u=(0,h.S6)()(t),{link_domain:p,native_creator:m,origin_pinner:_,pinner:g}=u||{};let v=(0,d.wS)(p,m,_,g);var f,b;v||(v=null!==(f=null==u||null===(b=u.link_domain)||void 0===b?void 0:b.official_user)&&void 0!==f?f:null==u?void 0:u.pinner);const{full_name:w,username:S}=null!==(a=v)&&void 0!==a?a:{};return(0,y.jsx)(x,{...i,embedSrc:null==u||null===(o=u.embed)||void 0===o?void 0:o.src,embedType:null==u||null===(r=u.embed)||void 0===r?void 0:r.type,images:null==u?void 0:u.images,sourceUserUsername:w,sourceUserFullname:S,pinJoinVisualAnnotation:null==u||null===(s=u.pin_join)||void 0===s?void 0:s.visual_annotation,pinJoinSeoBreadcrumbName:(null==u||null===(l=u.pin_join)||void 0===l?void 0:l.seo_breadcrumbs)&&(u.pin_join.seo_breadcrumbs.length>0?u.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==u||null===(c=u.pin_join)||void 0===c?void 0:c.seo_breadcrumbs)&&(u.pin_join.seo_breadcrumbs.length>0?u.pin_join.seo_breadcrumbs[0].url:null),pinId:t})}function P(e){return e.graphqlRef?(0,y.jsx)(w,{...e}):(0,y.jsx)(S,{...e})}},447409:(e,t,n)=>{n.d(t,{n:()=>S,Z:()=>P});var i=n(702664),a=n(598615),o=n(821997),r=n(966476);const s=({children:e,fallback:t})=>(()=>{const e=(0,i.useSelector)((e=>{var t;return!(null==e||null===(t=e.session)||void 0===t||!t.isSeoBot)})),t=(0,r.Z)();return!e&&!t})()?t||null:e;var l=n(938917),c=n(898781),d=n(893101),u=n(112690),p=n(867820),h=n(780280);var m=n(52022),_=n(643010),g=n(948376),v=n(773285),y=n(385740),f=n(53987),b=n(883119),x=n(276775),w=n(785893);const S=56;function P(){const e=(0,c.ZP)(),t=(0,x.useLocation)(),n=(0,x.useHistory)(),{viewType:r,viewParameter:P}=(0,y.SU)(),{userAgentPlatform:T,userAgent:k}=(0,i.useSelector)((({session:e})=>e)),I=(0,g.Rp)({platform:T,userAgent:k}),A=(0,d.Z)(),C=function(){const{isBot:e}=(0,h.B)();return(t,n)=>{e||(0,p.NC)(t,n)}}(),E=(0,l.Z)(),{checkExperiment:j}=(0,v.F)(),R=(0,u.Z)(),D=(0,m.Z)(),O=e._('Log in', 'Label for log in button', 'Label for log in button'),L=e._('Sign up', 'Text on button on the top bar that leads users to signing up.', 'Text on button on the top bar that leads users to signing up.'),F=e._('Download', 'mweb.unauth.interstitial_upsell.download_button_text', 'CTA on the app interstitial upsell to install the app'),N=!I&&!(0,f.Xn)(t),M=((0,f.dr)(t)||(0,f.$Y)(t)||(0,f.E0)(t))&&!j("lex_follow_button").group.includes("main_cta"),z=!E||A||M?"signup":"download",Z=j("mweb_unauth_login_primary_header").group,B=Z.includes("login_primary"),U=!B&&Z.includes("login"),H=(N?O.length:0)+("signup"===z?L.length:0)+("download"===z?F.length:0),V=(0,w.jsx)(b.zx,{fullWidth:!0,color:B?"white":M?"red":"gray",onClick:()=>{D({action:"click",within:"unauth-header",item:"signup-button"}),R({component:13198,element:31,event_type:102,view_type:r,view_parameter:P}),C("press_header_signup"),R({event_type:10439,element:31,component:14215,view_type:r,view_parameter:P,aux_data:{upsell_reason:"click_signup_on_header"}}),n.push({pathname:"/signup",state:{attributionLabel:"click_signup_on_header",...t.state}})},size:"md",text:L});return(0,w.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)",backgroundColor:(0,_.Yc)()?"#333":"white",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:"translateY(0)"}},top:!0,left:!0,width:"100vw",position:"relative",paddingX:3,children:(0,w.jsxs)(b.xu,{alignItems:"center","data-test-id":"unauth-header",direction:"row",display:"flex",justifyContent:"between",children:[(0,w.jsx)(b.iP,{accessibilityLabel:e._('Pinterest App', 'Pinterest icon for app upsell', 'Pinterest icon for app upsell'),onTap:()=>{D({action:"click",within:"unauth-header",item:"pinterest-logo"})},children:(0,w.jsxs)(b.xu,{alignItems:"center",display:"flex",direction:"row",marginEnd:3,children:[(0,w.jsx)(b.xu,{alignItems:"center",display:"flex",height:S,justifyContent:"center",rounding:2,"data-test-id":"pinterest-logo-icon",children:(0,w.jsx)(b.iP,{role:"link",tapStyle:"none",href:"/",children:I?(0,w.jsx)(o.Z,{size:24}):(0,w.jsx)(b.hU,{icon:"pinterest",iconColor:"brandPrimary",padding:1,size:"xl",accessibilityLabel:e._('Pinterest App', 'Pinterest icon for app upsell', 'Pinterest icon for app upsell')})})}),(0,w.jsx)(b.xu,{paddingY:2,paddingX:1,"data-test-id":"pinterest-logo-text",children:H<18&&(0,w.jsxs)(b.xu,{children:[(0,w.jsx)(b.X6,{color:"error",size:"400",overflow:"normal",children:I?e._('Pinterest Lite', 'Pinterest lite brand for the app upsell', 'Pinterest lite brand for the app upsell'):e._('Pinterest', 'Pinterest brand for the app upsell', 'Pinterest brand for the app upsell')}),I&&(0,w.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,w.jsx)(b.xu,{children:(0,w.jsx)(b.xv,{inline:!0,size:"100",color:"subtle",children:e._('Save space on your device', 'Unauth app upsell copy that describe Pinterest product core value to users', 'Unauth app upsell copy that describe Pinterest product core value to users')})})})]})})]})}),(0,w.jsx)(s,{children:(0,w.jsxs)(b.xu,{marginEnd:0,flex:"none",alignItems:"center",display:"flex",direction:"row","data-test-id":"UnauthAppUpsellButton",children:["signup"===z&&B&&(0,w.jsx)(b.xu,{"data-test-id":"signup-button",children:V}),N&&(0,w.jsx)(b.xu,{"data-test-id":"login-button",children:(0,w.jsx)(b.zx,{fullWidth:!0,color:Z.includes("red")&&"signup"===z?"red":Z.includes("gray")&&"signup"===z?"gray":"white",onClick:()=>{D({action:"click",within:"unauth-header",item:"login-button"}),R({component:13198,element:30,event_type:102,view_type:r,view_parameter:P}),C("press_header_login"),R({event_type:10439,element:30,component:14213,view_type:r,view_parameter:P,aux_data:{upsell_reason:"click_login_on_header"}}),n.push({pathname:"/login",state:{attributionLabel:"click_login_on_header",...t.state}})},size:"md",text:O})}),"signup"!==z||U||B?"signup"!==z&&(0,w.jsx)(b.xu,{"data-test-id":"download-button",children:(0,w.jsx)(a.Z,{componentType:14161,within:"unauth-header",children:({handleOpenApp:e})=>(0,w.jsx)(b.zx,{fullWidth:!0,color:(0,f.j8)(t)||j("lex_follow_button").group.includes("main_cta")?"gray":"red",onClick:()=>e(),size:"md",text:F})})}):(0,w.jsx)(b.xu,{"data-test-id":"signup-button",children:V})]})})]})})}},874317:(e,t,n)=>{n.d(t,{Yw:()=>P,ZP:()=>C,nt:()=>S});var i,a=n(598615),o=n(326960),r=n(248975),s=n(63552),l=n(862628),c=n(938917),d=n(898781),u=n(759177),p=n(667679),h=n(62409),m=n(349700),_=n(867820),g=n(538232),v=n(773285),y=n(350118),f=n(276775),b=n(883119),x=n(167912),w=n(785893);const S=250,P={WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"},T=void 0!==i?i:i=n(167074);function k({mwebContextMenuState:e,openShareModal:t,setMwebContextMenuState:n,pinId:i,images:u,embedSrc:h,embedType:y,sourceUserUsername:x,sourceUserFullname:P,pinDownloadFilename:T,pinImageSignature:k,pinJoinVisualAnnotation:I,pinJoinSeoBreadcrumbName:A,pinJoinSeoBreadcrumbUrl:C}){var E;const j=(0,d.ZP)(),R=(0,f.useHistory)(),D=(0,r.Z)({images:u,embedSrc:h,embedType:y}),{isChromeOnIOS:O}=(0,g.R)(),L=A,F=C,N=null!==(E=null==I?void 0:I[0])&&void 0!==E?E:void 0,M=(0,l.Z)(N),z=`/search/pins/?q=${encodeURIComponent(M)}&rs=image_only_attribution`,Z=(0,p.Z)(),B=(0,g.R)(),{checkExperiment:U}=(0,v.F)(),H=(0,c.Z)();return D?(0,w.jsxs)(b.xu,{"data-test-id":"mobile-context-menu",position:"absolute",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new b.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:S,children:[(0,w.jsxs)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",direction:"row",display:"flex",alignItems:"center",justifyContent:"between",children:[(0,w.jsx)(b.JO,{icon:"pinterest",accessibilityLabel:j._('Pinterest logo', 'unauth.mweb.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"}),(0,w.jsx)(b.xu,{alignSelf:"end","data-test-id":"mobile-context-menu-cancel-button",children:(0,w.jsx)(b.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null)},children:(0,w.jsx)(b.JO,{icon:"cancel",accessibilityLabel:j._('Dismiss mweb context menu', 'unauth.mweb.context_menu.dismiss', 'Dismiss icon in mweb context menu')})})})]}),"main"===e.context&&H&&U("mweb_main_pin_ltcm_open_in_app").anyEnabled&&(0,w.jsx)(a.Z,{componentType:18,within:"mweb-context-menu",children:({handleOpenApp:e})=>(0,w.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(b.iP,{onTap:({event:t})=>{t.stopPropagation(),n(null),e({deepLinkUri:`/pin/${i}/`}),(0,_.My)("unauth.mweb.context_menu.open_in_app")},children:(0,w.jsx)(b.xv,{size:"200",weight:"bold",children:j._('Open in App', 'unauth.mweb.context_menu.link.open_in_app', 'Link to open the pin in Pinterest app')})})})}),["download","short_d"].includes(e.context)&&k?(0,w.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(o.Z,{imgSrc:D,isChromeOnIOS:O,filename:T,pinId:i,viewType:3,imageSignature:k,children:e=>(0,w.jsx)(s.Z,{pressState:"none",onTouch:t=>{e().then((()=>{t.stopPropagation(),n(null),(0,_.My)("unauth.mweb.context_menu.download_image")}))},children:(0,w.jsx)(b.xv,{size:"200",weight:"bold",children:j._('Download image', 'unauth.mweb.related_pin.context_menu.link.download_image', 'Link to download image')})})})}):(0,w.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(b.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),(0,_.My)("unauth.mweb.context_menu.save_image"),e&&B.saveButtonConfig.onSaveButtonClick(e)},children:(0,w.jsx)(b.xv,{size:"200",weight:"bold",children:j._('Save image', 'unauth.mweb.context_menu.link.save_image', 'Link to save image')})})}),["download","save","short_s","short_d"].includes(e.context)&&(0,w.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(b.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),t&&t(!0),(0,_.My)("unauth.mweb.context_menu.share_related_pin")},children:(0,w.jsx)(b.xv,{size:"200",weight:"bold",children:j._('Share image', 'unauth.mweb.context_menu.link.share_menu', 'Link to open the share menu')})})}),(0,w.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(b.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),(0,_.My)("unauth.mweb.context_menu.open_plp_new_tab"),window.open(`/pin/${i}/`)},children:(0,w.jsx)(b.xv,{size:"200",weight:"bold",children:j._('Open link in new tab', 'unauth.mweb.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})})}),["download","save","main"].includes(e.context)&&(N||!(!L||!F))&&(0,w.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(b.iP,{onTap:()=>{(0,_.My)("unauth.mweb.context_menu.see_more_pins"),R.push(F?`${F}`:z)},children:L?(0,w.jsx)(b.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(j._('See more ideas about {{levelOneInterestName}}', 'unauth.mweb.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:L})}):(0,w.jsx)(b.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(j._('See more ideas about {{interestTag}}', 'unauth.mweb.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:N})})})}),["download","save","main"].includes(e.context)&&!(!P||!x)&&(0,w.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(b.iP,{onTap:()=>{(0,_.My)("unauth.mweb.context_menu.more_from_creator"),R.push(`/${x}/`)},children:(0,w.jsx)(b.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(j._('See more from {{full_name}}', 'unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:P})})})}),(0,w.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(b.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),(0,_.My)("unauth.mweb.context_menu.login_signup"),Z({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_login_signup"})},children:(0,w.jsx)(b.xv,{size:"200",weight:"bold",children:j._('Log in or sign up for more', 'unauth.mweb.context_menu.link.login_signup', 'Link to log in or sign up')})})})]}):null}function I({graphqlRef:e,pinId:t,...n}){var i,a,o,r,s;const l=(0,x.useFragment)(T,e),c=(0,u.Z)(l);let d;var p,h;(d=null!=l&&l.nativeCreator?l.nativeCreator:null!=l&&l.linkDomain?l.linkDomain.officialUser:(null==l?void 0:l.originPinner)||(null==l?void 0:l.pinner),d&&"string"!=typeof d)||(d=null!==(p=null==l||null===(h=l.linkDomain)||void 0===h?void 0:h.officialUser)&&void 0!==p?p:null==l?void 0:l.pinner);const m=(null==l?void 0:l.gridTitle)||(null==l?void 0:l.closeupUnifiedDescription),_=null==l?void 0:l.imageSignature;return(0,w.jsx)(k,{...n,embedSrc:(null==l?void 0:l.embed)&&l.embed.src,embedType:(null==l?void 0:l.embed)&&l.embed.type,images:c,sourceUserUsername:null===(i=d)||void 0===i?void 0:i.username,sourceUserFullname:null===(a=d)||void 0===a?void 0:a.fullName,pinDownloadFilename:m,pinImageSignature:_,pinJoinVisualAnnotation:null==l||null===(o=l.pinJoin)||void 0===o?void 0:o.visualAnnotation,pinJoinSeoBreadcrumbName:(null==l||null===(r=l.pinJoin)||void 0===r?void 0:r.seoBreadcrumbs)&&(l.pinJoin.seoBreadcrumbs.length>0?l.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==l||null===(s=l.pinJoin)||void 0===s?void 0:s.seoBreadcrumbs)&&(l.pinJoin.seoBreadcrumbs.length>0?l.pinJoin.seoBreadcrumbs[0].url:null),pinId:t})}function A({graphqlRef:e,pinId:t,...n}){var i,a,o,r,s,l;const c=(0,y.S6)()(t),{link_domain:d,native_creator:u,origin_pinner:p,pinner:m}=c||{};let _=(0,h.wS)(d,u,p,m);var g,v;_&&"string"!=typeof _||(_=null!==(g=null==c||null===(v=c.link_domain)||void 0===v?void 0:v.official_user)&&void 0!==g?g:m);const{full_name:f,username:b}=null!==(i=_)&&void 0!==i?i:{},x=(null==c?void 0:c.grid_title)||(null==c?void 0:c.closeup_unified_description),S=null==c?void 0:c.image_signature;return(0,w.jsx)(k,{...n,embedSrc:null==c||null===(a=c.embed)||void 0===a?void 0:a.src,embedType:null==c||null===(o=c.embed)||void 0===o?void 0:o.type,images:null==c?void 0:c.images,sourceUserUsername:f,sourceUserFullname:b,pinDownloadFilename:x,pinImageSignature:S,pinJoinVisualAnnotation:null==c||null===(r=c.pin_join)||void 0===r?void 0:r.visual_annotation,pinJoinSeoBreadcrumbName:(null==c||null===(s=c.pin_join)||void 0===s?void 0:s.seo_breadcrumbs)&&(c.pin_join.seo_breadcrumbs.length>0?c.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==c||null===(l=c.pin_join)||void 0===l?void 0:l.seo_breadcrumbs)&&(c.pin_join.seo_breadcrumbs.length>0?c.pin_join.seo_breadcrumbs[0].url:null),pinId:t})}function C(e){return e.graphqlRef?(0,w.jsx)(I,{...e}):(0,w.jsx)(A,{...e})}},893101:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(702664),a=n(172071),o=n(938917),r=n(436851),s=n(948376),l=n(50286),c=n(276775),d=n(780280),u=n(56390),p=n(339363),h=n(53987);const m=()=>{const{isBot:e}=(0,d.B)(),t=(0,c.useLocation)(),{userAgentPlatform:n,userAgent:m}=(0,i.useSelector)((e=>e.session)),_=(0,o.Z)(),g=(0,l.ml)();return!e&&!(g&&!_)&&!(0,s.Rp)({platform:n,userAgent:m})&&((0,h.uM)(t)||(0,h.am)(t))&&!(0,u.P)()&&!(e=>!!(0,r.d)(e)&&((0,p.qn)("ufausfiiab")||(a.Z.increment("unauth.floating_app_upsell.suppress_for_instagram_in_app_browser"),(0,p.Nh)("ufausfiiab","1")),!0))(m)}},116674:(e,t,n)=>{n.d(t,{X:()=>d,f:()=>c});var i=n(667294);function a(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var o=n(425288),r=n(623568),s=n(785893);const{Provider:l,useHook:c}=(0,o.Z)("ReportData");function d({children:e}){const[t,n]=(0,i.useReducer)(a,null),o=(0,i.useCallback)((()=>n({type:"REPORT_CONTENT_DISMISS"})),[]),c=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"aggregatedComment"}})),[]),d=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"conversation"}})),[]),u=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"pin"}})),[]),p=(0,i.useCallback)(((e,t,i)=>{const{id:a,is_downstream_promotion:o,promoter:s,rich_metadata:l,rich_summary:c,videos:d}=e,u=(0,r.VX)(l,c),p=(0,r.jL)(o,!!s);let h;if((0,r.iR)(d)&&d){const{video_list:e={}}=d,t=e[Object.keys(e)[0]];h=t&&t.duration}n({type:"REPORT_CONTENT_SHOW",payload:{id:a,isProduct:u,isPromoted:p,videoDuration:h,viewParameter:t,viewType:i,type:"pin"}})}),[]),h=(0,i.useMemo)((()=>({reportData:t,dismiss:o,reportComment:c,reportConversation:d,reportImage:u,reportPin:p})),[t,o,c,d,u,p]);return(0,s.jsx)(l,{value:h,children:e})}},862193:(e,t,n)=>{n.d(t,{Z:()=>s});var i,a=n(667294),o=n(167912);const r=void 0!==i?i:i=n(569772),s=e=>{var t;const n=(0,o.useFragment)(r,e),i=null==n||null===(t=n.pinJoin)||void 0===t?void 0:t.annotationsWithLinksArray;return(0,a.useMemo)((()=>null==i?void 0:i.reduce(((e,{name:t,url:n})=>t?{...e,[t]:{name:t,url:n}}:e),{})),[i])}},491563:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),a=n(702664),o=n(116303),r=n(815613),s=n(149230),l=n(898781),c=n(883119),d=n(785893);const u={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},p=({height:e,image:t,width:n})=>{var i,a,o;const r=(0,l.ZP)();return(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:t?(0,d.jsxs)(c.xu,{position:"relative",children:[(0,d.jsx)(c.GH,{width:n,height:e,contentAspectRatio:"number"==typeof t.height&&"number"==typeof t.width?t.width/t.height:1,children:(0,d.jsx)(c.Ee,{alt:r._('pin image', 'alt text for pin image', 'alt text for pin image'),color:t.dominant_color||void 0,naturalWidth:null!==(i=t.width)&&void 0!==i?i:1,naturalHeight:null!==(a=t.height)&&void 0!==a?a:1,src:null!==(o=t.url)&&void 0!==o?o:""})}),(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:u,height:e,width:n,position:"absolute",top:!0,left:!0})]}):(0,d.jsx)(c.xu,{color:"secondary",width:n,height:e})})};var h=n(112690),m=n(892819),_=n(865673),g=n(57791),v=n(349700),y=n(698330),f=n(780280),b=n(861411),x=n(461773);function w({action:e,auxData:t,isPinnerAuthorityHero:n=!1,userSearchRepStyle:u=!1,onFollowUser:w,onUnfollowUser:S,userId:P,userPins:T,viewParameter:k,viewType:I,truncateName:A=!1}){const C=(0,l.ZP)(),E=(0,m.Z)(),j=(0,a.useDispatch)(),{locale:R}=(0,f.B)(),D=(0,h.Z)(),[O,L]=(0,i.useState)(u?window.innerWidth-16:null),F=(0,y.mN)()(P);if(!F)return null;const{contextual_pin_image_urls:N,explicitly_followed_by_me:M,follower_count:z=0,full_name:Z,image_medium_url:B,is_verified_merchant:U,recent_pin_images:H,username:V,verified_identity:$}=F,K=e=>O?(O-(e-1))/e:0,G=u?1.6*K(4):117,W=(null==T?void 0:T.map((e=>{var t;return null==e||null===(t=e.images)||void 0===t?void 0:t["236x"]})))||[],q=(null==H?void 0:H["222x"])||(null==H?void 0:H["192x"])||[];let Y=(null==N?void 0:N["222x"])||(null==N?void 0:N["192x"])||[];n&&0===Y.length&&(Y=q);const J=u&&Y.length<=0;let X=u?Y.concat(q).slice(0,4):W.concat(q).slice(0,2);0===X.length&&(X=[void 0,void 0]);const Q=!J&&(O?(0,d.jsx)(c.zd,{rounding:4,children:(0,d.jsx)(c.kC,{children:X.map(((e,t)=>(0,d.jsx)(p,{height:G,image:e,width:K(X.length)},`pinImage-${t}`)))})}):(0,d.jsx)(c.xu,{height:G,ref:e=>{e&&L(e.offsetWidth)},width:"100%"})),ee=e=>(0,d.jsx)(c.kC,{justifyContent:"center",children:(0,d.jsx)(c.xu,{marginTop:e,height:60,width:60,children:(0,d.jsx)(o.Z,{outline:!0,name:null!=Z?Z:"",src:null!=B?B:""})})}),te=e=>(0,d.jsxs)(c.kC,{direction:"column",gap:{row:0,column:1},alignItems:e,children:[(0,d.jsx)(c.kC,{alignItems:"stretch",maxWidth:(u?(O||0)/2:O)||void 0,children:(0,d.jsx)(c.xv,{align:e,weight:"bold",lineClamp:A?1:void 0,children:U||null!=$&&$.verified?(0,d.jsx)(_.Z,{badgeSize:"md",badgeSpacing:2,fullName:null!=Z?Z:"",verifiedType:U?"verifiedMerchant":"verifiedIdentity",truncate:A}):Z})}),(0,d.jsx)(c.xv,{inline:!0,size:"100",align:e,children:(0,v.nk)(C.ngettext('{{followers}} follower', '{{followers}} followers', z, 'PinnerAuthority.followersCount', 'Count of a user\'s followers'),{followers:E(R,z,{shortform:!0})})})]}),ne=(0,d.jsx)(c.kC,{justifyContent:"center",children:e&&e.url?(0,d.jsx)(c.zx,{role:"link",accessibilityLabel:e.text,color:"gray",size:"lg",text:e.text,href:e.url,onClick:()=>{D({event_type:9029,object_id_str:P,view_type:I,view_parameter:k,aux_data:t})},rel:(0,s.Z)({url:e.url})?"nofollow":void 0,target:(0,s.Z)({url:e.url})?"blank":void 0}):(0,d.jsx)(r.Z,{id:P,isSecondaryButton:!0,isFollowed:M,onFollow:e=>{w&&w(),j((0,x.ZN)(e))},onUnfollow:e=>{S&&S(),j((0,x.fv)(e))},size:"lg",followEventType:45,unfollowEventType:46,viewParameter:k,viewType:I})});return(0,d.jsx)(b.Cy,{loggingId:P,objectIdStr:P,slotIndex:0,viewParameter:k,viewType:I,children:({impressionTrackerRef:e})=>(0,d.jsx)(c.xu,{ref:e,padding:1,marginBottom:6,"data-test-id":"user-rep",children:(0,d.jsx)(g.MZ,{to:`/${V}/`,onTouch:()=>{D({event_type:43,object_id_str:P,view_parameter:k,view_type:I})},children:(0,d.jsxs)(c.kC,{direction:"column",gap:{row:0,column:2},width:"100%",children:[Q,u?(0,d.jsx)(c.xu,{width:"100%",children:(0,d.jsxs)(c.kC,{justifyContent:"between",alignItems:"center",children:[(0,d.jsxs)(c.kC,{alignItems:"center",gap:{row:2,column:0},children:[ee(),te("start")]}),ne]})}):(0,d.jsxs)(c.kC,{direction:"column",gap:{row:0,column:2},children:[ee(-10),te("center"),ne]})]})})})})}},865673:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(512176),o=n(883119),r=n(785893);const s=function({badgeSize:e,badgeSpacing:t,fullName:n,verifiedType:s,truncate:l=!1}){const c=n.split(" "),d=c.slice(0,c.length-1).join(" "),u=" ".concat(c[c.length-1]);return l?(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(o.xv,{lineClamp:1,weight:"bold",children:n}),(0,r.jsx)(o.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:(0,r.jsx)(a.Z,{isVerifiedMerchant:"verifiedMerchant"===s,size:e,showVerifiedIdentity:"verifiedIdentity"===s})})]}):(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)("span",{children:d}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u,"",(0,r.jsx)(o.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:(0,r.jsx)(a.Z,{isVerifiedMerchant:"verifiedMerchant"===s,size:e,showVerifiedIdentity:"verifiedIdentity"===s})})]})]})}},152028:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(81226),a=n(898781),o=n(883119),r=n(785893);function s({duration:e}){const t=(0,a.ZP)();return(0,r.jsxs)(o.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,r.jsx)(o.JO,{accessibilityLabel:t._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"light",icon:"video-camera"}),(0,r.jsx)(o.xu,{marginStart:1,children:(0,r.jsx)(o.xv,{color:"inverse",size:"100",lineClamp:1,children:(0,i.Z)(e)})})]})}},926749:(e,t,n)=>{n.d(t,{ZP:()=>P});var i=n(667294),a=n(23279),o=n.n(a),r=n(722767);function s(e){const{eventData:{videoEvent:{videoDuration:t,startTime:n,endTime:i,videoStartTime:a,videoEndTime:o,isAudible:r,height:s,width:l,playbackState:c,quartile:d,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:m}},component:_,objectId:g,view:v,viewParameter:y,...f}=e;return{component:_,object_id_str:g,view_type:v,view_parameter:y,aux_data:{...f},event_data:{videoEventData:{videoDuration:t,time:n,endTime:i,videoTime:a,endVideoTime:o,isAudible:r,height:s,width:l,playbackState:c,quartile:d,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:m}}}}var l=n(121630),c=n(944546),d=n(407043),u=n(158103),p=n(883119),h=n(785893);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _=[0,.25,.5,.75,.95,.97],g=[0,.5,.8,.99,1],v="-64px 0px 0px 0px",y={rootMargin:v,threshold:g},f={rootMargin:v,threshold:c.iM},b=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function x(){return(new Date).getTime()}function w(e){return!!e.volume&&e.volume>0}class S extends i.Component{constructor(e){super(e),m(this,"videoWrapperRef",(0,i.createRef)()),m(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:n}=this.currentInterval;e.height!==t||e.width!==n?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),m(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})})),m(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})})),m(this,"handleLoop",(()=>{this.videoTime=0})),m(this,"handleTimeChange",(e=>{const{seeking:t,ready:n}=this.state;if(!this.currentInterval.videoDuration)return;const i=1e3*e.time,a=function(e,t,n,i){if(e>t)return null;if(n<=0)return null;for(const a of i){const i=a*n;if(e<=i&&t>i)return a}return null}(this.videoTime,i,this.currentInterval.videoDuration,_);if("number"==typeof a&&this.props.playing&&!t&&n){const e=x();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a})}this.videoTime=i,this.props.onTimeChange&&this.props.onTimeChange(e)})),m(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),m(this,"handleReady",(e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),m(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),m(this,"handleVisibilityChange",((e,t)=>{if(0===e.length)return;const n=e.slice(-1)[0],i=function(e,t){for(let n=0;n<t.length;n+=1){const i=t[n],a=t[n+1];if(null==a)return i;if(i<=e&&e<a)return i}return null}(Number.parseFloat(n.intersectionRatio.toFixed(2)),g);"number"==typeof i&&(this.visible=i>=.5),null==i||i===this.currentInterval.viewability||this.fullscreen||(0===i?this.startNewInterval({viewability:i,playbackState:b.PAUSED}):this.startNewInterval({viewability:i}))})),m(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})})),m(this,"handleClose",(()=>{this.startNewInterval()})),m(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const t=x();this.handleWindowResize=o()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:w(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const n={};w(e)&&!w(this.props)?n.isAudible=!1:!w(e)&&w(this.props)&&(n.isAudible=!0);const i=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==i&&(n.playbackState=i),Object.keys(n).length>0&&this.startNewInterval(n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?b.PLAYING:b.PAUSED:b.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{closeupStoryPinViewability:n,contextLogData:i,logContextEvent:a}=this.props,{height:o,width:r,windowHeight:l,windowWidth:c,viewability:d,...u}=t;if(null!=o&&null!=r&&null!=l&&null!=c&&null!=d){const t={...u,height:o,width:r,windowHeight:l,windowWidth:c,viewability:n||d};a({event_type:e,...s({...i,view:this.fullscreen?108:i.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){const e=x();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=x();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:s,aspectRatio:c,backgroundColor:d,captions:m,contextLogData:_,controls:g,cropHeight:v,hlsConfig:b,inAdsDesktopVideoExperiment:x,isAutoPlay:w,loop:S,objectFit:P,onLoadedChange:T,onControlsPause:k,onControlsPlay:I,onSeek:A,onVolumeChange:C,playbackRate:E,playing:j,playsInline:R,poster:D,preload:O,rootMargin:L,src:F,surface:N,videoStartTime:M,volume:z}=this.props,{seeking:Z}=this.state,B=x?f:y;return void 0!==L&&(B.rootMargin=N?(0,l.e)(N):L),(0,h.jsx)(r.Z,{options:B,onVisibilityChange:this.handleVisibilityChange,children:(0,h.jsx)(p.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:v?{display:"flex",alignItems:"center",height:`${v}px`}:{}},children:(0,h.jsx)(u.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:s,aspectRatio:v?236/v:c,backgroundColor:d,captions:m,contextLogData:_,controls:g,hlsConfig:b,isAutoPlay:w,loop:S,objectFit:P,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:T,onLoop:this.handleLoop,onControlsPause:k,onControlsPlay:I,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:A,onTimeChange:this.handleTimeChange,onVolumeChange:C,playbackRate:E,playing:!Z&&j,onPlay:()=>{},onPlayError:()=>{},playsInline:R,poster:D,preload:O,src:F,videoStartTime:M,visible:this.visible,volume:z})})})}}function P(e){const{logContextEvent:t}=(0,d.v)();return(0,h.jsx)(S,{...e,logContextEvent:t})}m(S,"defaultProps",p.nk.defaultProps)},158103:(e,t,n)=>{n.r(t),n.d(t,{VideoWrapper:()=>w,default:()=>S,getPlaylistSourceSrc:()=>x});var i=n(667294),a=n(19121),o=n(965900),r=n(407043),s=n(773285),l=n(858416),c=n(780280),d=n(883119),u=n(969315),p=n(179888),h=n(785893);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(!e||void 0===e)return"undefined";if("string"==typeof e){let n=e;if(t){const i="control"===t?"v3.pinimg.com":"v2.pinimg.com";n=e.replace("v.pinimg.com",i)}return n}if(Array.isArray(e)&&e[0].src){let n=e[0].src;if(t){const e="control"===t?"v3.pinimg.com":"v2.pinimg.com";n=n.replace("v.pinimg.com",e)}return n}return"unsupported_type_"+typeof e}class g extends i.Component{constructor(...e){super(...e),m(this,"state",{canPlayVideo:!1,playbackState:p.Cy.DEFAULT}),m(this,"errorRetryCount",2),m(this,"hasSegmentStarted",!1),m(this,"hasPlaybackStarted",!1),m(this,"hasVideoSessionStarted",!1),m(this,"hasVideoSessionEnded",!1),m(this,"lastStallTime",null),m(this,"lastPauseTime",null),m(this,"logSessionStartOnNextPlay",!1),m(this,"playerId",""),m(this,"videoSessionId",""),m(this,"videoVisibleTime",null),m(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:_(this.props.src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0}),m(this,"componentDidMount",(()=>{const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:n=!1}=e;(0,u.tE)("videoMounted",!1,n),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(p.DR,{initiator:"mount"}))})),m(this,"componentDidUpdate",(e=>{const{playing:t,visible:n,appInFocus:i}=this.props;e.appInFocus&&!i&&(this.logPlaybackPerformance(p.$f,{initiator:"update"}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===n&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"update"})),!1===e.visible&&!0===n&&(this.videoVisibleTime=this.videoVisibleTime||new Date,t?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),t&&i&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)})),m(this,"addSegment",(()=>{const{canPlayTime:e,loadStartTime:t,segments:n,srcString:i}=this.playbackPerformance;let a=-1;e&&t&&0===n.length&&(a=e>t?e-t:0);const o=this.videoPlayerRef&&this.videoPlayerRef.video,r={indicatedKbps:-1,duration:o&&o.duration*p.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:a,switchBitrateKbps:-1,uri:i,viewportWidth:o&&o.clientWidth||-1,viewportHeight:o&&o.clientHeight||-1,watchedDurationMs:0};n.push(r)})),m(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*p.gJ:0)),m(this,"getVideoResourceTiming",(()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.performance)&&void 0!==t&&t.getEntriesByName&&this.playbackPerformance.srcString){const e=window.performance.getEntriesByName(this.playbackPerformance.srcString);return e.length>0&&e[0]||null}return null})),m(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:n,playing:i}=this.props,{is_closeup_video:a=!1}=t,{canPlayVideo:o}=this.state;(0,u.tE)("handleCanPlayVideo",!1,a,{firstCanPlayEvent:!o,playing:i}),this.playbackPerformance.hasFatalError=!1,o||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),n&&n(e)})),m(this,"handleEnded",(e=>{const{loop:t,onEnded:n}=this.props,{segments:i}=this.playbackPerformance,a=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),this.hasSegmentStarted=!1):t||this.logPlaybackPerformance(p.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:p.Cy.ENDED}),n&&n(e)})),m(this,"handleError",(()=>{var e,t,n,i,a,o,r,s;const{contextLogData:l={}}=this.props,{is_closeup_video:c=!1}=l,d=this.videoPlayerRef&&this.videoPlayerRef.video;(null==d||null===(e=d.error)||void 0===e?void 0:e.code)!==p.lG.MEDIA_ERR_ABORTED&&(this.playbackPerformance.hasFatalError=!0),this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${(null==d||null===(t=d.error)||void 0===t?void 0:t.message)||""}`,this.playbackPerformance.errorCode=(null==d||null===(n=d.error)||void 0===n?void 0:n.code)||0,this.playbackPerformance.errorName=(null==d||null===(i=d.error)||void 0===i||null===(a=i.message)||void 0===a?void 0:a.slice(0,100))||"unknown",this.playbackPerformance.errorReason=(null==d||null===(o=d.error)||void 0===o||null===(r=o.message)||void 0===r?void 0:r.slice(0,100))||"unknown";const h={errorName:this.playbackPerformance.errorCode,errorReason:this.playbackPerformance.errorName,errorRetryCount:this.errorRetryCount,playbackState:this.state.playbackState,networkState:(null==d?void 0:d.networkState)||"unknown"};switch((0,u.tE)("fatalError",!1,c,h),null==d||null===(s=d.error)||void 0===s?void 0:s.code){case p.lG.MEDIA_ERR_ABORTED:break;case p.lG.MEDIA_ERR_NETWORK:case p.lG.MEDIA_ERR_DECODE:case p.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:this.errorRetryCount>0&&(null==d||d.load(),this.errorRetryCount-=1)}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:p.Cy.FAILED})})),m(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:p.Cy.LOADED_METADATA})})),m(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:p.Cy.LOAD_START})})),m(this,"handleLoadedData",(()=>{this.setState({playbackState:p.Cy.LOADED_DATA})})),m(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.hasSegmentStarted||this.addSegment(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:p.Cy.PLAYING}),this.props.clearSeekTime&&this.props.clearSeekTime()})),m(this,"handleUserPause",(e=>{const{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)})),m(this,"handleVideoPause",(()=>{this.state.playbackState!==p.Cy.STALLING&&this.state.playbackState!==p.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:p.Cy.PAUSED})})),m(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==p.Cy.ENDED&&this.setState({playbackState:p.Cy.SEEKING})})),m(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==p.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1,this.setState({playbackState:p.Cy.STALLING}))})),m(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===p.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),m(this,"resetPlaybackMetrics",(()=>{this.hasSegmentStarted=!0,this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),m(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),m(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),m(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),m(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),m(this,"updateStallDuration",(()=>{if(null!==this.lastStallTime){const e=this.lastStallTime;this.playbackPerformance.totalStallDurationMs+=new Date-e,this.lastStallTime=null}})),m(this,"updatePauseDuration",(()=>{if(null!==this.lastPauseTime){const e=this.lastPauseTime;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}})),m(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof i&&"number"==typeof n){const e=i-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),m(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:n={},userId:i,isAutoPlay:a,logContextEvent:o}=this.props,{is_closeup_video:r=!1}=n,{canPlayTime:s,detailedErrors:l,errorCode:c,errorName:d,errorReason:h,hasFatalError:m,loadStartTime:_,totalPauseDurationMs:g,totalStallDurationMs:v,numberOfStalls:y,numberOfSeeks:f,playbackStartTimestamp:b,segments:x,srcString:w}=this.playbackPerformance,S=this.videoPlayerRef&&this.videoPlayerRef.video,P=e===p.DR,T=P&&!this.hasVideoSessionStarted,k=!P&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(S&&(T||k)){var I;let T=-1;s&&_&&(T=s>_?s-_:0);let k=-1;s&&this.videoVisibleTime&&(k=s>this.videoVisibleTime?s-this.videoVisibleTime:0),P&&(this.videoSessionId=(0,p.Y7)(i),this.playerId=this.playerId||(0,p.EB)());const A=this.getVideoResourceTiming(),C={averageVideoKbps:-1,autoplaying:a,detailedErrors:l,downloadedKiloBytes:"number"==typeof(null==A?void 0:A.decodedBodySize)&&A.decodedBodySize/p.Fm||0,errorCode:c,errorName:d,errorReason:h,fatalError:m,isCellular:!1,nativeVideoDurationMs:S.duration*p.gJ||-1,numberOfStalls:y,numberOfSeeks:f,overallPausedDurationMs:g,overallBufferDurationMs:v,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:b||-1,segments:[],sessionMark:e,screenPixelScale:null!==(I=window)&&void 0!==I&&I.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:S.clientWidth,startupPlayerHeight:S.clientHeight,startupTimeMs:T,startupLatencyMs:k,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:S.videoWidth,startupVariantHeight:S.videoHeight,videoUrl:w};if(!P){this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const e=x.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);C.overallWatchedDurationMs=e,C.startupVariantWatchedDurationMs=e,C.segments=this.playbackPerformance.segments,0===e?(C.errorName="invalid_watch_duration",C.rebufferRate=-1):C.rebufferRate=v/e}(0,u.ZP)(C,!1,r,{playbackState:this.state.playbackState,...t});const{view:E,viewParameter:j,component:R,element:D,objectId:O,...L}=n;o({event_type:3606,event_data:{videoPerformanceData:C},view_type:E,view_parameter:j,component:R,element:D,object_id_str:O,aux_data:{...L,is_closeup_video:r,playback_session_id:this.videoSessionId}}),P?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,u.tE)(P?"sessionStart":"sessionEnd",!1,r,{playbackState:this.state.playbackState,...t})}}))}componentWillUnmount(){const{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"unmount",loop:e})}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:s,captions:l,controls:c,loop:u,loopOverride:p,objectFit:m,onDurationChange:g,onFullscreenChange:v,onLoadedChange:y,onControlsPlay:f,onPlayheadDown:b,onPlayheadUp:x,onSeek:w,onVolumeChange:S,playbackRate:P,playing:T,playsInline:k,poster:I,preload:A,src:C,videoStartTime:E,volume:j}=this.props,{canPlayVideo:R}=this.state;return(0,h.jsx)(d.nk,{autoplay:R&&T,accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:s,captions:l,controls:c,loop:void 0===p?u:p,objectFit:m,onDurationChange:g,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:v,onLoadedChange:y,onLoadStart:this.handleLoadStart,onControlsPause:this.handleUserPause,onControlsPlay:f,onPlaying:this.handlePlaying,onPlayheadDown:b,onPlayheadUp:x,onReady:this.handleCanPlayVideo,onSeek:w,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:S,onWaiting:this.handleStalled,playbackRate:P,onPlay:()=>{},onPlayError:()=>{},playing:R&&T,playsInline:k,poster:I,preload:A,ref:this.setVideoPlayerRef,src:_(C,this.props.quicExpGroup),startTime:E||void 0,volume:j})}}const v=(0,i.memo)((function(e){const{logContextEvent:t}=(0,r.v)(),{country:n,isAuthenticated:i,isBot:d,isSocialBot:p,unauthId:m,userAgent:_}=(0,c.B)(),{browserName:v,browserVersion:y,isMobile:f}=_,{contextLogData:b={}}=e,{is_closeup_video:x=!1,view:w,viewParameter:S}=b,{appUI:{appInFocus:P}}=(0,o.I)(),{checkExperiment:T}=(0,s.F)(),{clearSeekTime:k}=(0,l.RC)();let I=null;i&&(I=T("web_video_quic").group.length?T("web_video_quic").group:null);const A=(0,a.Z)(),C={browserName:v,browserVersion:y,country:n,isAuthenticated:i,isBot:d,is_closeup_video:x,isMobile:f,isSocialBot:p,view:w,viewParameter:S};return(0,u.r$)(C),(0,h.jsx)(g,{...e,userId:A.id||m,appInFocus:P,quicExpGroup:I,logContextEvent:t,clearSeekTime:k})}));var y=n(562559),f=n(366284);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x=e=>{if(Array.isArray(e)){const t=e.find((e=>"video/m3u8"===e.type));return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0};class w extends i.PureComponent{constructor(e){super(e),b(this,"componentDidUpdate",((e,t)=>{var n;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&null!==(n=this.videoPlayerRef)&&void 0!==n&&n.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)})),b(this,"setVideoPlayerRef",(e=>{e&&(this.videoPlayerRef=e)})),b(this,"handleOnEnded",(({event:e})=>{const{loop:t,onLoop:n,onEnded:i}=this.props;i&&(i({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),n&&n()))}));const t=x(e.src);this.state={useHlsVideo:!e.preferMp4&&!(0,f.G6)(e.requestContext.userAgent.browserName)&&!!t}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:s,appInFocus:l,backgroundColor:c,captions:d,contextLogData:u,controls:p,hlsConfig:m,isAutoPlay:_,loop:g,objectFit:f,onDurationChange:b,onEnded:w,onFullscreenChange:S,onLoadedChange:P,onControlsPause:T,onControlsPlay:k,onPlayheadDown:I,onPlayheadUp:A,onReady:C,onSeek:E,onTimeChange:j,onVolumeChange:R,playbackRate:D,playing:O,playsInline:L,poster:F,preferMp4:N,preload:M,src:z,videoStartTime:Z,visible:B,volume:U}=this.props,{useHlsVideo:H}=this.state,V=x(z),$={...m,startPosition:Z||-1},K=!w&&g;return H&&V?(0,h.jsx)(y.Z,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:s,appInFocus:l,backgroundColor:c,captions:d,contextLogData:u,controls:p,hlsConfig:$,isAutoPlay:_,loop:g,loopOverride:K,onDurationChange:b,onEnded:this.handleOnEnded,onFullscreenChange:S,onLoadedChange:P,onControlsPause:T,onControlsPlay:k,onPlayheadDown:I,onPlayheadUp:A,onReady:C,onSeek:E,onTimeChange:j,onVolumeChange:R,playbackRate:D,onPlay:()=>{},onPlayError:()=>{},playing:O,playsInline:L,poster:F,preload:M,setVideoRef:this.setVideoPlayerRef,src:V,visible:B,volume:U}):(0,h.jsx)(v,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:r,aspectRatio:s,captions:d,contextLogData:u,controls:p,isAutoPlay:_,loop:g,loopOverride:K,objectFit:f,onDurationChange:b,onEnded:this.handleOnEnded,onFullscreenChange:S,onLoadedChange:P,onControlsPause:T,onControlsPlay:k,onPlayheadDown:I,onPlayheadUp:A,onReady:C,onSeek:E,onTimeChange:j,onVolumeChange:R,playbackRate:D,onPlay:()=>{},onPlayError:()=>{},playing:O,playsInline:L,poster:F,preload:M,setVideoRef:this.setVideoPlayerRef,src:N?z:V||z,videoStartTime:Z,visible:B,volume:U})}}function S(e){const{appUI:{appInFocus:t}}=(0,o.I)(),n=(0,c.B)();return(0,h.jsx)(w,{...e,appInFocus:t,requestContext:n})}},944546:(e,t,n)=>{n.d(t,{HJ:()=>a,VS:()=>i,iM:()=>o});const i=2,a="V_HLSV3_MOBILE",o=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},621317:(e,t,n)=>{n.d(t,{Z:()=>ut});var i=n(722545),a=n(934494),o=n(667294),r=n(702664),s=n(427806),l=n(761881),c=n(834911),d=n(737022),u=n(542554),p=n(156637),h=n(280446),m=n(604077),_=n.n(m),g=n(777506),v=n.n(g),y=n(440011),f=n(898781),b=n(785893);function x({pinDominantColor:e,url:t,closeupImageWidth:n,closeupImageHeight:i}){const a=(0,f.ZP)();return(0,b.jsx)(y.Z,{alt:a._('Pin image', 'flashlight.cropper.closeupImage', 'Pin closeup image'),color:e,isFlashlightPage:!0,naturalHeight:i,naturalWidth:n,placeholder:t,showSpinner:!1,src:t})}var w=n(641696),S=n.n(w),P=n(105879),T=n.n(P),k=n(883119);const I=24,A=e=>{const{alt:t,src:n,top:i,left:a}=e;return(0,b.jsx)(k.xu,{position:"absolute",height:I,width:I,dangerouslySetInlineStyle:{__style:{top:i,left:a}},children:(0,b.jsx)(k.Ee,{alt:t,color:"transparent",naturalHeight:I,naturalWidth:I,src:n})})},C={backgroundColor:"#000000",opacity:"0.4"};function E({closeupImage:e,closeupImageDims:t,cropArea:{x:n,y:i,w:a,h:r},disableBorder:s,disableHandles:l,onTouchStart:c,onTouchMove:d,onTouchEnd:u,pinDominantColor:p}){var h;const m=(0,f.ZP)(),g=null!==(h=null==e?void 0:e.url)&&void 0!==h?h:"",{closeupImageWidth:y,closeupImageHeight:w}=t,P=Math.floor(w*i),I=Math.floor(y*n),E=Math.floor(w*r),j=Math.floor(y*a),R=I+j,D=P+E;return(0,b.jsxs)(k.xu,{onTouchMove:d,onTouchStart:c,onTouchEnd:u,position:"relative",children:[(0,b.jsx)(x,{pinDominantColor:p,url:g,closeupImageWidth:y,closeupImageHeight:w}),(0,b.jsxs)(o.Fragment,{children:[(0,b.jsx)(k.xu,{dangerouslySetInlineStyle:{__style:C},height:P,left:!0,position:"absolute",top:!0,width:"100%"}),(0,b.jsx)(k.xu,{dangerouslySetInlineStyle:{__style:{...C,top:P}},left:!0,height:E,position:"absolute",width:I}),(0,b.jsx)(k.xu,{dangerouslySetInlineStyle:{__style:{...C,top:P,left:R}},height:E,position:"absolute",right:!0}),(0,b.jsx)(k.xu,{dangerouslySetInlineStyle:{__style:{...C,top:D}},bottom:!0,left:!0,position:"absolute",width:"100%"})]}),!l&&(0,b.jsxs)(k.xu,{"data-test-id":"CropperHandles",children:[(0,b.jsx)(A,{alt:m._('Top left cropper handle', 'flashlight.cropper.topLeftHandle', 'top left handle for cropping image'),src:S(),top:P-9,left:I-9}),(0,b.jsx)(A,{alt:m._('Top right cropper handle', 'flashlight.cropper.topRightHandle', 'top right handle for cropping image'),src:T(),top:P-9,left:R-15}),(0,b.jsx)(A,{alt:m._('Bottom left cropper handle', 'flashlight.cropper.bottomLeftHandle', 'bottom left handle for cropping image'),src:_(),top:D-15,left:I-9}),(0,b.jsx)(A,{alt:m._('Bottom right cropper handle', 'flashlight.Cropper.BottomLeftHandle', 'bottom right handle for cropping image'),src:v(),top:D-15,left:R-15})]}),(0,b.jsx)(k.xu,{"data-test-id":"CroppedArea",position:"absolute",rounding:2,height:E+4,width:j+4,dangerouslySetInlineStyle:{__style:{top:P-2,left:I-2,border:s?void 0:"2px solid #ffffff"}}})]})}var j=n(523563),R=n(829407),D=n(112690);function O({auxData:e,style:t,onClick:n,x:i,y:a,viewParameter:o}){const r=(0,f.ZP)(),s=(0,D.Z)(),l=32;return(0,R.Z)((()=>{s({aux_data:e,event_type:120,element:1260,view_parameter:o,view_type:72})})),(0,b.jsx)("div",{"data-test-id":"dot",onClick:n,onKeyPress:n,role:"button",style:{position:"absolute",top:a-16,left:i-16,outline:"none",...t},"aria-label":r._('Select a specific item on image', 'dot.accessibilityLabel', 'Accessibility label for <Dot /> component'),tabIndex:"0",children:(0,b.jsx)(k.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.1)",width:l,height:l,border:"none",borderRadius:l,cursor:n?"pointer":"default"}},children:(0,b.jsx)(k.xu,{color:"light",position:"absolute",padding:0,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{boxShadow:"none",width:16,height:16,border:"none",borderRadius:16,top:8,left:8}}})})})}var L=n(599611),F=n(391254),N=n(100183);const M=(0,N.Ll)(["\n  flashlightDotPop {\n      0% {\n          opacity: 0;\n          transform: scale(0);\n      }\n\n      100% {\n          opacity: 1;\n          transform: scale(1);\n      }\n  }\n","labelReveal {\n    0% {\n      transform: scale(0, 1)\n    }\n\n    100% {\n      transform: scale(1, 1)\n    }\n  }\n"]);function z({closeupImageTop:e,cropArea:t,entryPoint:n,imageHeight:i,imageTop:a,imageWidth:r,onDotTap:s,setCropArea:l,shouldUpdateUnifiedFeed:c,viewParameter:d,visualObjects:u}){const p=(0,D.Z)(),h=c?{commerce_data:JSON.stringify({entrypoint:n})}:{},m="shopping"===n?1221:1260;return(0,b.jsxs)(o.Fragment,{children:[(0,b.jsx)(F.Z,{unsafeCSS:M}),u.map(((n,o)=>{const{x:u=0,y:_=0,w:g=0,h:v=0,is_stela:y,label:f}=n,x={x:u,y:_,h:v,w:g};if((0,j.Z)(t,x,.04))return null;const w=(0,L.Z)({cropArea:n,scaledWidth:r,scaledHeight:i}),S=Math.floor(w.x+w.w/2),P=Math.floor(w.y+a+w.h/2)-e,T={animation:`flashlightDotPop 0.3s ease-out ${parseFloat((.1*o).toFixed(2))}s both`};return(0,b.jsx)(O,{auxData:h,onClick:function(){p({view_parameter:d,view_type:72,element:m,event_type:102,aux_data:h}),s({cropArea:x,cropSource:y?4:1,label:f,reload:!0,fromUnifiedFeed:c}),null==l||l(x)},style:T,x:S,y:P,viewParameter:d},JSON.stringify(x))}))]})}var Z=n(618446),B=n.n(Z),U=n(691720);function H({closeupImage:e,closeupImageDims:t,cropArea:n,handleChangeCloseupImageTop:i,handleCropperChange:a,pinDominantColor:r,visualObjects:s,viewParameter:l,viewType:c}){const d=(0,D.Z)(),[u,p]=(0,o.useState)(0),{closeupImageHeight:h,closeupImageWidth:m,closeupImageTop:_}=t;return(0,b.jsxs)(k.xu,{overflow:"hidden",position:"fixed",dangerouslySetInlineStyle:{__style:{top:_}},maxWidth:U.g6,width:"100%",children:[(0,b.jsx)(E,{closeupImage:e,closeupImageDims:t,cropArea:n,disableBorder:!0,disableHandles:!0,onTouchStart:e=>{const{clientY:t}=e.touches[0];p(t)},onTouchMove:e=>{e.preventDefault();const{closeupImageTop:n,closeupImageMinTop:a}=t;if(i&&a){const{clientY:t}=e.touches[0];p(t);const o=t-u;i(Math.floor(Math.max(a,Math.min(0,n+o))))}},onTouchEnd:()=>{d({view_parameter:l,view_type:c,element:11677,event_type:102}),B()(n,{x:0,y:0,h:1,w:1})||a({cropArea:{x:0,y:0,h:1,w:1},cropSource:5,reload:!0,fromUnifiedFeed:!0})},pinDominantColor:r}),!!s.length&&0!==h&&0!==m&&(0,b.jsx)(k.xu,{"data-test-id":"FlashlightDots",children:(0,b.jsx)(z,{closeupImageTop:_,cropArea:n,entryPoint:"shopping",imageHeight:h,imageTop:_,imageWidth:m,onDotTap:a,shouldUpdateUnifiedFeed:!0,viewParameter:l,visualObjects:s})})]})}var V=n(766935),$=n(245376),K=n(124580),G=n(63552),W=n(905732),q=n(223815),Y=n(643010),J=n(826067),X=n(867820),Q=n(780280);const ee=(0,N.Ll)(["\n  modalReveal {\n      0% {\n          transform: translate(0%, 100%);\n      }\n\n      100% {\n        transform: translate(0%, 0%);\n      }\n  }\n"]);function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ne=()=>{};function ie({filterIconShown:e,isRTL:t}){const n=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight";return e?{[n]:38,[i]:50,marginTop:15,marginBottom:15}:{[n]:-10,[i]:50,marginTop:15,marginBottom:15}}const ae={mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",overscrollBehavior:"none",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out",width:"100%",zIndex:1}},modal:{baseStyles:{border:(0,Y.Yc)()?void 0:"1px solid #efefef",borderRadius:"16px",overscrollBehavior:"none",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",transformOrigin:"bottom",width:"100vw",zIndex:1}}},oe=0,re=1,se=2;class le extends o.Component{constructor(...e){super(...e),te(this,"state",{currentDistanceFromTop:this.props.maxDistanceFromTop?this.props.maxDistanceFromTop:-1,startY:0,scrollDirection:oe,shouldAnimate:!1,addedEvent:!1,filterModalIsOpen:!1,showIndicator:!1}),te(this,"onScroll",(0,V.Z)((()=>{const{logContextEvent:e,viewParameter:t,viewType:n}=this.props;e({event_type:110,view_parameter:t,view_type:n})}),1e3)),te(this,"onTouchStart",(e=>{const{clientY:t}=e.touches[0];this.setState({startY:t,shouldAnimate:!1,scrollDirection:oe})})),te(this,"onTouchMove",(e=>{!this.state.addedEvent&&this.modal&&(this.modal.addEventListener("touchmove",this.preventPullToRefresh,{passive:!1}),this.setState({addedEvent:!0})),e.preventDefault();const{clientY:t}=e.touches[0],{startY:n,currentDistanceFromTop:i}=this.state,{canMoveModal:a,entryPoint:o,onDismiss:r,logContextEvent:s,maxDistanceFromTop:l,viewParameter:c}=this.props,d=t-n;a&&void 0!==l&&(("CloseupShop"===o||"CloseUpMainPinDrawer"===o)&&d>20&&i>l&&r?(s({event_type:108,view_parameter:c,view_type:427}),this.setState({currentDistanceFromTop:l,startY:0,scrollDirection:oe},(()=>r(e)))):(d>0&&i>=0&&(i<l||"CloseupShop"===o||"CloseUpMainPinDrawer"===o)&&window.scrollY<=0||d<0&&i<=l&&i>=0)&&this.setModalPosition(t,d))})),te(this,"onTouchEnd",(e=>{const{minDistanceFromTop:t,entryPoint:n}=this.props;this.state.addedEvent&&this.modal&&(this.modal.removeEventListener("touchmove",this.preventPullToRefresh),this.setState({addedEvent:!1})),this.props.shouldSnapToEnds&&this.state.scrollDirection===se?(this.header&&K.Z.removeObstruction("top",this.header),this.setState({currentDistanceFromTop:this.props.maxDistanceFromTop,shouldAnimate:!0}),n&&(0,X.My)(`mweb.${n}.snap_to_bottom`)):this.props.shouldSnapToEnds&&this.state.scrollDirection===re&&(this.setState({currentDistanceFromTop:t||0,shouldAnimate:!0}),this.header&&K.Z.addObstruction("top",this.header),n&&(0,X.My)(`mweb.${n}.sliding_modal.snap_to_top`))})),te(this,"handleHeaderTouch",(()=>{const{maxDistanceFromTop:e,minDistanceFromTop:t,entryPoint:n}=this.props,{currentDistanceFromTop:i,scrollDirection:a}=this.state;a===oe&&(i===e?(this.setState({currentDistanceFromTop:t||0,shouldAnimate:!0}),(0,X.My)(`mweb.${n}.sliding_modal.header_touch.snap_to_top`)):e&&(this.setState({currentDistanceFromTop:e,shouldAnimate:!0}),(0,X.My)(`mweb.${n}.sliding_modal.header_touch.snap_to_bottom`)))})),te(this,"handleCloseIconTouch",(e=>{const{currentDistanceFromTop:t}=this.state,{onDismiss:n,logContextEvent:i,maxDistanceFromTop:a,viewParameter:o,viewType:r}=this.props;e.stopPropagation(),n&&(i({aux_data:{commerce_data:JSON.stringify({snapped_top:0===t})},element:75,event_type:102,view_parameter:o,view_type:r}),this.setState({currentDistanceFromTop:a,startY:0,scrollDirection:oe},(()=>n(e))))})),te(this,"getMaskStyles",(()=>{const{entryPoint:e,overrideZDepth:t}=this.props,n=ae.mask.baseStyles;return n.zIndex=t?t-1:n.zIndex,{__style:{...n,..."CloseupShop"===e?{backgroundColor:"rgba(255,255,255, 1)",height:"50%",top:"70%"}:Object.freeze({})}}})),te(this,"getModalStyles",(()=>{const{entryPoint:e,overrideZDepth:t,shouldSnapToEnds:n}=this.props,{currentDistanceFromTop:i,shouldAnimate:a}=this.state,o=ae.modal.baseStyles;return o.zIndex=t||o.zIndex,o.border=this.props.noBorder?void 0:o.border,{__style:{...o,boxShadow:"CloseupShop"===e?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,animation:"modalReveal 0.3s ease-out both",zIndex:"CloseUpMainPinDrawer"===e?4:void 0,borderRadius:"CloseUpMainPinDrawer"===e?"24px":void 0,top:i>-1?i:void 0,...n&&a?{transitionDuration:"500ms",transitionProperty:"transform, opacity, top"}:Object.freeze({})}}})),te(this,"setModalPosition",((e,t)=>{const{startY:n,currentDistanceFromTop:i}=this.state,{maxDistanceFromTop:a,snapToEndThreshold:o,entryPoint:r}=this.props;if(a){const t=e-n,s="CloseupShop"===r||"CloseUpMainPinDrawer"===r?Math.max(0,i+t):Math.min(a,Math.max(0,i+t)),l=Math.floor(s);let c=oe;if(o){const e=Math.floor(o*a),n=Math.floor((1-o)*a);t<0?c=l>n?se:re:t>0&&(c=l>e?se:re)}this.setState({startY:e,currentDistanceFromTop:l,scrollDirection:c})}})),te(this,"preventBackgroundScroll",(e=>{e.preventDefault()})),te(this,"preventPullToRefresh",(e=>{const{canMoveModal:t}=this.props,{currentDistanceFromTop:n,startY:i}=this.state,{clientY:a}=e.touches[0],o=a-i;t&&n>=0&&0===window.scrollY&&o>0&&e.preventDefault()})),te(this,"openFiltersModal",(e=>{e.stopPropagation(),this.setState({filterModalIsOpen:!0})})),te(this,"closeFiltersModal",(()=>{this.setState({filterModalIsOpen:!1})})),te(this,"buttonTap",(()=>{const{cropSource:e,logContextEvent:t}=this.props;let n="";n="related_products"===(0,$.Z)(e)?3455:3456,t({event_type:102,view_parameter:n,view_type:72,element:11735})})),te(this,"updateShowIndicator",(e=>{this.setState({showIndicator:e})}))}componentDidMount(){const{isOpen:e,entryPoint:t}=this.props;e&&K.Z.pause(),"CloseupShop"!==t&&"CloseUpMainPinDrawer"!==t||window.addEventListener("scroll",this.onScroll)}componentDidUpdate(e,t){const{domainFilters:n,priceFilters:i,cropSource:a,isOpen:o,logContextEvent:r,maxDistanceFromTop:s,setHasDraggedDrawerToFullScreen:l,minDistanceFromTop:c,entryPoint:d}=this.props,{currentDistanceFromTop:u}=this.state;if(o&&!e.isOpen?K.Z.pause():!o&&e.isOpen&&K.Z.resume(),"CloseUpMainPinDrawer"===d&&s<e.maxDistanceFromTop&&u>s&&this.handleHeaderTouch(),t.currentDistanceFromTop!==(e.minDistanceFromTop||0)&&u===(c||0)&&l&&l(!0),n&&i&&(!B()(n,e.domainFilters)||!B()(i,e.priceFilters))){let e="";e="related_products"===(0,$.Z)(a)?3455:3456,r({event_type:13,view_parameter:e,view_type:72,element:11735})}}componentWillUnmount(){const{entryPoint:e,isOpen:t}=this.props;this.header&&K.Z.removeObstruction("top",this.header),t&&K.Z.resume(),this.state.addedEvent&&this.modal&&this.modal.removeEventListener("touchmove",this.preventPullToRefresh),"CloseupShop"!==e&&"CloseupShop"!==e||window.removeEventListener("scroll",this.onScroll)}render(){const{mobileAccessibilityCloseIconLabel:e,canMoveModal:t,children:n,childPaddingX:i,childPaddingY:a,cropSource:o,domainFilters:r,entryPoint:s,heading:l,headerChildren:c,mobileHideCloseIcon:d,isOpen:u,isRTL:p,location:h,minDistanceFromTop:m,noDivider:_,noMaskOnBackground:g,onDismiss:v,pinId:y,priceFilters:f,submitFilters:x=(()=>{}),showHandle:w}=this.props,{currentDistanceFromTop:S,filterModalIsOpen:P,showIndicator:T}=this.state,I=!g||"CloseupShop"===s&&S<=0?this.getMaskStyles():{},A=this.getModalStyles(),C=v||ne,E=t&&S<=(m||0),j={};r&&(j.domainFilters=r),f&&(j.priceFilters=f);const R=Object.keys(j).length>0;return u&&(0,b.jsx)(q.Z,{allowClickAndDrag:!0,children:(0,b.jsx)(k.mh,{children:(0,b.jsxs)(k.xu,{display:"inlineBlock",role:"dialog","aria-label":l,children:[("CloseupShop"===s||"CloseUpMainPinDrawer"===s)&&(0,b.jsx)(F.Z,{unsafeCSS:ee}),(0,b.jsx)(G.Z,{onTouch:C,pressState:"none",accessibilityLabel:this.props.i18n._('Close', 'duplo.sldingmodal.accessibilityCloseLabel', 'Accessibility label for close button in modal'),children:(0,b.jsx)(k.xu,{dangerouslySetInlineStyle:I,left:!0,onTouchMove:this.preventBackgroundScroll,position:"fixed",top:!0})}),(0,b.jsx)(k.xu,{ref:e=>this.modal=e,children:(0,b.jsx)(k.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:A,left:!0,onTouchEnd:this.onTouchEnd,onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,position:E?"absolute":"fixed",children:(0,b.jsx)(G.Z,{onTouch:this.handleHeaderTouch,pressState:"none",accessibilityLabel:this.props.i18n._('View all search results', 'SlidingModal.Header.a11yLabel', 'Accessibility label for header of search results in flashlight'),children:(0,b.jsxs)(k.xu,{position:"relative",children:[w&&(0,b.jsx)(k.xu,{display:"flex",top:!0,marginTop:2,justifyContent:"center",children:(0,b.jsx)("svg",{width:"40",height:"4",viewBox:"0 0 40 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)("rect",{width:"40",height:"4",rx:"2",fill:"#767676"})})}),e&&!d&&(0,b.jsx)(k.Le,{top:0,children:(0,b.jsxs)(k.xu,{ref:e=>{this.header=e},color:"default",rounding:"CloseUpMainPinDrawer"===s?6:2,marginBottom:"CloseUpMainPinDrawer"===s?-5:void 0,children:[(0,b.jsxs)(k.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,b.jsx)(k.kC,{alignItems:"center",justifyContent:"start",children:(0,b.jsx)(k.hU,{accessibilityLabel:e,icon:"CloseupShop"===s||"CloseUpMainPinDrawer"===s?"cancel":"arrow-back",iconColor:"CloseUpMainPinDrawer"===s?"darkGray":"gray",onClick:({event:e})=>this.handleCloseIconTouch(e),padding:5,size:"lg"})}),(0,b.jsx)(k.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:ie({filterIconShown:R,isRTL:p})},"data-test-id":"slidingModalHeader",display:"flex",flex:"grow",justifyContent:"center",children:(0,b.jsx)(k.X6,{align:"center",size:"400",accessibilityLevel:2,children:l})}),R&&(0,b.jsxs)(k.xu,{children:[(0,b.jsxs)(k.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,b.jsx)(k.hU,{accessibilityLabel:this.props.i18n._('Filters', 'flashlightPage.slidingModal.filterIconButton', 'Icon button appears when filters are available'),iconColor:"darkGray",icon:"filter",onClick:({event:e})=>{this.openFiltersModal(e),this.buttonTap()},size:"md"}),T&&(0,b.jsx)(k.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},display:"flex",height:14,justifyContent:"center",minWidth:14,position:"absolute",rounding:"pill",top:!0,right:!0})]}),(0,b.jsx)(W.Z,{closeFiltersModal:this.closeFiltersModal,cropSource:o,initialProductFilters:{domains:(0,J.mB)(null==h?void 0:h.search).domains,prices:[parseInt((0,J.mB)(null==h?void 0:h.search).min,10),parseInt((0,J.mB)(null==h?void 0:h.search).max,10)]},isOpen:P,pinId:y,productFilters:j,submitFilters:x,updateShowIndicator:this.updateShowIndicator})]})]}),c||null,!_&&(0,b.jsx)(k.iz,{})]})}),(0,b.jsx)(k.xu,{overflow:E?"auto":void 0,paddingX:i,paddingY:a,children:n})]})})})})]})})})}}function ce(e){const{filterFeedKey:t}=e,n=(0,f.ZP)(),i=(0,D.Z)(),{isRTL:a}=(0,Q.B)(),o=(0,r.useSelector)((({productFilters:e})=>(t&&e[t]||{}).categoryFilters)),s=(0,r.useSelector)((({productFilters:e})=>(t&&e[t]||{}).domainFilters)),l=(0,r.useSelector)((({productFilters:e})=>(t&&e[t]||{}).priceFilters));return(0,b.jsx)(le,{...e,categoryFilters:o,domainFilters:s,i18n:n,isRTL:a,logContextEvent:i,priceFilters:l})}te(le,"defaultProps",{childPaddingX:3,childPaddingY:3});var de=n(430323),ue=n(19121);const pe=12,he={OUTSIDE:0,INSIDE:1,LEFT_CROPPER:2,RIGHT_CROPPER:3,TOP_CROPPER:4,BOTTOM_CROPPER:5,TOP_LEFT_HANDLE:6,TOP_RIGHT_HANDLE:7,BOTTOM_LEFT_HANDLE:8,BOTTOM_RIGHT_HANDLE:9,NONE:10};function me({closeupImage:e,closeupImageDims:t,cropArea:n,entryPoint:i,handleChangeCloseupImageTop:a,handleCropperChange:r,pinDominantColor:s,visualObjects:l,viewParameter:c}){const d=(0,D.Z)(),u=(0,o.useRef)(),[p,h]=(0,o.useState)(0),[m,_]=(0,o.useState)(0),[g,v]=(0,o.useState)(he.NONE),[y,f]=(0,o.useState)(n),{x,y:w,w:S,h:P}=y,{closeupImageTop:T,closeupImageMinTop:A,closeupImageWidth:C,closeupImageHeight:j,minCropperWidthRatio:R,minCropperHeightRatio:O}=t,L={top:T};return(0,b.jsxs)(k.xu,{overflow:"hidden",position:"fixed",dangerouslySetInlineStyle:{__style:L},ref:u,maxWidth:U.g6,width:"100%",children:[(0,b.jsx)(E,{closeupImage:e,closeupImageDims:t,cropArea:y,onTouchEnd:()=>{if(![he.NONE,he.OUTSIDE].includes(g)){const e=g===he.INSIDE?7603:7604;d({event_type:e,view_parameter:c,view_type:72})}r({cropArea:y,cropSource:6,fromUnifiedFeed:!1,reload:!0})},onTouchMove:e=>{const{clientX:t,clientY:n}=e.touches[0];if(h(t),_(n),g===he.NONE){const e=((e,t)=>{const n=t-T,i=e-(u.current?u.current.getBoundingClientRect().left:0),a=j*w,o=j*(w+P),r=C*x,s=C*(S+x);return n>a+pe&&n<o-pe&&i>r+pe&&i<s-pe?he.INSIDE:i<=r+pe&&i>=r-pe&&n>=a+15&&n<=o-15?he.LEFT_CROPPER:i<=s+pe&&i>=s-pe&&n>=a+15&&n<=o-15?he.RIGHT_CROPPER:i<=s-15&&i>=r+15&&n>=a-pe&&n<=a+pe?he.TOP_CROPPER:i<=s-15&&i>=r+15&&n>=o-pe&&n<=o+pe?he.BOTTOM_CROPPER:i<=r-9+I&&i>=r-pe&&n>=a-pe&&n<=a+I-9?he.TOP_LEFT_HANDLE:i<=s+pe&&i>=s-15&&n>=a-pe&&n<=a+I-9?he.TOP_RIGHT_HANDLE:i<=r-9+I&&i>=r-pe&&n>=o-15&&n<=o+pe?he.BOTTOM_LEFT_HANDLE:i<=s+pe&&i>=s-15&&n>=o-15&&n<=o+pe?he.BOTTOM_RIGHT_HANDLE:he.OUTSIDE})(t,n);v(e)}if(null!=R&&null!=O&&null!=A){const e=n-m,i=(t-p)/C,o=e/j,r=Math.min(x+S-R,Math.max(0,x+i)),s=S+(x-r),l=Math.min(w+P-O,Math.max(0,w+o)),c=P+(w-l),d=Math.min(1-x,Math.max(R,S+i)),u=Math.min(1-w,Math.max(O,P+o));switch(g){case he.OUTSIDE:a(Math.floor(Math.max(A,Math.min(0,T+e))));break;case he.INSIDE:f((e=>({...e,x:Math.max(0,Math.min(1-S,x+i)),y:Math.max(0,Math.min(1-P,w+o))})));break;case he.LEFT_CROPPER:f((e=>({...e,x:r,w:s})));break;case he.RIGHT_CROPPER:f((e=>({...e,w:d})));break;case he.TOP_CROPPER:f((e=>({...e,y:l,h:c})));break;case he.BOTTOM_CROPPER:f((e=>({...e,h:u})));break;case he.TOP_LEFT_HANDLE:f({x:r,w:s,y:l,h:c});break;case he.TOP_RIGHT_HANDLE:f((e=>({...e,w:d,y:l,h:c})));break;case he.BOTTOM_LEFT_HANDLE:f((e=>({...e,h:u,x:r,w:s})));break;case he.BOTTOM_RIGHT_HANDLE:f((e=>({...e,h:u,w:d})))}}},onTouchStart:e=>{const{clientX:t,clientY:n}=e.touches[0];h(t),_(n),v(he.NONE)},pinDominantColor:s}),!!l.length&&0!==j&&0!==C&&(0,b.jsx)(k.xu,{"data-test-id":"FlashlightDots",children:(0,b.jsx)(z,{closeupImageTop:T,cropArea:y,entryPoint:i,imageHeight:j,imageTop:T,imageWidth:C,onDotTap:r,setCropArea:f,shouldUpdateUnifiedFeed:!1,viewParameter:c,visualObjects:l})})]})}var _e=n(422946),ge=n(884183);var ve=n(558068),ye=n(276602),fe=n(765980),be=n(229428),xe=n(276775);const we=.1;function Se(e){return e.preventDefault()}function Pe(){return Math.min(U.g6,window.innerWidth)}function Te(e,t){return Math.floor(Pe()/t*e)}function ke(e,t){var n;if(!t)return null===(n=e.images)||void 0===n?void 0:n["736x"];const{carousel_slots:i=[]}=(0,c.Z)({carouselData:e.carousel_data,images:e.images,richMetadata:e.rich_metadata,richSummary:e.rich_summary})||{},a=i.find((e=>t===e.image_signature));return a?{...(0,d.Z)(a.images)}:void 0}function Ie(e,t){let n=0,i=0;let a=0;if(e&&e.images){var o,r,s,l;const c=ke(e,t);n=Pe(),i=Te(null!==(o=null==c?void 0:c.height)&&void 0!==o?o:1,null!==(r=null==c?void 0:c.width)&&void 0!==r?r:1),a=function(e,t){const n=Math.floor(.6*window.innerHeight);return Math.min(n,Te(e,t))}(null!==(s=null==c?void 0:c.height)&&void 0!==s?s:1,null!==(l=null==c?void 0:c.width)&&void 0!==l?l:1)}return{closeupImageWidth:n,closeupImageHeight:i,closeupImageMinTop:a-i,closeupImageTop:0,minCropperWidthRatio:n?50/n:0,minCropperHeightRatio:i?50/i:0,modalTop:a}}function Ae(e,t,n,i,a){const o="shopping"===n,r=o?1:.4,s=o?0:we;let l=i?Number(i):r,c=a?Number(a):s;e>0&&t>0&&!o&&(i||(l=(t-2*t*we)/e),a||(c=t*we/e));return{h:l,y:c}}const Ce=(0,l.Z)((e=>`visual-search:${e}`)),Ee=(0,l.Z)((e=>`related-products-unified:${e}`));function je({pin:e}){var t;const n=(0,ye.E)(),i=(0,f.ZP)(),a=(0,r.useDispatch)(),l=(0,xe.useHistory)(),{previous:c}=(0,ve.Hv)(),d=(0,xe.useLocation)(),{isAuth:m}=(0,ue.Z)(),_=(0,xe.useRouteMatch)(),{pinId:g}=(0,h.Z)(_.params.id||""),{x:v,y,w:x,h:w,source:S,tab:P,domains:T,min:I,max:A,image_signature:C,q:E,rs:j}=(0,J.mB)(d.search),D=(0,r.useSelector)((e=>Ce(e,g))),O=(0,r.useSelector)((e=>Ee(e,g))),L=(0,o.useRef)(!1),[F,N]=(0,o.useState)({reload:!1,fromUnifiedFeed:!1}),[M,z]=(0,o.useState)((()=>{const t=Ie(e,C);t.closeupImageTop=0;const{closeupImageHeight:n,modalTop:i=0}=t,a=Ae(n,i,S,Number(w),Number(y)),o="shopping"===S?0:we;let r=0;!P||"1"!==P&&"0"!==P||(r="1"===P?1:0);let s=5;return x&&w&&(s=Number(x)>=.8&&Number(w)>=.8?5:6),{closeupImageDims:t,cropSource:s,selectedTabIndex:r,domains:T,prices:[parseInt(I,10),parseInt(A,10)],x:v?Number(v):o,w:x?Number(x):1-2*o,y:a.y,h:a.h,imageSignature:C}}));if((0,o.useEffect)((()=>{L.current&&(L.current=!1,F.reload&&function(e,t){const n=S?"&source=shopping":"";(e=>{a((0,ge.By)(e))})(e),t?((0,fe.cV)(`related-products-unified:${e}`),l.replace(`/pin/${e}/visual-search/?x=${M.x}&y=${M.y}&h=${M.h}&w=${M.w}${n}&tab=${M.selectedTabIndex}`)):((0,fe.cV)(`visual-search:${e}`),l.replace(`/pin/${e}/visual-search/?x=${M.x}&y=${M.y}&h=${M.h}&w=${M.w}&tab=${M.selectedTabIndex}`))}(g,F.fromUnifiedFeed))})),(0,o.useEffect)((()=>{if(e){const t=Ie(e,M.imageSignature),{closeupImageHeight:n,modalTop:i=0}=t,a=Ae(n,i,S,Number(w),Number(y));z((e=>({...e,closeupImageDims:t,...a})))}}),[e]),(0,o.useEffect)((()=>{(D&&D.length>0||O&&O.length>0)&&n&&n.markConstraintComplete("VisualSearchFeedLoaded")})),(0,R.Z)((()=>{var e;return window.addEventListener("touchmove",Se,{passive:!0}),e=M.cropSource,a((e=>({type:"SET_FLASHLIGHT_CROP_SOURCE",payload:{cropSource:e}}))(e)),()=>window.removeEventListener("touchmove",Se)})),!e||0===M.closeupImageDims.modalTop)return null;const Z=S||"flashlight",B="shopping"===Z,V=($=M.selectedTabIndex,K=M.cropSource,1===$?4===K?3456:3455:3050);var $,K;const G=e.visual_objects||[],W=M.imageSignature?[]:(0,be.m)(G),q=(0,be.k)(G),Y={x:M.x,y:M.y,w:M.w,h:M.h},[X,Q]=M.prices,ee=1===M.selectedTabIndex,te=`related-products-unified:${g}:${M.x}:${M.y}:${M.w}:${M.h}:${String(ee)}`,ne=ke(e,M.imageSignature),ie=m?(M.closeupImageDims.modalTop||0)-5:M.closeupImageDims.closeupImageHeight||0,ae={name:"VisualLiveSearchResource",options:{pin_id:g,crop:{x:M.x,y:M.y,w:M.w,h:M.h},crop_source:M.cropSource,image_signature:M.imageSignature}},oe={closeupImage:ne,closeupImageDims:M.closeupImageDims,cropArea:Y,handleChangeCloseupImageTop:function(e){z((t=>({...t,closeupImageDims:{...t.closeupImageDims,closeupImageTop:e}})))},handleCropperChange:function({cropArea:e,cropSource:t,reload:n,fromUnifiedFeed:i}){z((n=>({...n,...e,cropSource:t,domains:"",prices:[]}))),N({reload:n,fromUnifiedFeed:i}),L.current=!0},pinDominantColor:e.dominant_color||"#efefef",viewParameter:V},re=W.some((e=>!0===e.is_stela));return(0,b.jsx)(p.Z,{viewType:72,viewParameter:V,auxData:B?{commerce_data:JSON.stringify({entrypoint:Z,pin_is_stela:re})}:void 0,children:(0,b.jsx)(de.Z,{view:72,children:(0,b.jsxs)(u.default,{hasFixedHeader:!0,hasGutter:!1,children:[(0,b.jsx)(s.Z,{text:i._('Visual Search Page', 'flashlight.accessibilityhiddenheading.fullpage', 'accessibility label for flashlight page')}),(0,b.jsxs)(k.xu,{color:"default",dangerouslySetInlineStyle:{__style:{overscrollBehavior:"none",touchAction:"none"}},height:"100vw",margin:"auto",maxWidth:U.g6,children:[B?(0,b.jsx)(H,{...oe,visualObjects:q,viewType:72}):(0,b.jsx)(me,{...oe,visualObjects:W,entryPoint:Z}),(0,b.jsx)(ce,{mobileAccessibilityCloseIconLabel:i._('Close visual search results', 'close visual search results and go back to pin', 'close visual search results and go back to pin'),canMoveModal:!0,childPaddingX:0,childPaddingY:0,cropSource:M.cropSource,entryPoint:Z,filterFeedKey:te,heading:B?i._('Shop now', 'flashlight.slidingModal.shoppingHeader', 'Visual product results'):i._('Visual search', 'Visual search results', 'Visual search results'),isOpen:!0,location:d,maxDistanceFromTop:ie,minDistanceFromTop:35,noBorder:!0,noDivider:!0,noMaskOnBackground:!0,onDismiss:function(){0!==c.length?l.goBack():l.replace(`/pin/${g}/`)},pinId:g,shouldSnapToEnds:!0,snapToEndThreshold:.3,viewParameter:V,viewType:72,children:(0,b.jsx)(k.xu,{color:"default",paddingX:3,children:B?(0,b.jsx)(fe.ZP,{resourceConfig:{name:"VisualSearchFlashlightUnifiedResource",options:{crop:Y,crop_source:M.cropSource,pin_id:g,search_query:E,source:j,is_shopping:ee,entry_source:Z,domains:M.domains,price_min:X,price_max:Q}},feedItemProps:{auxData:{commerce_data:JSON.stringify({entrypoint:Z,pin_is_stela:re})},viewType:72,viewParameter:V},feedKey:`related-products-unified:${g}`,trafficSource:ee?"shop_feed":"flashlight"}):(0,b.jsx)(fe.ZP,{resourceConfig:ae,feedItemProps:{viewParameter:3050,viewType:72},feedKey:null!==(t=(0,_e.J)(ae.name,ae.options))&&void 0!==t?t:"",trafficSource:"flashlight"})})})]})]})})})}var Re,De=n(42447),Oe=n(784590),Le=n(773285),Fe=n(350118),Ne=n(167912);const Me=void 0!==Re?Re:Re=n(190706);function ze(e){var t,n,i;return{width:null!==(t=e.width)&&void 0!==t?t:0,url:null!==(n=e.url)&&void 0!==n?n:"",height:null!==(i=e.height)&&void 0!==i?i:0}}function Ze(e){const t=[];return e.forEach((({additionalImages:e,spec:n})=>{var i;t.push(...null!==(i=function({additionalImages:e,spec:t}){const n=[];return null==e||e.forEach((e=>{var i;e.canonicalImage&&n.push({canonical_images:{[t]:ze(e.canonicalImage)},image_signature:null!==(i=e.imageSignature)&&void 0!==i?i:""})})),n}({additionalImages:e,spec:n}))&&void 0!==i?i:[])})),t}function Be(e){return null==e?void 0:e.map((e=>{var t,n;return{id:null!==(t=e.itemId)&&void 0!==t?t:"",additional_images:null!==(n=Ze([{additionalImages:e.additionalImageOrig,spec:"orig"},{additionalImages:e.additionalImage736x,spec:"736x"},{additionalImages:e.additionalImage564x,spec:"564x"},{additionalImages:e.additionalImage474x,spec:"474x"},{additionalImages:e.additionalImage236x,spec:"236x"}]))&&void 0!==n?n:[]}}))}function Ue(e){const t={};return e.forEach((({image:e,spec:n})=>{e&&(t[n]=ze(e))})),t}const He=(0,a.Z)({useGraphQLAdapter:function({pinId:e}){var t,n,i,a,o;const r=null===(t=(0,Ne.useLazyLoadQuery)(Me,{pinId:e}).v3GetPinQuery)||void 0===t?void 0:t.data;return r?{pin:{id:null!==(n=r.entityId)&&void 0!==n?n:"",dominant_color:null!==(i=r.dominantColor)&&void 0!==i?i:"",visual_objects:null!==(_=r.visualObjects,a=null==_?void 0:_.map((e=>{var t,n,i,a,o,r,s,l,c,d,u,p,h,m;return{detection:null!==(t=e.detection)&&void 0!==t&&t,h:null!==(n=e.h)&&void 0!==n?n:0,index:null!==(i=e.index)&&void 0!==i?i:0,is_stela:null!==(a=e.isStela)&&void 0!==a&&a,label:null!==(o=e.label)&&void 0!==o?o:"",label_id:null!==(r=e.labelId)&&void 0!==r?r:0,label_x:null!==(s=e.labelX)&&void 0!==s?s:0,label_y:null!==(l=e.labelY)&&void 0!==l?l:0,max_annotation_num_documents:null!==(c=e.maxAnnotationNumDocuments)&&void 0!==c?c:0,score:null!==(d=e.score)&&void 0!==d?d:0,show_on_closeup:null!==(u=e.showOnCloseup)&&void 0!==u&&u,w:null!==(p=e.x)&&void 0!==p?p:0,x:null!==(h=e.w)&&void 0!==h?h:0,y:null!==(m=e.y)&&void 0!==m?m:0}})))&&void 0!==a?a:[],images:null!==(o=Ue([{image:r.imageOrig,spec:"orig"},{image:r.image736x,spec:"736x"},{image:r.image564x,spec:"564x"},{image:r.image474x,spec:"474x"},{image:r.image236x,spec:"236x"}]))&&void 0!==o?o:{},rich_metadata:(h=r.richMetadata,{products:null!==(m=Be(null==h?void 0:h.products))&&void 0!==m?m:[]}),rich_summary:(u=r.richSummary,{products:null!==(p=Be(null==u?void 0:u.products))&&void 0!==p?p:[]}),carousel_data:(s=r.carouselData,{carousel_slots:null!==(d=null==s?void 0:s.carouselSlots,l=null==d?void 0:d.map((e=>{var t,n;return{image_signature:null!==(t=e.imageSignature)&&void 0!==t?t:"",images:null!==(n=Ue([{image:e.imageOrig,spec:"orig"},{image:e.image736x,spec:"736x"},{image:e.image564x,spec:"564x"},{image:e.image474x,spec:"474x"},{image:e.image236x,spec:"236x"}]))&&void 0!==n?n:{}}})))&&void 0!==l?l:[],index:null!==(c=null==s?void 0:s.index)&&void 0!==c?c:0}),type:"pin"}}:null;var s,l,c,d,u,p,h,m,_},useLegacyAdapter:function({pinId:e}){const{data:t}=(0,Oe.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0}}),n=(0,Fe.S6)()(e),i=null!=t?t:n;return i?{pin:i}:null}});function Ve(){const{checkExperiment:e}=(0,Le.F)(),t=(0,f.ZP)(),n=(0,xe.useRouteMatch)(),{pinId:i}=(0,h.Z)(n.params.id||"");return(0,b.jsx)(He,{input:e("mweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:{pinId:i},suspense:{fallback:(0,b.jsx)(k.$j,{accessibilityLabel:t._('Loading Pin data', 'mobileFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:{pinId:i}},children:({data:e})=>!!e&&(0,b.jsx)(De.Z,{constraints:["VisualSearchFeedLoaded"],surface:"flashlight",children:(0,b.jsx)(je,{pin:e.pin})})})}var $e=n(23086),Ke=n(247568),Ge=n(975540),We=n(94047),qe=n(297852);let Ye=0,Je="";function Xe(e){const{images:t,image_signature:n}=e,i=(null==t?void 0:t["564x"])&&t.orig,{url:a}=null!=i?i:{};let{width:o,height:r}=null!=i?i:{};return"number"==typeof o&&"number"==typeof r&&o>564&&(r*=564/o,o=564),{width:o,height:r,url:a,imageSignature:n}}function Qe({initialCropArea:e,pin:t}){var n,i,a,o;let r;if(e)r={...e};else{const{visual_objects:e}=t,{width:n=1,height:i=1}=Xe(t);if(e&&e.length){const{x:t,y:a,w:o,h:s}=e[0];r=(0,L.Z)({cropArea:{x:t,y:a,w:o,h:s},scaledWidth:n,scaledHeight:i})}else{const[e,t]=[n/6,i/6],[a,o]=[n-2*e,i-2*t];r={x:e,y:t,w:a,h:o}}}return{x:Math.floor(null!==(n=r.x)&&void 0!==n?n:0),y:Math.floor(null!==(i=r.y)&&void 0!==i?i:0),w:Math.floor(null!==(a=r.w)&&void 0!==a?a:0),h:Math.floor(null!==(o=r.h)&&void 0!==o?o:0)}}function et({pinResponse:e}){var t,n,i;const a=(0,f.ZP)(),{isRTL:r}=(0,Q.B)(),s=(0,D.Z)(),l=(0,xe.useHistory)(),c=(0,xe.useLocation)(),d=(0,xe.useRouteMatch)(),u=(0,o.useRef)(),{pin:p,isLoaded:m}=e,{pinId:_}=(0,h.Z)(d.params.id||""),g=(0,J.mB)(c.search),v=parseInt(g.x,10),y=parseInt(g.y,10),x=parseInt(g.w,10),w=parseInt(g.h,10),S=function(...e){return e.every(Number.isInteger)}(v,y,x,w)?{x:v,y,w:x,h:w}:void 0,P=function(e){const t=parseInt(e,10);switch(t){case 1:case 2:case 3:case 4:case 5:case 6:return t;default:return}}(g.cropSource);if((0,R.Z)((()=>{if(!S&&p){const e=Qe({initialCropArea:S,pin:p}),t=(0,qe.Z)({cropArea:e,pinId:_});l.replace(t)}s({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:_}}),(0,X.My)("unauth.flashlight_page")})),(0,o.useEffect)((()=>(u.current&&Je===_&&(u.current.scrollTop=Ye),()=>{u.current&&(Ye=u.current.scrollTop,Je=_)}))),!m)return(0,b.jsx)(de.Z,{view:72,objectId:"",children:(0,b.jsx)(k.xu,{children:(0,b.jsx)(k.$j,{accessibilityLabel:a._('Loading visual search...', 'Accessibility label for loading visual search page', 'Accessibility label for loading visual search page'),show:!0})})});if(!p)return null;const{width:T,height:I,url:A}=Xe(p),C=Qe({initialCropArea:S,pin:p}),E=!(c.state&&c.state.internalNavigation),j=(null!=T?T:1)+24,O={pin_id:_,image_signature:p.image_signature,crop:(0,Ge.Z)({cropArea:C,scaledWidth:T,scaledHeight:I}),crop_source:P||5};return(0,b.jsx)(de.Z,{view:72,objectId:"",children:(0,b.jsxs)(k.xu,{display:"flex",paddingX:12,children:[(0,b.jsxs)(k.xu,{height:"calc(100% - 80px)",marginEnd:3,marginStart:3,overflow:"scroll",position:"fixed",ref:u,zIndex:new k.Ry(600),children:[(0,b.jsx)(k.xu,{"data-test-id":"flashlight-enabled-image",dangerouslySetInlineStyle:{__style:{width:T,height:I}},children:(0,b.jsxs)(k.zd,{height:I,rounding:2,width:T,children:[(0,b.jsx)(k.Ee,{alt:null!==(t=p.description)&&void 0!==t?t:"",naturalHeight:null!=I?I:1,naturalWidth:null!=T?T:1,src:null!=A?A:""}),(0,b.jsx)(Ke.Z,{showAnimation:E,imageSignature:p.image_signature,imageSize:{h:I,w:T},initialCropArea:C,onChange:function({origCrop:e,cropSource:t}){const n=window.location.pathname+window.location.search,i=(0,qe.Z)({cropArea:e,pinId:_,cropSource:t});(0,X.My)("unauth.flashlight_page.cropper_changed"),i!==n&&_&&l.replace({pathname:`/pin/${_}/visual-search/`,search:(0,We.Z)({cropArea:e,cropSource:t}),state:{internalNavigation:!0}})},pin:p,spotlightAreas:null!==(n=p.visual_objects)&&void 0!==n?n:[]})]})}),(0,b.jsx)(k.xu,{position:"relative","data-test-id":"closeupDescription",display:"flex",direction:"column",maxWidth:null!=T?T:1,margin:5,children:(0,b.jsx)($e.Z,{pin:p,pageType:{isAuth:!1,page:"flashlight"},viewportSize:"narrow"})})]}),(0,b.jsxs)(k.xu,{position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:r?{marginRight:`${j}px`}:{marginLeft:`${j}px`}},children:[(0,b.jsx)(k.xu,{width:"100%",paddingY:3,paddingX:9,display:"flex",alignItems:"center",children:(0,b.jsx)(k.xu,{flex:"grow",children:(0,b.jsx)(k.xv,{align:"center",weight:"bold",children:(0,b.jsx)("span",{className:"deprecatedTextSizeXL",children:a._('Visually similar results', 'Header explaining results of flashlight search', 'Header explaining results of flashlight search')})})})}),(0,b.jsx)(fe.ZP,{resourceConfig:{name:"VisualLiveSearchResource",options:O},feedItemProps:{imageOnly:!0,viewParameter:3050,viewType:72},feedKey:null!==(i=(0,_e.J)("VisualLiveSearchResource",O))&&void 0!==i?i:"",trafficSource:"flashlight"})]})]})})}var tt;const nt=void 0!==tt?tt:tt=n(535994);function it(e){const t=[];return e.forEach((({additionalImagesSpec:e,spec:n})=>{var i;t.push(...null!==(i=function({additionalImagesSpec:e,spec:t}){return null==e?void 0:e.map((e=>{var n,i,a,o,r,s,l;return{canonical_images:{[t]:{height:null!==(n=null===(i=e.canonicalImage)||void 0===i?void 0:i.height)&&void 0!==n?n:0,url:null!==(a=null===(o=e.canonicalImage)||void 0===o?void 0:o.url)&&void 0!==a?a:"",width:null!==(r=null===(s=e.canonicalImage)||void 0===s?void 0:s.width)&&void 0!==r?r:0}},image_signature:null!==(l=e.imageSignature)&&void 0!==l?l:""}}))}({additionalImagesSpec:e,spec:n}))&&void 0!==i?i:[])})),t}function at(e){return null==e?void 0:e.map((e=>{var t,n,i,a,o,r,s,l;return{name:null!==(t=e.name)&&void 0!==t?t:"",offer_summary:{in_stock:null!==(n=null===(i=e.offerSummary)||void 0===i?void 0:i.inStock)&&void 0!==n&&n},additional_images:null!==(a=it([{additionalImagesSpec:e.additionalImageOrig,spec:"orig"},{additionalImagesSpec:e.additionalImage736x,spec:"736x"},{additionalImagesSpec:e.additionalImage564x,spec:"564x"},{additionalImagesSpec:e.additionalImage474x,spec:"474x"},{additionalImagesSpec:e.additionalImage236x,spec:"236x"}]))&&void 0!==a?a:[],variant_set:null!==(r=e.variantSet,o={variants:null!==(l=null==r?void 0:r.variants,s=null==l?void 0:l.map((e=>{var t,n;return{additional_images:null!==(n=e.additionalImages,t=null==n?void 0:n.map((e=>{var t,n;return{canonical_images:null!==(t=e.canonicalImages)&&void 0!==t?t:{},image_signature:null!==(n=e.imageSignature)&&void 0!==n?n:""}})))&&void 0!==t?t:[]}})))&&void 0!==s?s:[]})&&void 0!==o?o:{}}}))}function ot(e){const t={};return e.forEach((e=>{const{image:n,spec:i}=e;n&&(t[i]=function(e){var t,n,i,a,o;return{width:null!==(t=e.width)&&void 0!==t?t:0,url:null!==(n=e.url)&&void 0!==n?n:"",type:null!==(i=e.type)&&void 0!==i?i:"",height:null!==(a=e.height)&&void 0!==a?a:0,dominant_color:null!==(o=e.dominantColor)&&void 0!==o?o:""}}(n))})),t}function rt(e){var t,n;return{username:null!==(t=null==e?void 0:e.username)&&void 0!==t?t:"",full_name:null!==(n=null==e?void 0:e.fullName)&&void 0!==n?n:"",image_medium_url:null==e?void 0:e.imageMediumUrl,image_small_url:null==e?void 0:e.imageSmallUrl}}function st(e){var t,n,i;return{id:null!==(t=null==e?void 0:e.entityId)&&void 0!==t?t:"",username:null!==(n=null==e?void 0:e.username)&&void 0!==n?n:"",full_name:null!==(i=null==e?void 0:e.fullName)&&void 0!==i?i:"",image_medium_url:null==e?void 0:e.imageMediumUrl,image_small_url:null==e?void 0:e.imageSmallUrl,type:"user"}}const lt=(0,a.Z)({useGraphQLAdapter:function({pinId:e}){var t,n,i,a,o,r,s,l,c,d,u,p,h,m,_,g,v;const y=null===(t=(0,Ne.useLazyLoadQuery)(nt,{pinId:e}).v3GetPinQuery)||void 0===t?void 0:t.data;return y?{pin:{id:null!==(n=y.entityId)&&void 0!==n?n:"",is_eligible_for_related_products:null!==(i=y.isEligibleForRelatedProducts)&&void 0!==i&&i,description:null!==(a=y.description)&&void 0!==a?a:"",image_signature:null!==(o=y.imageSignature)&&void 0!==o?o:"",images:null!==(r=ot([{image:y.imageOrig,spec:"orig"},{image:y.image736x,spec:"736x"},{image:y.image564x,spec:"564x"},{image:y.image474x,spec:"474x"},{image:y.image236x,spec:"236x"}]))&&void 0!==r?r:{},rich_metadata:(E=y.richMetadata,{products:null!==(j=at(null==E?void 0:E.products))&&void 0!==j?j:[],description:null!==(R=null==E?void 0:E.description)&&void 0!==R?R:"",title:null!==(D=null==E?void 0:E.title)&&void 0!==D?D:"",recipe:null!==(z=null==E?void 0:E.recipe,O={name:null!==(Z=null==z?void 0:z.name)&&void 0!==Z?Z:"",from_aggregated_data:null!==(B=null==z?void 0:z.fromAggregatedData)&&void 0!==B&&B,categorized_ingredients:null==z||null===(U=z.categorizedIngredients)||void 0===U?void 0:U.map((e=>{var t;return{category:null!==(t=e.category)&&void 0!==t?t:""}}))})&&void 0!==O?O:{},article:{date_published:null!==(L=null==E||null===(F=E.article)||void 0===F?void 0:F.datePublished)&&void 0!==L?L:""},tutorial:{id:null!==(N=null==E||null===(M=E.tutorial)||void 0===M?void 0:M.name)&&void 0!==N?N:"",type:"makecardtutorialmetadata"}}),rich_summary:(I=y.richSummary,{products:null!==(A=at(null==I?void 0:I.products))&&void 0!==A?A:[],display_name:null!==(C=null==I?void 0:I.displayName)&&void 0!==C?C:""}),visual_objects:null!==(k=y.visualObjects,s=null==k?void 0:k.map((e=>{var t,n,i,a,o,r,s,l,c,d,u,p,h,m;return{detection:null!==(t=e.detection)&&void 0!==t&&t,h:null!==(n=e.h)&&void 0!==n?n:0,index:null!==(i=e.index)&&void 0!==i?i:0,is_stela:null!==(a=e.isStela)&&void 0!==a&&a,label:null!==(o=e.label)&&void 0!==o?o:"",label_id:null!==(r=e.labelId)&&void 0!==r?r:0,label_x:null!==(s=e.labelX)&&void 0!==s?s:0,label_y:null!==(l=e.labelY)&&void 0!==l?l:0,max_annotation_num_documents:null!==(c=e.maxAnnotationNumDocuments)&&void 0!==c?c:0,score:null!==(d=e.score)&&void 0!==d?d:0,show_on_closeup:null!==(u=e.showOnCloseup)&&void 0!==u&&u,w:null!==(p=e.x)&&void 0!==p?p:0,x:null!==(h=e.w)&&void 0!==h?h:0,y:null!==(m=e.y)&&void 0!==m?m:0}})))&&void 0!==s?s:[],closeup_unified_description:y.closeupUnifiedDescription,grid_title:null!==(l=y.gridTitle)&&void 0!==l?l:"",story_pin_data_id:y.storyPinDataId,repin_count:null!==(c=y.repinCount)&&void 0!==c?c:0,tracked_link:y.trackedLink,link:y.link,domain:null!==(d=y.domain)&&void 0!==d?d:"",closeup_attribution:rt(y.closeupAttribution),link_domain:{official_user:rt(null===(u=y.linkDomain)||void 0===u?void 0:u.officialUser)},native_creator:st(y.nativeCreator),pinner:st(y.pinner),origin_pinner:st(y.originPinner),board:(b=y.board,{id:null!==(x=null==b?void 0:b.entityId)&&void 0!==x?x:"",image_thumbnail_url:null!==(w=null==b?void 0:b.imageThumbnailUrl)&&void 0!==w?w:"",name:null!==(S=null==b?void 0:b.name)&&void 0!==S?S:"",privacy:(T=null==b?void 0:b.privacy,"protected"===T||"public"===T||"secret"===T?T:"secret"),url:null!==(P=null==b?void 0:b.url)&&void 0!==P?P:"",type:"board"}),pin_join:{annotations_with_links_array:null!==(f=null===(h=y.pinJoin)||void 0===h?void 0:h.annotationsWithLinksArray,p=null==f?void 0:f.map((e=>({name:e.name,url:e.url}))))&&void 0!==p?p:[],visual_annotation:null!==(m=null===(_=y.pinJoin)||void 0===_?void 0:_.visualAnnotation)&&void 0!==m?m:[]},story_pin_data:{metadata:{pin_title:null===(g=y.storyPinData)||void 0===g||null===(v=g.metadata)||void 0===v?void 0:v.pinTitle}},type:"pin"},isLoaded:!0}:null;var f,b,x,w,S,P,T,k,I,A,C,E,j,R,D,O,L,F,N,M,z,Z,B,U},useLegacyAdapter:function({pinId:e}){const{data:t,isLoaded:n}=(0,Oe.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0}});return{pin:t,isLoaded:n}}});function ct(){const{checkExperiment:e}=(0,Le.F)(),t=(0,f.ZP)(),n=(0,xe.useRouteMatch)(),{pinId:i}=(0,h.Z)(n.params.id||"");return(0,b.jsx)(lt,{input:e("web_graphql_flashlight_unauth_pinResource").anyEnabled?{enabled:!0,data:{pinId:i},suspense:{fallback:(0,b.jsx)(k.$j,{accessibilityLabel:t._('Loading Pin data', 'unauthDesktopFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:{pinId:i}},children:({data:e})=>!!e&&(0,b.jsx)(et,{pinResponse:e})})}var dt=n(50286);const ut=function(){const e=(0,dt.HG)(),t=(0,ue.Z)();return e?t.isAuth?(0,b.jsx)(i.ZP,{}):(0,b.jsx)(ct,{}):(0,b.jsx)(Ve,{})}},395164:(e,t,n)=>{n.d(t,{T:()=>s,Z:()=>l});var i=n(635240),a=n(226198),o=n(314880);const r=[];function s(e){let t;try{t=JSON.stringify({errorObj:e})}catch(c){t=JSON.stringify({errorObj:{message:e.message,name:"logToServer stringify exception"}})}const n=(s={report_context:JSON.stringify({current_url:window.location.href,client_version:(0,i.Z)()}),report_data:t},Object.keys(s).map((e=>e+"="+encodeURIComponent(s[e]))).join("&"));var s;const l=window.btoa(n);if(-1===r.indexOf(l)){const e=new XMLHttpRequest;e.open("post","/_/_/logClientError/",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded");const t=(0,o.H)();t&&e.setRequestHeader("X-Pinterest-PWS-Handler",t),e.setRequestHeader("X-CSRFToken",function(e){const t=("; "+document.cookie).split("; "+e.name+"=");return 2===t.length?t.pop().split(";").shift():""}(a.fS)),e.send(n),r.push(l)}r.length>100&&r.shift()}function l(){window.addEventListener("error",(e=>{const t=e.error||{};s({extraData:t.extraData,name:t.name,message:t.message||e.message,stack:t.stack,filename:e.filename,line:e.lineno,column:e.colno})})),window.addEventListener("unhandledrejection",(e=>{var t,n,i,a,o;if(!(e&&e.reason&&e.reason instanceof Error))return;const{reason:r}=e,l="string"==typeof r.message?r.message:String(r);s({name:null!==(t=r.name)&&void 0!==t?t:"unhandledrejection",message:l,message_detail:r.message_detail,original_message:r.original_message,stack:r.stack,filename:r.fileName,line:null!==(n=null!==(i=r.lineno)&&void 0!==i?i:r.line)&&void 0!==n?n:r.lineNumber,column:null!==(a=null!==(o=r.column)&&void 0!==o?o:r.colno)&&void 0!==a?a:r.columnNumber})}))}},314880:(e,t,n)=>{n.d(t,{H:()=>a,V:()=>o});let i=null;function a(){return i}function o(e){i=e}},610977:(e,t,n)=>{n.d(t,{DC:()=>o,dV:()=>i,gD:()=>a,go:()=>r});const i="__PWS_ROOT__",a="__PWS_DATA__",o="__PWS_ERROR__",r="__GRAPHQL_DATA__"},635240:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(610977);let a="";function o(){return function(){if(a.length>0)return a;{const e=document.getElementById(i.gD);if(!e)throw new Error(`Unable to retrieve appVersion because #${i.gD} was not found in the DOM.`);const t=e.textContent.indexOf('"appVersion"');if(t>-1){const n=t+14,i=t+21;return a=e.textContent.slice(n,i),a}throw new Error("Unable to retrieve appVersion because appVersion property was not found in PWS DATA.")}}()}},464228:(e,t,n)=>{n.d(t,{P:()=>o,Z:()=>r});var i=n(667294);const a=(0,i.createContext)();function o(){return(0,i.useContext)(a)}const r=a},497326:(e,t,n)=>{function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>i})},487462:(e,t,n)=>{function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}n.d(t,{Z:()=>i})},875068:(e,t,n)=>{function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}n.d(t,{Z:()=>a})},263366:(e,t,n)=>{function i(e,t){if(null==e)return{};var n,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,{Z:()=>i})}},e=>{e.O(0,[14865],(()=>{[97270,76030,46760,92982,46457,50192,58209,48035,10966,27021,5035,81165,43473,22347,22538,1593].map(e.E)}),5);e.O(0,[97270,83119,67631,76030,87333,46268,20891,52599],(()=>{return t=269458,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/visual-search-5b74c994b594445b.mjs.map